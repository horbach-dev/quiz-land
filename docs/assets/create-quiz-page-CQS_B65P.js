import{c as bt,R as y,a as dn,u as As,b as Ds,n as Rs,d as Jt,r as p,e as Ns,j as g,f as Te,g as gt,B as Ze,h as Fs,P as Is}from"./index-DofL-0K6.js";import{T as wr}from"./trash-2-CZwB1dg_.js";import{V as js}from"./index-A1XhQfxH.js";import{S as Ms}from"./SectionHeader-BznstAAO.js";const Vs=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Os=bt("badge-plus",Vs);const Ts=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],Ls=bt("file-plus-corner",Ts);const zs=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Ps=bt("file-plus",zs);const Bs=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],$s=bt("images",Bs);const Us=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],qs=bt("redo-2",Us);const Hs=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ws=bt("square-check-big",Hs);const Gs=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Ys=bt("undo-2",Gs);var Zt=e=>e.type==="checkbox",mt=e=>e instanceof Date,Ce=e=>e==null;const ao=e=>typeof e=="object";var ae=e=>!Ce(e)&&!Array.isArray(e)&&ao(e)&&!mt(e),lo=e=>ae(e)&&e.target?Zt(e.target)?e.target.checked:e.target.value:e,Qs=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,co=(e,r)=>e.has(Qs(r)),Xs=e=>{const r=e.constructor&&e.constructor.prototype;return ae(r)&&r.hasOwnProperty("isPrototypeOf")},fn=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ne(e){let r;const t=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(fn&&(e instanceof Blob||n))&&(t||ae(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Xs(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=ne(e[o]));else return e;return r}var _r=e=>/^\w*$/.test(e),re=e=>e===void 0,Cr=e=>Array.isArray(e)?e.filter(Boolean):[],gn=e=>Cr(e.replace(/["|']|\]/g,"").split(/\.|\[/)),N=(e,r,t)=>{if(!r||!ae(e))return t;const n=(_r(r)?[r]:gn(r)).reduce((o,s)=>Ce(o)?o:o[s],e);return re(n)||n===e?re(e[r])?t:e[r]:n},Fe=e=>typeof e=="boolean",ee=(e,r,t)=>{let n=-1;const o=_r(r)?[r]:gn(r),s=o.length,i=s-1;for(;++n<s;){const a=o[n];let l=t;if(n!==i){const c=e[a];l=ae(c)||Array.isArray(c)?c:isNaN(+o[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const fr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Oe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ke={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uo=y.createContext(null);uo.displayName="HookFormContext";const kr=()=>y.useContext(uo);var fo=(e,r,t,n=!0)=>{const o={defaultValues:r._defaultValues};for(const s in e)Object.defineProperty(o,s,{get:()=>{const i=s;return r._proxyFormState[i]!==Oe.all&&(r._proxyFormState[i]=!n||Oe.all),t&&(t[i]=!0),e[i]}});return o};const Sr=typeof window<"u"?y.useLayoutEffect:y.useEffect;function Ks(e){const r=kr(),{control:t=r.control,disabled:n,name:o,exact:s}=e||{},[i,a]=y.useState(t._formState),l=y.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Sr(()=>t._subscribe({name:o,formState:l.current,exact:s,callback:c=>{!n&&a({...t._formState,...c})}}),[o,n,s]),y.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),y.useMemo(()=>fo(i,t,l.current,!1),[i,t])}var Ie=e=>typeof e=="string",Jr=(e,r,t,n,o)=>Ie(e)?(n&&r.watch.add(e),N(t,e,o)):Array.isArray(e)?e.map(s=>(n&&r.watch.add(s),N(t,s))):(n&&(r.watchAll=!0),t),Zr=e=>Ce(e)||!ao(e);function Pe(e,r,t=new WeakSet){if(Zr(e)||Zr(r))return Object.is(e,r);if(mt(e)&&mt(r))return e.getTime()===r.getTime();const n=Object.keys(e),o=Object.keys(r);if(n.length!==o.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const s of n){const i=e[s];if(!o.includes(s))return!1;if(s!=="ref"){const a=r[s];if(mt(i)&&mt(a)||ae(i)&&ae(a)||Array.isArray(i)&&Array.isArray(a)?!Pe(i,a,t):!Object.is(i,a))return!1}}return!0}function Js(e){const r=kr(),{control:t=r.control,name:n,defaultValue:o,disabled:s,exact:i,compute:a}=e||{},l=y.useRef(o),c=y.useRef(a),f=y.useRef(void 0),d=y.useRef(t),h=y.useRef(n);c.current=a;const[x,E]=y.useState(()=>{const b=t._getWatch(n,l.current);return c.current?c.current(b):b}),_=y.useCallback(b=>{const w=Jr(n,t._names,b||t._formValues,!1,l.current);return c.current?c.current(w):w},[t._formValues,t._names,n]),C=y.useCallback(b=>{if(!s){const w=Jr(n,t._names,b||t._formValues,!1,l.current);if(c.current){const A=c.current(w);Pe(A,f.current)||(E(A),f.current=A)}else E(w)}},[t._formValues,t._names,s,n]);Sr(()=>((d.current!==t||!Pe(h.current,n))&&(d.current=t,h.current=n,C()),t._subscribe({name:n,formState:{values:!0},exact:i,callback:b=>{C(b.values)}})),[t,i,n,C]),y.useEffect(()=>t._removeUnmounted());const j=d.current!==t,D=h.current,M=y.useMemo(()=>{if(s)return null;const b=!j&&!Pe(D,n);return j||b?_():null},[s,j,n,D,_]);return M!==null?M:x}function Zs(e){const r=kr(),{name:t,disabled:n,control:o=r.control,shouldUnregister:s,defaultValue:i,exact:a=!0}=e,l=co(o._names.array,t),c=y.useMemo(()=>N(o._formValues,t,N(o._defaultValues,t,i)),[o,t,i]),f=Js({control:o,name:t,defaultValue:c,exact:a}),d=Ks({control:o,name:t,exact:a}),h=y.useRef(e),x=y.useRef(void 0),E=y.useRef(o.register(t,{...e.rules,value:f,...Fe(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const _=y.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!N(d.errors,t)},isDirty:{enumerable:!0,get:()=>!!N(d.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!N(d.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!N(d.validatingFields,t)},error:{enumerable:!0,get:()=>N(d.errors,t)}}),[d,t]),C=y.useCallback(b=>E.current.onChange({target:{value:lo(b),name:t},type:fr.CHANGE}),[t]),j=y.useCallback(()=>E.current.onBlur({target:{value:N(o._formValues,t),name:t},type:fr.BLUR}),[t,o._formValues]),D=y.useCallback(b=>{const w=N(o._fields,t);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:A=>b.setCustomValidity(A),reportValidity:()=>b.reportValidity()})},[o._fields,t]),M=y.useMemo(()=>({name:t,value:f,...Fe(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:C,onBlur:j,ref:D}),[t,n,d.disabled,C,j,D,f]);return y.useEffect(()=>{const b=o._options.shouldUnregister||s,w=x.current;w&&w!==t&&!l&&o.unregister(w),o.register(t,{...h.current.rules,...Fe(h.current.disabled)?{disabled:h.current.disabled}:{}});const A=(F,k)=>{const z=N(o._fields,F);z&&z._f&&(z._f.mount=k)};if(A(t,!0),b){const F=ne(N(o._options.defaultValues,t,h.current.defaultValue));ee(o._defaultValues,t,F),re(N(o._formValues,t))&&ee(o._formValues,t,F)}return!l&&o.register(t),x.current=t,()=>{(l?b&&!o._state.action:b)?o.unregister(t):A(t,!1)}},[t,o,l,s]),y.useEffect(()=>{o._setDisabledField({disabled:n,name:t})},[n,t,o]),y.useMemo(()=>({field:M,formState:d,fieldState:_}),[M,d,_])}const ei=e=>e.render(Zs(e));var ti=(e,r,t,n,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:o||!0}}:{},ke=e=>Array.isArray(e)?e:[e],En=()=>{let e=[];return{get observers(){return e},next:o=>{for(const s of e)s.next&&s.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(s=>s!==o)}}),unsubscribe:()=>{e=[]}}};function go(e,r){const t={};for(const n in e)if(e.hasOwnProperty(n)){const o=e[n],s=r[n];if(o&&ae(o)&&s){const i=go(o,s);ae(i)&&(t[n]=i)}else e[n]&&(t[n]=s)}return t}var xe=e=>ae(e)&&!Object.keys(e).length,mn=e=>e.type==="file",Be=e=>typeof e=="function",gr=e=>{if(!fn)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},mo=e=>e.type==="select-multiple",pn=e=>e.type==="radio",ri=e=>pn(e)||Zt(e),Mr=e=>gr(e)&&e.isConnected;function ni(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=re(e)?n++:e[r[n++]];return e}function oi(e){for(const r in e)if(e.hasOwnProperty(r)&&!re(e[r]))return!1;return!0}function se(e,r){const t=Array.isArray(r)?r:_r(r)?[r]:gn(r),n=t.length===1?e:ni(e,t),o=t.length-1,s=t[o];return n&&delete n[s],o!==0&&(ae(n)&&xe(n)||Array.isArray(n)&&oi(n))&&se(e,t.slice(0,-1)),e}var si=e=>{for(const r in e)if(Be(e[r]))return!0;return!1};function po(e){return Array.isArray(e)||ae(e)&&!si(e)}function en(e,r={}){for(const t in e){const n=e[t];po(n)?(r[t]=Array.isArray(n)?[]:{},en(n,r[t])):re(n)||(r[t]=!0)}return r}function Ct(e,r,t){t||(t=en(r));for(const n in e){const o=e[n];if(po(o))re(r)||Zr(t[n])?t[n]=en(o,Array.isArray(o)?[]:{}):Ct(o,Ce(r)?{}:r[n],t[n]);else{const s=r[n];t[n]=!Pe(o,s)}}return t}const An={value:!1,isValid:!1},Dn={value:!0,isValid:!0};var ho=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!re(e[0].attributes.value)?re(e[0].value)||e[0].value===""?Dn:{value:e[0].value,isValid:!0}:Dn:An}return An},vo=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>re(e)?e:r?e===""?NaN:e&&+e:t&&Ie(e)?new Date(e):n?n(e):e;const Rn={isValid:!1,value:null};var bo=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Rn):Rn;function Nn(e){const r=e.ref;return mn(r)?r.files:pn(r)?bo(e.refs).value:mo(r)?[...r.selectedOptions].map(({value:t})=>t):Zt(r)?ho(e.refs).value:vo(re(r.value)?e.ref.value:r.value,e)}var ii=(e,r,t,n)=>{const o={};for(const s of e){const i=N(r,s);i&&ee(o,s,i._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:n}},mr=e=>e instanceof RegExp,Bt=e=>re(e)?e:mr(e)?e.source:ae(e)?mr(e.value)?e.value.source:e.value:e,kt=e=>({isOnSubmit:!e||e===Oe.onSubmit,isOnBlur:e===Oe.onBlur,isOnChange:e===Oe.onChange,isOnAll:e===Oe.all,isOnTouch:e===Oe.onTouched});const Fn="AsyncFunction";var ai=e=>!!e&&!!e.validate&&!!(Be(e.validate)&&e.validate.constructor.name===Fn||ae(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===Fn)),li=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),tn=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const St=(e,r,t,n)=>{for(const o of t||Object.keys(e)){const s=N(e,o);if(s){const{_f:i,...a}=s;if(i){if(i.refs&&i.refs[0]&&r(i.refs[0],o)&&!n)return!0;if(i.ref&&r(i.ref,i.name)&&!n)return!0;if(St(a,r))break}else if(ae(a)&&St(a,r))break}}};function In(e,r,t){const n=N(e,t);if(n||_r(t))return{error:n,name:t};const o=t.split(".");for(;o.length;){const s=o.join("."),i=N(r,s),a=N(e,s);if(i&&!Array.isArray(i)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};o.pop()}return{name:t}}var ci=(e,r,t,n)=>{t(e);const{name:o,...s}=e;return xe(s)||Object.keys(s).length>=Object.keys(r).length||Object.keys(s).find(i=>r[i]===(!n||Oe.all))},ui=(e,r,t)=>!e||!r||e===r||ke(e).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n))),di=(e,r,t,n,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?n.isOnBlur:o.isOnBlur)?!e:(t?n.isOnChange:o.isOnChange)?e:!0,fi=(e,r)=>!Cr(N(e,r)).length&&se(e,r),yo=(e,r,t)=>{const n=ke(N(e,t));return ee(n,"root",r[t]),ee(e,t,n),e};function jn(e,r,t="validate"){if(Ie(e)||Array.isArray(e)&&e.every(Ie)||Fe(e)&&!e)return{type:t,message:Ie(e)?e:"",ref:r}}var wt=e=>ae(e)&&!mr(e)?e:{value:e,message:""},rn=async(e,r,t,n,o,s)=>{const{ref:i,refs:a,required:l,maxLength:c,minLength:f,min:d,max:h,pattern:x,validate:E,name:_,valueAsNumber:C,mount:j}=e._f,D=N(t,_);if(!j||r.has(_))return{};const M=a?a[0]:i,b=P=>{o&&M.reportValidity&&(M.setCustomValidity(Fe(P)?"":P||""),M.reportValidity())},w={},A=pn(i),F=Zt(i),k=A||F,z=(C||mn(i))&&re(i.value)&&re(D)||gr(i)&&i.value===""||D===""||Array.isArray(D)&&!D.length,X=ti.bind(null,_,n,w),U=(P,B,H,J=Ke.maxLength,K=Ke.minLength)=>{const Q=P?B:H;w[_]={type:P?J:K,message:Q,ref:i,...X(P?J:K,Q)}};if(s?!Array.isArray(D)||!D.length:l&&(!k&&(z||Ce(D))||Fe(D)&&!D||F&&!ho(a).isValid||A&&!bo(a).isValid)){const{value:P,message:B}=Ie(l)?{value:!!l,message:l}:wt(l);if(P&&(w[_]={type:Ke.required,message:B,ref:M,...X(Ke.required,B)},!n))return b(B),w}if(!z&&(!Ce(d)||!Ce(h))){let P,B;const H=wt(h),J=wt(d);if(!Ce(D)&&!isNaN(D)){const K=i.valueAsNumber||D&&+D;Ce(H.value)||(P=K>H.value),Ce(J.value)||(B=K<J.value)}else{const K=i.valueAsDate||new Date(D),Q=Ee=>new Date(new Date().toDateString()+" "+Ee),T=i.type=="time",le=i.type=="week";Ie(H.value)&&D&&(P=T?Q(D)>Q(H.value):le?D>H.value:K>new Date(H.value)),Ie(J.value)&&D&&(B=T?Q(D)<Q(J.value):le?D<J.value:K<new Date(J.value))}if((P||B)&&(U(!!P,H.message,J.message,Ke.max,Ke.min),!n))return b(w[_].message),w}if((c||f)&&!z&&(Ie(D)||s&&Array.isArray(D))){const P=wt(c),B=wt(f),H=!Ce(P.value)&&D.length>+P.value,J=!Ce(B.value)&&D.length<+B.value;if((H||J)&&(U(H,P.message,B.message),!n))return b(w[_].message),w}if(x&&!z&&Ie(D)){const{value:P,message:B}=wt(x);if(mr(P)&&!D.match(P)&&(w[_]={type:Ke.pattern,message:B,ref:i,...X(Ke.pattern,B)},!n))return b(B),w}if(E){if(Be(E)){const P=await E(D,t),B=jn(P,M);if(B&&(w[_]={...B,...X(Ke.validate,B.message)},!n))return b(B.message),w}else if(ae(E)){let P={};for(const B in E){if(!xe(P)&&!n)break;const H=jn(await E[B](D,t),M,B);H&&(P={...H,...X(B,H.message)},b(H.message),n&&(w[_]=P))}if(!xe(P)&&(w[_]={ref:M,...P},!n))return w}}return b(!0),w};const gi={mode:Oe.onSubmit,reValidateMode:Oe.onChange,shouldFocusError:!0};function mi(e={}){let r={...gi,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Be(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},o=ae(r.defaultValues)||ae(r.values)?ne(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:ne(o),i={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const h={array:En(),state:En()},x=r.criteriaMode===Oe.all,E=u=>m=>{clearTimeout(c),c=setTimeout(u,m)},_=async u=>{if(!r.disabled&&(f.isValid||d.isValid||u)){const m=r.resolver?xe((await F()).errors):await z(n,!0);m!==t.isValid&&h.state.next({isValid:m})}},C=(u,m)=>{!r.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((u||Array.from(a.mount)).forEach(v=>{v&&(m?ee(t.validatingFields,v,m):se(t.validatingFields,v))}),h.state.next({validatingFields:t.validatingFields,isValidating:!xe(t.validatingFields)}))},j=(u,m=[],v,I,R=!0,S=!0)=>{if(I&&v&&!r.disabled){if(i.action=!0,S&&Array.isArray(N(n,u))){const L=v(N(n,u),I.argA,I.argB);R&&ee(n,u,L)}if(S&&Array.isArray(N(t.errors,u))){const L=v(N(t.errors,u),I.argA,I.argB);R&&ee(t.errors,u,L),fi(t.errors,u)}if((f.touchedFields||d.touchedFields)&&S&&Array.isArray(N(t.touchedFields,u))){const L=v(N(t.touchedFields,u),I.argA,I.argB);R&&ee(t.touchedFields,u,L)}(f.dirtyFields||d.dirtyFields)&&(t.dirtyFields=Ct(o,s)),h.state.next({name:u,isDirty:U(u,m),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ee(s,u,m)},D=(u,m)=>{ee(t.errors,u,m),h.state.next({errors:t.errors})},M=u=>{t.errors=u,h.state.next({errors:t.errors,isValid:!1})},b=(u,m,v,I)=>{const R=N(n,u);if(R){const S=N(s,u,re(v)?N(o,u):v);re(S)||I&&I.defaultChecked||m?ee(s,u,m?S:Nn(R._f)):H(u,S),i.mount&&!i.action&&_()}},w=(u,m,v,I,R)=>{let S=!1,L=!1;const W={name:u};if(!r.disabled){if(!v||I){(f.isDirty||d.isDirty)&&(L=t.isDirty,t.isDirty=W.isDirty=U(),S=L!==W.isDirty);const Y=Pe(N(o,u),m);L=!!N(t.dirtyFields,u),Y?se(t.dirtyFields,u):ee(t.dirtyFields,u,!0),W.dirtyFields=t.dirtyFields,S=S||(f.dirtyFields||d.dirtyFields)&&L!==!Y}if(v){const Y=N(t.touchedFields,u);Y||(ee(t.touchedFields,u,v),W.touchedFields=t.touchedFields,S=S||(f.touchedFields||d.touchedFields)&&Y!==v)}S&&R&&h.state.next(W)}return S?W:{}},A=(u,m,v,I)=>{const R=N(t.errors,u),S=(f.isValid||d.isValid)&&Fe(m)&&t.isValid!==m;if(r.delayError&&v?(l=E(()=>D(u,v)),l(r.delayError)):(clearTimeout(c),l=null,v?ee(t.errors,u,v):se(t.errors,u)),(v?!Pe(R,v):R)||!xe(I)||S){const L={...I,...S&&Fe(m)?{isValid:m}:{},errors:t.errors,name:u};t={...t,...L},h.state.next(L)}},F=async u=>{C(u,!0);const m=await r.resolver(s,r.context,ii(u||a.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return C(u),m},k=async u=>{const{errors:m}=await F(u);if(u)for(const v of u){const I=N(m,v);I?ee(t.errors,v,I):se(t.errors,v)}else t.errors=m;return m},z=async(u,m,v={valid:!0})=>{for(const I in u){const R=u[I];if(R){const{_f:S,...L}=R;if(S){const W=a.array.has(S.name),Y=R._f&&ai(R._f);Y&&f.validatingFields&&C([S.name],!0);const me=await rn(R,a.disabled,s,x,r.shouldUseNativeValidation&&!m,W);if(Y&&f.validatingFields&&C([S.name]),me[S.name]&&(v.valid=!1,m))break;!m&&(N(me,S.name)?W?yo(t.errors,me,S.name):ee(t.errors,S.name,me[S.name]):se(t.errors,S.name))}!xe(L)&&await z(L,m,v)}}return v.valid},X=()=>{for(const u of a.unMount){const m=N(n,u);m&&(m._f.refs?m._f.refs.every(v=>!Mr(v)):!Mr(m._f.ref))&&te(u)}a.unMount=new Set},U=(u,m)=>!r.disabled&&(u&&m&&ee(s,u,m),!Pe(Ee(),o)),P=(u,m,v)=>Jr(u,a,{...i.mount?s:re(m)?o:Ie(u)?{[u]:m}:m},v,m),B=u=>Cr(N(i.mount?s:o,u,r.shouldUnregister?N(o,u,[]):[])),H=(u,m,v={})=>{const I=N(n,u);let R=m;if(I){const S=I._f;S&&(!S.disabled&&ee(s,u,vo(m,S)),R=gr(S.ref)&&Ce(m)?"":m,mo(S.ref)?[...S.ref.options].forEach(L=>L.selected=R.includes(L.value)):S.refs?Zt(S.ref)?S.refs.forEach(L=>{(!L.defaultChecked||!L.disabled)&&(Array.isArray(R)?L.checked=!!R.find(W=>W===L.value):L.checked=R===L.value||!!R)}):S.refs.forEach(L=>L.checked=L.value===R):mn(S.ref)?S.ref.value="":(S.ref.value=R,S.ref.type||h.state.next({name:u,values:ne(s)})))}(v.shouldDirty||v.shouldTouch)&&w(u,R,v.shouldTouch,v.shouldDirty,!0),v.shouldValidate&&le(u)},J=(u,m,v)=>{for(const I in m){if(!m.hasOwnProperty(I))return;const R=m[I],S=u+"."+I,L=N(n,S);(a.array.has(u)||ae(R)||L&&!L._f)&&!mt(R)?J(S,R,v):H(S,R,v)}},K=(u,m,v={})=>{const I=N(n,u),R=a.array.has(u),S=ne(m);ee(s,u,S),R?(h.array.next({name:u,values:ne(s)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&v.shouldDirty&&h.state.next({name:u,dirtyFields:Ct(o,s),isDirty:U(u,S)})):I&&!I._f&&!Ce(S)?J(u,S,v):H(u,S,v),tn(u,a)&&h.state.next({...t,name:u}),h.state.next({name:i.mount?u:void 0,values:ne(s)})},Q=async u=>{i.mount=!0;const m=u.target;let v=m.name,I=!0;const R=N(n,v),S=Y=>{I=Number.isNaN(Y)||mt(Y)&&isNaN(Y.getTime())||Pe(Y,N(s,v,Y))},L=kt(r.mode),W=kt(r.reValidateMode);if(R){let Y,me;const ct=m.type?Nn(R._f):lo(u),ve=u.type===fr.BLUR||u.type===fr.FOCUS_OUT,sr=!li(R._f)&&!r.resolver&&!N(t.errors,v)&&!R._f.deps||di(ve,N(t.touchedFields,v),t.isSubmitted,W,L),jt=tn(v,a,ve);ee(s,v,ct),ve?(!m||!m.readOnly)&&(R._f.onBlur&&R._f.onBlur(u),l&&l(0)):R._f.onChange&&R._f.onChange(u);const Mt=w(v,ct,ve),Vt=!xe(Mt)||jt;if(!ve&&h.state.next({name:v,type:u.type,values:ne(s)}),sr)return(f.isValid||d.isValid)&&(r.mode==="onBlur"?ve&&_():ve||_()),Vt&&h.state.next({name:v,...jt?{}:Mt});if(!ve&&jt&&h.state.next({...t}),r.resolver){const{errors:Ot}=await F([v]);if(S(ct),I){const Ir=In(t.errors,n,v),Tt=In(Ot,n,Ir.name||v);Y=Tt.error,v=Tt.name,me=xe(Ot)}}else C([v],!0),Y=(await rn(R,a.disabled,s,x,r.shouldUseNativeValidation))[v],C([v]),S(ct),I&&(Y?me=!1:(f.isValid||d.isValid)&&(me=await z(n,!0)));I&&(R._f.deps&&(!Array.isArray(R._f.deps)||R._f.deps.length>0)&&le(R._f.deps),A(v,me,Y,Mt))}},T=(u,m)=>{if(N(t.errors,m)&&u.focus)return u.focus(),1},le=async(u,m={})=>{let v,I;const R=ke(u);if(r.resolver){const S=await k(re(u)?u:R);v=xe(S),I=u?!R.some(L=>N(S,L)):v}else u?(I=(await Promise.all(R.map(async S=>{const L=N(n,S);return await z(L&&L._f?{[S]:L}:L)}))).every(Boolean),!(!I&&!t.isValid)&&_()):I=v=await z(n);return h.state.next({...!Ie(u)||(f.isValid||d.isValid)&&v!==t.isValid?{}:{name:u},...r.resolver||!u?{isValid:v}:{},errors:t.errors}),m.shouldFocus&&!I&&St(n,T,u?R:a.mount),I},Ee=(u,m)=>{let v={...i.mount?s:o};return m&&(v=go(m.dirtyFields?t.dirtyFields:t.touchedFields,v)),re(u)?v:Ie(u)?N(v,u):u.map(I=>N(v,I))},Ue=(u,m)=>({invalid:!!N((m||t).errors,u),isDirty:!!N((m||t).dirtyFields,u),error:N((m||t).errors,u),isValidating:!!N(t.validatingFields,u),isTouched:!!N((m||t).touchedFields,u)}),ie=u=>{u&&ke(u).forEach(m=>se(t.errors,m)),h.state.next({errors:u?t.errors:{}})},Z=(u,m,v)=>{const I=(N(n,u,{_f:{}})._f||{}).ref,R=N(t.errors,u)||{},{ref:S,message:L,type:W,...Y}=R;ee(t.errors,u,{...Y,...m,ref:I}),h.state.next({name:u,errors:t.errors,isValid:!1}),v&&v.shouldFocus&&I&&I.focus&&I.focus()},oe=(u,m)=>Be(u)?h.state.subscribe({next:v=>"values"in v&&u(P(void 0,m),v)}):P(u,m,!0),Ae=u=>h.state.subscribe({next:m=>{ui(u.name,m.name,u.exact)&&ci(m,u.formState||f,or,u.reRenderRoot)&&u.callback({values:{...s},...t,...m,defaultValues:o})}}).unsubscribe,he=u=>(i.mount=!0,d={...d,...u.formState},Ae({...u,formState:d})),te=(u,m={})=>{for(const v of u?ke(u):a.mount)a.mount.delete(v),a.array.delete(v),m.keepValue||(se(n,v),se(s,v)),!m.keepError&&se(t.errors,v),!m.keepDirty&&se(t.dirtyFields,v),!m.keepTouched&&se(t.touchedFields,v),!m.keepIsValidating&&se(t.validatingFields,v),!r.shouldUnregister&&!m.keepDefaultValue&&se(o,v);h.state.next({values:ne(s)}),h.state.next({...t,...m.keepDirty?{isDirty:U()}:{}}),!m.keepIsValid&&_()},we=({disabled:u,name:m})=>{(Fe(u)&&i.mount||u||a.disabled.has(m))&&(u?a.disabled.add(m):a.disabled.delete(m))},fe=(u,m={})=>{let v=N(n,u);const I=Fe(m.disabled)||Fe(r.disabled);return ee(n,u,{...v||{},_f:{...v&&v._f?v._f:{ref:{name:u}},name:u,mount:!0,...m}}),a.mount.add(u),v?we({disabled:Fe(m.disabled)?m.disabled:r.disabled,name:u}):b(u,!0,m.value),{...I?{disabled:m.disabled||r.disabled}:{},...r.progressive?{required:!!m.required,min:Bt(m.min),max:Bt(m.max),minLength:Bt(m.minLength),maxLength:Bt(m.maxLength),pattern:Bt(m.pattern)}:{},name:u,onChange:Q,onBlur:Q,ref:R=>{if(R){fe(u,m),v=N(n,u);const S=re(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,L=ri(S),W=v._f.refs||[];if(L?W.find(Y=>Y===S):S===v._f.ref)return;ee(n,u,{_f:{...v._f,...L?{refs:[...W.filter(Mr),S,...Array.isArray(N(o,u))?[{}]:[]],ref:{type:S.type,name:u}}:{ref:S}}}),b(u,!1,void 0,S)}else v=N(n,u,{}),v._f&&(v._f.mount=!1),(r.shouldUnregister||m.shouldUnregister)&&!(co(a.array,u)&&i.action)&&a.unMount.add(u)}}},q=()=>r.shouldFocusError&&St(n,T,a.mount),ze=u=>{Fe(u)&&(h.state.next({disabled:u}),St(n,(m,v)=>{const I=N(n,v);I&&(m.disabled=I._f.disabled||u,Array.isArray(I._f.refs)&&I._f.refs.forEach(R=>{R.disabled=I._f.disabled||u}))},0,!1))},ge=(u,m)=>async v=>{let I;v&&(v.preventDefault&&v.preventDefault(),v.persist&&v.persist());let R=ne(s);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:S,values:L}=await F();t.errors=S,R=ne(L)}else await z(n);if(a.disabled.size)for(const S of a.disabled)se(R,S);if(se(t.errors,"root"),xe(t.errors)){h.state.next({errors:{}});try{await u(R,v)}catch(S){I=S}}else m&&await m({...t.errors},v),q(),setTimeout(q);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xe(t.errors)&&!I,submitCount:t.submitCount+1,errors:t.errors}),I)throw I},et=(u,m={})=>{N(n,u)&&(re(m.defaultValue)?K(u,ne(N(o,u))):(K(u,m.defaultValue),ee(o,u,ne(m.defaultValue))),m.keepTouched||se(t.touchedFields,u),m.keepDirty||(se(t.dirtyFields,u),t.isDirty=m.defaultValue?U(u,ne(N(o,u))):U()),m.keepError||(se(t.errors,u),f.isValid&&_()),h.state.next({...t}))},je=(u,m={})=>{const v=u?ne(u):o,I=ne(v),R=xe(u),S=R?o:I;if(m.keepDefaultValues||(o=v),!m.keepValues){if(m.keepDirtyValues){const L=new Set([...a.mount,...Object.keys(Ct(o,s))]);for(const W of Array.from(L))N(t.dirtyFields,W)?ee(S,W,N(s,W)):K(W,N(S,W))}else{if(fn&&re(u))for(const L of a.mount){const W=N(n,L);if(W&&W._f){const Y=Array.isArray(W._f.refs)?W._f.refs[0]:W._f.ref;if(gr(Y)){const me=Y.closest("form");if(me){me.reset();break}}}}if(m.keepFieldsRef)for(const L of a.mount)K(L,N(S,L));else n={}}s=r.shouldUnregister?m.keepDefaultValues?ne(o):{}:ne(S),h.array.next({values:{...S}}),h.state.next({values:{...S}})}a={mount:m.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!m.keepIsValid||!!m.keepDirtyValues||!r.shouldUnregister&&!xe(S),i.watch=!!r.shouldUnregister,i.action=!1,m.keepErrors||(t.errors={}),h.state.next({submitCount:m.keepSubmitCount?t.submitCount:0,isDirty:R?!1:m.keepDirty?t.isDirty:!!(m.keepDefaultValues&&!Pe(u,o)),isSubmitted:m.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:R?{}:m.keepDirtyValues?m.keepDefaultValues&&s?Ct(o,s):t.dirtyFields:m.keepDefaultValues&&u?Ct(o,u):m.keepDirty?t.dirtyFields:{},touchedFields:m.keepTouched?t.touchedFields:{},errors:m.keepErrors?t.errors:{},isSubmitSuccessful:m.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Qe=(u,m)=>je(Be(u)?u(s):u,m),tt=(u,m={})=>{const v=N(n,u),I=v&&v._f;if(I){const R=I.refs?I.refs[0]:I.ref;R.focus&&(R.focus(),m.shouldSelect&&Be(R.select)&&R.select())}},or=u=>{t={...t,...u}},yt={control:{register:fe,unregister:te,getFieldState:Ue,handleSubmit:ge,setError:Z,_subscribe:Ae,_runSchema:F,_focusError:q,_getWatch:P,_getDirty:U,_setValid:_,_setFieldArray:j,_setDisabledField:we,_setErrors:M,_getFieldArray:B,_reset:je,_resetDefaultValues:()=>Be(r.defaultValues)&&r.defaultValues().then(u=>{Qe(u,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:ze,_subjects:h,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(u){i=u},get _defaultValues(){return o},get _names(){return a},set _names(u){a=u},get _formState(){return t},get _options(){return r},set _options(u){r={...r,...u}}},subscribe:he,trigger:le,register:fe,handleSubmit:ge,watch:oe,setValue:K,getValues:Ee,reset:Qe,resetField:et,clearErrors:ie,unregister:te,setError:Z,setFocus:tt,getFieldState:Ue};return{...yt,formControl:yt}}var st=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Vr=(e,r,t={})=>t.shouldFocus||re(t.shouldFocus)?t.focusName||`${e}.${re(t.focusIndex)?r:t.focusIndex}.`:"",Or=(e,r)=>[...e,...ke(r)],Tr=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Lr(e,r,t){return[...e.slice(0,r),...ke(t),...e.slice(r)]}var zr=(e,r,t)=>Array.isArray(e)?(re(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Pr=(e,r)=>[...ke(r),...ke(e)];function pi(e,r){let t=0;const n=[...e];for(const o of r)n.splice(o-t,1),t++;return Cr(n).length?n:[]}var Br=(e,r)=>re(r)?[]:pi(e,ke(r).sort((t,n)=>t-n)),$r=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]},Mn=(e,r,t)=>(e[r]=t,e);function xo(e){const r=kr(),{control:t=r.control,name:n,keyName:o="id",shouldUnregister:s,rules:i}=e,[a,l]=y.useState(t._getFieldArray(n)),c=y.useRef(t._getFieldArray(n).map(st)),f=y.useRef(!1);t._names.array.add(n),y.useMemo(()=>i&&a.length>=0&&t.register(n,i),[t,n,a.length,i]),Sr(()=>t._subjects.array.subscribe({next:({values:b,name:w})=>{if(w===n||!w){const A=N(b,n);Array.isArray(A)&&(l(A),c.current=A.map(st))}}}).unsubscribe,[t,n]);const d=y.useCallback(b=>{f.current=!0,t._setFieldArray(n,b)},[t,n]),h=(b,w)=>{const A=ke(ne(b)),F=Or(t._getFieldArray(n),A);t._names.focus=Vr(n,F.length-1,w),c.current=Or(c.current,A.map(st)),d(F),l(F),t._setFieldArray(n,F,Or,{argA:Tr(b)})},x=(b,w)=>{const A=ke(ne(b)),F=Pr(t._getFieldArray(n),A);t._names.focus=Vr(n,0,w),c.current=Pr(c.current,A.map(st)),d(F),l(F),t._setFieldArray(n,F,Pr,{argA:Tr(b)})},E=b=>{const w=Br(t._getFieldArray(n),b);c.current=Br(c.current,b),d(w),l(w),!Array.isArray(N(t._fields,n))&&ee(t._fields,n,void 0),t._setFieldArray(n,w,Br,{argA:b})},_=(b,w,A)=>{const F=ke(ne(w)),k=Lr(t._getFieldArray(n),b,F);t._names.focus=Vr(n,b,A),c.current=Lr(c.current,b,F.map(st)),d(k),l(k),t._setFieldArray(n,k,Lr,{argA:b,argB:Tr(w)})},C=(b,w)=>{const A=t._getFieldArray(n);$r(A,b,w),$r(c.current,b,w),d(A),l(A),t._setFieldArray(n,A,$r,{argA:b,argB:w},!1)},j=(b,w)=>{const A=t._getFieldArray(n);zr(A,b,w),zr(c.current,b,w),d(A),l(A),t._setFieldArray(n,A,zr,{argA:b,argB:w},!1)},D=(b,w)=>{const A=ne(w),F=Mn(t._getFieldArray(n),b,A);c.current=[...F].map((k,z)=>!k||z===b?st():c.current[z]),d(F),l([...F]),t._setFieldArray(n,F,Mn,{argA:b,argB:A},!0,!1)},M=b=>{const w=ke(ne(b));c.current=w.map(st),d([...w]),l([...w]),t._setFieldArray(n,[...w],A=>A,{},!0,!1)};return y.useEffect(()=>{if(t._state.action=!1,tn(n,t._names)&&t._subjects.state.next({...t._formState}),f.current&&(!kt(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!kt(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([n]).then(b=>{const w=N(b.errors,n),A=N(t._formState.errors,n);(A?!w&&A.type||w&&(A.type!==w.type||A.message!==w.message):w&&w.type)&&(w?ee(t._formState.errors,n,w):se(t._formState.errors,n),t._subjects.state.next({errors:t._formState.errors}))});else{const b=N(t._fields,n);b&&b._f&&!(kt(t._options.reValidateMode).isOnSubmit&&kt(t._options.mode).isOnSubmit)&&rn(b,t._names.disabled,t._formValues,t._options.criteriaMode===Oe.all,t._options.shouldUseNativeValidation,!0).then(w=>!xe(w)&&t._subjects.state.next({errors:yo(t._formState.errors,w,n)}))}t._subjects.state.next({name:n,values:ne(t._formValues)}),t._names.focus&&St(t._fields,(b,w)=>{if(t._names.focus&&w.startsWith(t._names.focus)&&b.focus)return b.focus(),1}),t._names.focus="",t._setValid(),f.current=!1},[a,n,t]),y.useEffect(()=>(!N(t._formValues,n)&&t._setFieldArray(n),()=>{const b=(w,A)=>{const F=N(t._fields,w);F&&F._f&&(F._f.mount=A)};t._options.shouldUnregister||s?t.unregister(n):b(n,!1)}),[n,t,o,s]),{swap:y.useCallback(C,[d,n,t]),move:y.useCallback(j,[d,n,t]),prepend:y.useCallback(x,[d,n,t]),append:y.useCallback(h,[d,n,t]),remove:y.useCallback(E,[d,n,t]),insert:y.useCallback(_,[d,n,t]),update:y.useCallback(D,[d,n,t]),replace:y.useCallback(M,[d,n,t]),fields:y.useMemo(()=>a.map((b,w)=>({...b,[o]:c.current[w]||st()})),[a,o])}}function hi(e={}){const r=y.useRef(void 0),t=y.useRef(void 0),[n,o]=y.useState({isDirty:!1,isValidating:!1,isLoading:Be(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Be(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:n},e.defaultValues&&!Be(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...a}=mi(e);r.current={...a,formState:n}}const s=r.current.control;return s._options=e,Sr(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>o({...s._formState}),reRenderRoot:!0});return o(a=>({...a,isReady:!0})),s._formState.isReady=!0,i},[s]),y.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),y.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),y.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),y.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),y.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),y.useEffect(()=>{var i;e.values&&!Pe(e.values,t.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((i=s._options.resetOptions)===null||i===void 0)&&i.keepIsValid||s._setValid(),t.current=e.values,o(a=>({...a}))):s._resetDefaultValues()},[s,e.values]),y.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),r.current.formState=fo(n,s),r.current}const vi=async e=>(await dn.post("/quiz",e))?.data,bi=()=>{const e=As();return Ds({mutationFn:vi,onSuccess:()=>{e.invalidateQueries({queryKey:["getQuizList",{type:"my"}]})}})},yi=()=>{const{isPending:e,isSuccess:r,mutateAsync:t}=bi(),{control:n,register:o,handleSubmit:s,setValue:i,setError:a,watch:l,getValues:c,clearErrors:f,formState:{errors:d}}=hi(),h=E=>{t({...E,limitedByTime:!1}).then(_=>{Rs(`/quiz/${_.id}`)})};return{watch:l,control:n,setValue:i,clearErrors:f,isSuccess:r,isLoading:e,register:o,onSubmit:E=>(c()?.poster||a("poster",{message:"Обязательное поле"}),s(h)(E)),errors:d,setError:a}},Vn=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,On=Jt,xi=(e,r)=>t=>{var n;if(r?.variants==null)return On(e,t?.class,t?.className);const{variants:o,defaultVariants:s}=r,i=Object.keys(o).map(c=>{const f=t?.[c],d=s?.[c];if(f===null)return null;const h=Vn(f)||Vn(d);return o[c][h]}),a=t&&Object.entries(t).reduce((c,f)=>{let[d,h]=f;return h===void 0||(c[d]=h),c},{}),l=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((c,f)=>{let{class:d,className:h,...x}=f;return Object.entries(x).every(E=>{let[_,C]=E;return Array.isArray(C)?C.includes({...s,...a}[_]):{...s,...a}[_]===C})?[...c,d,h]:c},[]);return On(e,i,l,t?.class,t?.className)};function Tn(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function wi(...e){return r=>{let t=!1;const n=e.map(o=>{const s=Tn(o,r);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():Tn(e[o],null)}}}}var _i=Symbol.for("react.lazy"),pr=Ns[" use ".trim().toString()];function Ci(e){return typeof e=="object"&&e!==null&&"then"in e}function wo(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===_i&&"_payload"in e&&Ci(e._payload)}function _o(e){const r=ki(e),t=p.forwardRef((n,o)=>{let{children:s,...i}=n;wo(s)&&typeof pr=="function"&&(s=pr(s._payload));const a=p.Children.toArray(s),l=a.find(Ei);if(l){const c=l.props.children,f=a.map(d=>d===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:d);return g.jsx(r,{...i,ref:o,children:p.isValidElement(c)?p.cloneElement(c,void 0,f):null})}return g.jsx(r,{...i,ref:o,children:s})});return t.displayName=`${e}.Slot`,t}function ki(e){const r=p.forwardRef((t,n)=>{let{children:o,...s}=t;if(wo(o)&&typeof pr=="function"&&(o=pr(o._payload)),p.isValidElement(o)){const i=Di(o),a=Ai(s,o.props);return o.type!==p.Fragment&&(a.ref=n?wi(n,i):i),p.cloneElement(o,a)}return p.Children.count(o)>1?p.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Si=Symbol("radix.slottable");function Ei(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Si}function Ai(e,r){const t={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?t[n]=(...a)=>{const l=s(...a);return o(...a),l}:o&&(t[n]=o):n==="style"?t[n]={...o,...s}:n==="className"&&(t[n]=[o,s].filter(Boolean).join(" "))}return{...e,...t}}function Di(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var Ri=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ni=Ri.reduce((e,r)=>{const t=_o(`Primitive.${r}`),n=p.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),Fi="Label",Co=p.forwardRef((e,r)=>g.jsx(Ni.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Co.displayName=Fi;var Ii=Co;const ji=(e,r)=>{const t=new Array(e.length+r.length);for(let n=0;n<e.length;n++)t[n]=e[n];for(let n=0;n<r.length;n++)t[e.length+n]=r[n];return t},Mi=(e,r)=>({classGroupId:e,validator:r}),ko=(e=new Map,r=null,t)=>({nextPart:e,validators:r,classGroupId:t}),hr="-",Ln=[],Vi="arbitrary..",Oi=e=>{const r=Li(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return Ti(i);const a=i.split(hr),l=a[0]===""&&a.length>1?1:0;return So(a,l,r)},getConflictingClassGroupIds:(i,a)=>{if(a){const l=n[i],c=t[i];return l?c?ji(c,l):l:c||Ln}return t[i]||Ln}}},So=(e,r,t)=>{if(e.length-r===0)return t.classGroupId;const o=e[r],s=t.nextPart.get(o);if(s){const c=So(e,r+1,s);if(c)return c}const i=t.validators;if(i===null)return;const a=r===0?e.join(hr):e.slice(r).join(hr),l=i.length;for(let c=0;c<l;c++){const f=i[c];if(f.validator(a))return f.classGroupId}},Ti=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=e.slice(1,-1),t=r.indexOf(":"),n=r.slice(0,t);return n?Vi+n:void 0})(),Li=e=>{const{theme:r,classGroups:t}=e;return zi(t,r)},zi=(e,r)=>{const t=ko();for(const n in e){const o=e[n];hn(o,t,n,r)}return t},hn=(e,r,t,n)=>{const o=e.length;for(let s=0;s<o;s++){const i=e[s];Pi(i,r,t,n)}},Pi=(e,r,t,n)=>{if(typeof e=="string"){Bi(e,r,t);return}if(typeof e=="function"){$i(e,r,t,n);return}Ui(e,r,t,n)},Bi=(e,r,t)=>{const n=e===""?r:Eo(r,e);n.classGroupId=t},$i=(e,r,t,n)=>{if(qi(e)){hn(e(n),r,t,n);return}r.validators===null&&(r.validators=[]),r.validators.push(Mi(t,e))},Ui=(e,r,t,n)=>{const o=Object.entries(e),s=o.length;for(let i=0;i<s;i++){const[a,l]=o[i];hn(l,Eo(r,a),t,n)}},Eo=(e,r)=>{let t=e;const n=r.split(hr),o=n.length;for(let s=0;s<o;s++){const i=n[s];let a=t.nextPart.get(i);a||(a=ko(),t.nextPart.set(i,a)),t=a}return t},qi=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Hi=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=Object.create(null),n=Object.create(null);const o=(s,i)=>{t[s]=i,r++,r>e&&(r=0,n=t,t=Object.create(null))};return{get(s){let i=t[s];if(i!==void 0)return i;if((i=n[s])!==void 0)return o(s,i),i},set(s,i){s in t?t[s]=i:o(s,i)}}},nn="!",zn=":",Wi=[],Pn=(e,r,t,n,o)=>({modifiers:e,hasImportantModifier:r,baseClassName:t,maybePostfixModifierPosition:n,isExternal:o}),Gi=e=>{const{prefix:r,experimentalParseClassName:t}=e;let n=o=>{const s=[];let i=0,a=0,l=0,c;const f=o.length;for(let _=0;_<f;_++){const C=o[_];if(i===0&&a===0){if(C===zn){s.push(o.slice(l,_)),l=_+1;continue}if(C==="/"){c=_;continue}}C==="["?i++:C==="]"?i--:C==="("?a++:C===")"&&a--}const d=s.length===0?o:o.slice(l);let h=d,x=!1;d.endsWith(nn)?(h=d.slice(0,-1),x=!0):d.startsWith(nn)&&(h=d.slice(1),x=!0);const E=c&&c>l?c-l:void 0;return Pn(s,x,h,E)};if(r){const o=r+zn,s=n;n=i=>i.startsWith(o)?s(i.slice(o.length)):Pn(Wi,!1,i,void 0,!0)}if(t){const o=n;n=s=>t({className:s,parseClassName:o})}return n},Yi=e=>{const r=new Map;return e.orderSensitiveModifiers.forEach((t,n)=>{r.set(t,1e6+n)}),t=>{const n=[];let o=[];for(let s=0;s<t.length;s++){const i=t[s],a=i[0]==="[",l=r.has(i);a||l?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(i)):o.push(i)}return o.length>0&&(o.sort(),n.push(...o)),n}},Qi=e=>({cache:Hi(e.cacheSize),parseClassName:Gi(e),sortModifiers:Yi(e),...Oi(e)}),Xi=/\s+/,Ki=(e,r)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:s}=r,i=[],a=e.trim().split(Xi);let l="";for(let c=a.length-1;c>=0;c-=1){const f=a[c],{isExternal:d,modifiers:h,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:_}=t(f);if(d){l=f+(l.length>0?" "+l:l);continue}let C=!!_,j=n(C?E.substring(0,_):E);if(!j){if(!C){l=f+(l.length>0?" "+l:l);continue}if(j=n(E),!j){l=f+(l.length>0?" "+l:l);continue}C=!1}const D=h.length===0?"":h.length===1?h[0]:s(h).join(":"),M=x?D+nn:D,b=M+j;if(i.indexOf(b)>-1)continue;i.push(b);const w=o(j,C);for(let A=0;A<w.length;++A){const F=w[A];i.push(M+F)}l=f+(l.length>0?" "+l:l)}return l},Ji=(...e)=>{let r=0,t,n,o="";for(;r<e.length;)(t=e[r++])&&(n=Ao(t))&&(o&&(o+=" "),o+=n);return o},Ao=e=>{if(typeof e=="string")return e;let r,t="";for(let n=0;n<e.length;n++)e[n]&&(r=Ao(e[n]))&&(t&&(t+=" "),t+=r);return t},Zi=(e,...r)=>{let t,n,o,s;const i=l=>{const c=r.reduce((f,d)=>d(f),e());return t=Qi(c),n=t.cache.get,o=t.cache.set,s=a,a(l)},a=l=>{const c=n(l);if(c)return c;const f=Ki(l,t);return o(l,f),f};return s=i,(...l)=>s(Ji(...l))},ea=[],ce=e=>{const r=t=>t[e]||ea;return r.isThemeGetter=!0,r},Do=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ro=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ta=/^\d+\/\d+$/,ra=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,na=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oa=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sa=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ia=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_t=e=>ta.test(e),$=e=>!!e&&!Number.isNaN(Number(e)),it=e=>!!e&&Number.isInteger(Number(e)),Ur=e=>e.endsWith("%")&&$(e.slice(0,-1)),Je=e=>ra.test(e),aa=()=>!0,la=e=>na.test(e)&&!oa.test(e),No=()=>!1,ca=e=>sa.test(e),ua=e=>ia.test(e),da=e=>!V(e)&&!O(e),fa=e=>Dt(e,jo,No),V=e=>Do.test(e),ut=e=>Dt(e,Mo,la),qr=e=>Dt(e,va,$),Bn=e=>Dt(e,Fo,No),ga=e=>Dt(e,Io,ua),ir=e=>Dt(e,Vo,ca),O=e=>Ro.test(e),$t=e=>Rt(e,Mo),ma=e=>Rt(e,ba),$n=e=>Rt(e,Fo),pa=e=>Rt(e,jo),ha=e=>Rt(e,Io),ar=e=>Rt(e,Vo,!0),Dt=(e,r,t)=>{const n=Do.exec(e);return n?n[1]?r(n[1]):t(n[2]):!1},Rt=(e,r,t=!1)=>{const n=Ro.exec(e);return n?n[1]?r(n[1]):t:!1},Fo=e=>e==="position"||e==="percentage",Io=e=>e==="image"||e==="url",jo=e=>e==="length"||e==="size"||e==="bg-size",Mo=e=>e==="length",va=e=>e==="number",ba=e=>e==="family-name",Vo=e=>e==="shadow",ya=()=>{const e=ce("color"),r=ce("font"),t=ce("text"),n=ce("font-weight"),o=ce("tracking"),s=ce("leading"),i=ce("breakpoint"),a=ce("container"),l=ce("spacing"),c=ce("radius"),f=ce("shadow"),d=ce("inset-shadow"),h=ce("text-shadow"),x=ce("drop-shadow"),E=ce("blur"),_=ce("perspective"),C=ce("aspect"),j=ce("ease"),D=ce("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),O,V],A=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],k=()=>[O,V,l],z=()=>[_t,"full","auto",...k()],X=()=>[it,"none","subgrid",O,V],U=()=>["auto",{span:["full",it,O,V]},it,O,V],P=()=>[it,"auto",O,V],B=()=>["auto","min","max","fr",O,V],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...k()],Q=()=>[_t,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],T=()=>[e,O,V],le=()=>[...b(),$n,Bn,{position:[O,V]}],Ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ue=()=>["auto","cover","contain",pa,fa,{size:[O,V]}],ie=()=>[Ur,$t,ut],Z=()=>["","none","full",c,O,V],oe=()=>["",$,$t,ut],Ae=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[$,Ur,$n,Bn],we=()=>["","none",E,O,V],fe=()=>["none",$,O,V],q=()=>["none",$,O,V],ze=()=>[$,O,V],ge=()=>[_t,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Je],breakpoint:[Je],color:[aa],container:[Je],"drop-shadow":[Je],ease:["in","out","in-out"],font:[da],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Je],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Je],shadow:[Je],spacing:["px",$],text:[Je],"text-shadow":[Je],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_t,V,O,C]}],container:["container"],columns:[{columns:[$,V,O,a]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[it,"auto",O,V]}],basis:[{basis:[_t,"full","auto",a,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$,_t,"auto","initial","none",V]}],grow:[{grow:["",$,O,V]}],shrink:[{shrink:["",$,O,V]}],order:[{order:[it,"first","last","none",O,V]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[a,"screen",...Q()]}],"min-w":[{"min-w":[a,"screen","none",...Q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",t,$t,ut]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,O,qr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ur,V]}],"font-family":[{font:[ma,V,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,O,V]}],"line-clamp":[{"line-clamp":[$,"none",O,qr]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",O,V]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",O,V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[$,"from-font","auto",O,ut]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[$,"auto",O,V]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",O,V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",O,V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:Ee()}],"bg-size":[{bg:Ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},it,O,V],radial:["",O,V],conic:[it,O,V]},ha,ga]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$,O,V]}],"outline-w":[{outline:["",$,$t,ut]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",f,ar,ir]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",d,ar,ir]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[$,ut]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",h,ar,ir]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[$,O,V]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[O,V]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[$]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:Ee()}],"mask-size":[{mask:Ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",O,V]}],filter:[{filter:["","none",O,V]}],blur:[{blur:we()}],brightness:[{brightness:[$,O,V]}],contrast:[{contrast:[$,O,V]}],"drop-shadow":[{"drop-shadow":["","none",x,ar,ir]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",$,O,V]}],"hue-rotate":[{"hue-rotate":[$,O,V]}],invert:[{invert:["",$,O,V]}],saturate:[{saturate:[$,O,V]}],sepia:[{sepia:["",$,O,V]}],"backdrop-filter":[{"backdrop-filter":["","none",O,V]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[$,O,V]}],"backdrop-contrast":[{"backdrop-contrast":[$,O,V]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$,O,V]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$,O,V]}],"backdrop-invert":[{"backdrop-invert":["",$,O,V]}],"backdrop-opacity":[{"backdrop-opacity":[$,O,V]}],"backdrop-saturate":[{"backdrop-saturate":[$,O,V]}],"backdrop-sepia":[{"backdrop-sepia":["",$,O,V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",O,V]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$,"initial",O,V]}],ease:[{ease:["linear","initial",j,O,V]}],delay:[{delay:[$,O,V]}],animate:[{animate:["none",D,O,V]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,O,V]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:q()}],"scale-x":[{"scale-x":q()}],"scale-y":[{"scale-y":q()}],"scale-z":[{"scale-z":q()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[O,V,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",O,V]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",O,V]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[$,$t,ut,qr]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xa=Zi(ya);function Le(...e){return xa(Jt(e))}function wa({className:e,...r}){return g.jsx(Ii,{"data-slot":"label",className:Le("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}var _a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ca=_a.reduce((e,r)=>{const t=_o(`Primitive.${r}`),n=p.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),ka="Separator",Un="horizontal",Sa=["horizontal","vertical"],Oo=p.forwardRef((e,r)=>{const{decorative:t,orientation:n=Un,...o}=e,s=Ea(n)?n:Un,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(Ca.div,{"data-orientation":s,...a,...o,ref:r})});Oo.displayName=ka;function Ea(e){return Sa.includes(e)}var Aa=Oo;function Da({className:e,orientation:r="horizontal",decorative:t=!0,...n}){return g.jsx(Aa,{"data-slot":"separator",decorative:t,orientation:r,className:Le("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function To({className:e,...r}){return g.jsx("fieldset",{"data-slot":"field-set",className:Le("flex flex-col gap-6","has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3",e),...r})}function Lo({className:e,variant:r="legend",...t}){return g.jsx("legend",{"data-slot":"field-legend","data-variant":r,className:Le("mb-3 font-medium","data-[variant=legend]:text-base","data-[variant=label]:text-sm",e),...t})}const zo=p.forwardRef(({className:e,...r},t)=>g.jsx("div",{ref:t,"data-slot":"field-group",className:Le("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4",e),...r}));zo.displayName="FieldGroup";const Ra=xi("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function pt({className:e,orientation:r="vertical",...t}){return g.jsx("div",{role:"group","data-slot":"field","data-orientation":r,className:Le(Ra({orientation:r}),e),...t})}function Et({className:e,...r}){return g.jsx(wa,{"data-slot":"field-label",className:Le("font-extrabold group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",e),...r})}function ht({className:e,...r}){return g.jsx("p",{"data-slot":"field-description",className:Le("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",e),...r})}function on({children:e,className:r,...t}){return g.jsxs("div",{"data-slot":"field-separator","data-content":!!e,className:Le("relative opacity-[0.3] -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2",r),...t,children:[g.jsx(Da,{className:"absolute inset-0 top-1/2"}),e&&g.jsx("span",{className:"bg-background text-muted-foreground relative mx-auto block w-fit px-2","data-slot":"field-separator-content",children:e})]})}function We({className:e,children:r,errors:t,...n}){const o=p.useMemo(()=>{if(r)return r;if(!t?.length)return null;const s=[...new Map(t.map(i=>[i?.message,i])).values()];return s?.length==1?s[0]?.message:g.jsx("ul",{className:"ml-4 flex list-disc flex-col gap-1",children:s.map((i,a)=>i?.message&&g.jsx("li",{children:i.message},a))})},[r,t]);return o?g.jsx("div",{role:"alert","data-slot":"field-error",className:Le("text-destructive text-sm font-normal",e),...n,children:o}):null}const Na="_footer_1eaut_1",Fa="_footerShow_1eaut_18",Ia="_button_1eaut_22",Hr={footer:Na,footerShow:Fa,button:Ia},ja=e=>{const[r,t]=p.useState(!0);return p.useEffect(()=>{const n=()=>{const s=document.activeElement?.tagName==="INPUT"&&document.activeElement?.getAttribute("type")!=="file",i=document.activeElement?.tagName==="TEXTAREA",a=e.current&&(s||i)&&e.current.contains(document.activeElement);t(!a)},o=e.current;return o&&(o.addEventListener("focusin",n),o.addEventListener("focusout",n)),()=>{o&&(o.removeEventListener("focusin",n),o.removeEventListener("focusout",n))}},[]),{isShow:r}},Ma=document.getElementById("footer"),Va=({formRef:e,isDisabled:r,isLoading:t,onSubmit:n})=>{const{t:o}=Te(),{isShow:s}=ja(e);return gt.createPortal(g.jsxs("div",{className:Jt(Hr.footer,s&&Hr.footerShow),children:[r&&g.jsx(We,{className:"text-center",children:o("create_page.check_fields")}),g.jsx(Ze,{className:Hr.button,loading:t,disabled:r,type:"submit",onClick:n,after:g.jsx(Os,{}),children:o("common.create")})]}),Ma)},vt=e=>({title:{required:e("validation.required"),minLength:{value:7,message:e("validation.min_length",{value:7})},maxLength:{value:30,message:e("validation.max_length",{value:30})}},description:{required:e("validation.required"),minLength:{value:100,message:e("validation.min_length",{value:100})}},questions:{required:e("validation.questions.required"),minLength:{value:2,message:e("validation.questions.min_length",{value:2})}},question:{required:e("validation.required"),minLength:{value:7,message:e("validation.min_length",{value:7})},maxLength:{value:100,message:e("validation.max_length",{value:100})}},options:{required:e("validation.options.required"),minLength:{value:2,message:e("validation.options.min_length",{value:2})}},option:{required:e("validation.required"),minLength:{value:1,message:e("validation.min_length",{value:1})},maxLength:{value:100,message:e("validation.max_length",{value:100})}}}),Oa=e=>(r="")=>{if(!r)return e("validation.required");if(r.length<50)return e("validation.min_length",{value:50});const t=r.replace(/<[^>]*>?/gm,"").replace(/\n\s*\n/g,`
`).length;return t>3e3?e("validation.length_limit",{value:t-3e3}):!0};var de=function(){return de=Object.assign||function(r){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},de.apply(this,arguments)};function Er(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t}function qn(e){if(e){var r=e.textContent,t=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;e.style.direction=r&&t.test(r[0])?"rtl":"ltr"}}function Po(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter(Boolean).join(" ")}function Ta(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0).startContainer.parentNode||void 0}function Hn(e){return typeof e=="string"?e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(e)}function La(e){var r=document.createTextNode("");e.appendChild(r);var t=document.activeElement===e;if(r!==null&&r.nodeValue!==null&&t){var n=window.getSelection();if(n!==null){var o=document.createRange();o.setStart(r,r.nodeValue.length),o.collapse(!0),n.removeAllRanges(),n.addRange(o)}e instanceof HTMLElement&&e.focus()}}function Bo(e,r){typeof r=="function"?r(e):typeof r=="object"&&r&&(r.current=e)}var za=y.memo(y.forwardRef(function(r,t){var n=r.className,o=r.disabled,s=r.tagName,i=r.value,a=i===void 0?"":i,l=r.placeholder,c=Er(r,["className","disabled","tagName","value","placeholder"]),f=y.useRef(null),d=y.useRef(a),h=y.useRef(c);return y.useEffect(function(){h.current=c;var x=f.current;x&&Hn(d.current)!==Hn(a)&&(d.current=a,x.innerHTML=a,La(x))}),y.useMemo(function(){function x(C){f.current=C,qn(C),Bo(C,t)}function E(C){var j,D,M=f.current;if(M){var b=M.innerHTML;b!==d.current&&((D=(j=h.current).onChange)===null||D===void 0||D.call(j,de(de({},C),{target:{value:b,name:c.name}}))),qn(M),d.current=b}}var _=Po("rsw-ce",n);return y.createElement(s||"div",de(de({},c),{className:_,contentEditable:!o,dangerouslySetInnerHTML:{__html:a},onBlur:function(C){return(h.current.onBlur||E)(C)},onInput:E,onKeyDown:function(C){return(h.current.onKeyDown||E)(C)},onKeyUp:function(C){return(h.current.onKeyUp||E)(C)},placeholder:l,ref:x}))},[n,o,l,s])})),$o=y.createContext(void 0);function Pa(e){var r=e.children,t=y.useState({htmlMode:!1,update:s}),n=t[0],o=t[1];function s(i){o(function(a){return de(de({},a),i)})}return y.createElement($o.Provider,{value:n},r)}function er(){var e=y.useContext($o);if(!e)throw new Error("You should wrap your component by EditorProvider");return e}var Wn=[],Ut=[];function Ba(e,r){if(e&&typeof document<"u"){var t,n=r.prepend===!0?"prepend":"append",o=r.singleTag===!0,s=typeof r.container=="string"?document.querySelector(r.container):document.getElementsByTagName("head")[0];if(o){var i=Wn.indexOf(s);i===-1&&(i=Wn.push(s)-1,Ut[i]={}),t=Ut[i]&&Ut[i][n]?Ut[i][n]:Ut[i][n]=a()}else t=a();e.charCodeAt(0)===65279&&(e=e.substring(1)),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(document.createTextNode(e))}function a(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),r.attributes)for(var c=Object.keys(r.attributes),f=0;f<c.length;f++)l.setAttribute(c[f],r.attributes[c[f]]);var d=n==="prepend"?"afterbegin":"beforeend";return s.insertAdjacentElement(d,l),l}}var $a=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";Ba($a,{});var Ua=y.forwardRef(function(r,t){var n=r.autoFocus,o=r.children,s=r.containerProps,i=r.onSelect,a=Er(r,["autoFocus","children","containerProps","onSelect"]),l=er();y.useEffect(function(){return document.addEventListener("click",c),function(){return document.removeEventListener("click",c)}});function c(x){var E;x.target!==l.$el&&(!((E=l.$el)===null||E===void 0)&&E.contains(x.target)||l.update({$selection:void 0}))}function f(x){i?.(x),l.update({$selection:Ta()})}function d(x){l.update({$el:x}),Bo(x,t),n&&x&&l.$el===void 0&&x.focus()}var h=Po("rsw-editor",s?.className);return l.htmlMode?y.createElement("div",de({},s,{className:h}),o,y.createElement("textarea",de({},a,{className:"rsw-ce rsw-html"}))):y.createElement("div",de({},s,{className:h}),o,y.createElement(za,de({},a,{ref:d,onSelect:f})))});function qa(){return y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},y.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function Ha(){return y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},y.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var Uo=Ye("Bold","𝐁","bold"),qo=Ye("Bullet list",y.createElement(Ha,null),"insertUnorderedList"),Wa=Ye("Clear formatting","T̲ₓ","removeFormat"),Ho=Ye("Italic","𝑰","italic"),Wo=Ye("Strike through",y.createElement("s",null,"ab"),"strikeThrough"),Ga=Ye("Link","🔗",function(e){var r=e.$selection;r?.nodeName==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),Go=Ye("Numbered list",y.createElement(qa,null),"insertOrderedList"),Yo=Ye("Redo","↷","redo"),Qo=Ye("Underline",y.createElement("span",{style:{textDecoration:"underline"}},"𝐔"),"underline"),Xo=Ye("Undo","↶","undo");function Ye(e,r,t){return n.displayName=e.replace(/\s/g,""),n;function n(o){var s=er(),i=s.$el,a=function(){return!!i?.contains(document.activeElement)},l=!1;typeof t=="string"&&(l=a()&&document.queryCommandState(t));function c(f){f.preventDefault(),a()||i?.focus(),typeof t=="function"?t(s):document.execCommand(t)}return s.htmlMode?null:y.createElement("button",de({className:"rsw-btn","data-active":l,onMouseDown:c,tabIndex:-1,title:e,type:"button"},o),r)}}var Ya=Qa("Styles",[["Normal","formatBlock","DIV"],["𝗛𝗲𝗮𝗱𝗲𝗿 𝟭","formatBlock","H1"],["Header 2","formatBlock","H2"],["𝙲𝚘𝚍𝚎","formatBlock","PRE"]]);function Qa(e,r){return t.displayName=e,t;function t(n){var o=er(),s=o.$el,i=o.$selection,a=o.htmlMode;if(a)return null;var l=r.findIndex(function(f){return f[1]==="formatBlock"&&i?.nodeName===f[2]});return y.createElement(Xa,de({},n,{items:r,onChange:c,selected:l,tabIndex:-1,title:e}));function c(f){var d=f.target,h=d.value,x=parseInt(h,10),E=r[x]||[],_=E[1],C=E[2];f.preventDefault(),document.activeElement!==s&&s?.focus(),typeof _=="function"?_(o):_&&document.execCommand(_,!1,C),setTimeout(function(){return d.value=h},10)}}}function Xa(e){var r=e.items,t=e.selected,n=Er(e,["items","selected"]);return y.createElement("select",de({className:"rsw-dd"},n,{value:t}),y.createElement("option",{hidden:!0},n.title),r.map(function(o,s){return y.createElement("option",{key:o[2],value:s},o[0])}))}function Ka(e){var r=Er(e,[]),t=er();function n(){t.update({htmlMode:!t.htmlMode})}return y.createElement("button",de({className:"rsw-btn","data-active":t.htmlMode,onClick:n,tabIndex:-1,title:"HTML mode",type:"button"},r),"</>")}function lr(e){var r=er();return r.htmlMode?null:y.createElement("div",de({className:"rsw-separator"},e))}function Ko(e){return y.createElement("div",de({className:"rsw-toolbar"},e))}var Ja=y.forwardRef(function(r,t){return y.createElement(Pa,null,y.createElement(Ua,de({},r,{ref:t}),r.children||y.createElement(Ko,null,y.createElement(Xo,null),y.createElement(Yo,null),y.createElement(lr,null),y.createElement(Uo,null),y.createElement(Ho,null),y.createElement(Qo,null),y.createElement(Wo,null),y.createElement(lr,null),y.createElement(Go,null),y.createElement(qo,null),y.createElement(lr,null),y.createElement(Ga,null),y.createElement(Wa,null),y.createElement(Ka,null),y.createElement(lr,null),y.createElement(Ya,null))))});const Za="_editor_374mm_1",el="_editorHeader_374mm_12",tl="_editorBtnWrap_374mm_25",rl="_editorBtn_374mm_25",nl="_editorBtnIcon_374mm_34",_e={editor:Za,editorHeader:el,editorBtnWrap:tl,editorBtn:rl,editorBtnIcon:nl},ol=({value:e,onChange:r,placeholder:t})=>g.jsx(g.Fragment,{children:g.jsx("div",{className:_e.editor,children:g.jsx(Ja,{value:e,onChange:n=>r(n.target.value),placeholder:t,children:g.jsxs(Ko,{className:_e.editorHeader,children:[g.jsxs("div",{className:_e.editorBtnWrap,children:[g.jsx(Ys,{className:_e.editorBtnIcon}),g.jsx(Xo,{className:_e.editorBtn})]}),g.jsxs("div",{className:_e.editorBtnWrap,children:[g.jsx(qs,{className:_e.editorBtnIcon}),g.jsx(Yo,{className:_e.editorBtn})]}),g.jsx(Uo,{className:_e.editorBtn}),g.jsx(Ho,{className:_e.editorBtn}),g.jsx(Qo,{className:_e.editorBtn}),g.jsx(Wo,{className:_e.editorBtn}),g.jsx(qo,{className:_e.editorBtn}),g.jsx(Go,{className:_e.editorBtn})]})})})});function sl({className:e,type:r,...t}){return g.jsx("input",{type:r,"data-slot":"input",className:Le("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-lg border bg-transparent px-3 py-6 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}const il=async e=>(await dn.post("/files/delete",{fileName:e}))?.data,al=async(e,{signal:r,onProgress:t})=>(await dn.post("/files",e,{signal:r,onUploadProgress:o=>{t&&o.total&&t(Math.round(o.loaded*100/o.total))},headers:{"Content-Type":"multipart/form-data"}}))?.data,ll="_uploadInput_1hs7y_1",cl="_uploadInputContent_1hs7y_6",ul="_uploadInputPreview_1hs7y_26",dl="_uploadInputIcon_1hs7y_40",fl="_uploadInputImage_1hs7y_50",gl="_uploadInputProgress_1hs7y_55",ml="_uploadInputDelete_1hs7y_79",dt={uploadInput:ll,uploadInputContent:cl,uploadInputPreview:ul,uploadInputIcon:dl,uploadInputImage:fl,uploadInputProgress:gl,uploadInputDelete:ml},pl=({id:e,name:r,onDelete:t,onChange:n})=>{const{t:o}=Te(),s=p.useRef(null),[i,a]=p.useState(null),[l,c]=p.useState(0),f=()=>{s.current?.value&&(s.current.value=""),a(null),c(0),t?.()},d=()=>{c(0)},h=x=>{c(0);const E=x.target.files?.[0],_=new FileReader;E&&(_.onload=function(C){C.target?.result&&a(C.target.result)},_.readAsDataURL(E),n(E,{onProgress:c,onLoaded:d}))};return g.jsxs("div",{className:dt.uploadInput,children:[g.jsxs("div",{className:dt.uploadInputContent,children:[g.jsx("input",{id:e,type:"file",name:r,disabled:!!i,ref:s,onChange:h,accept:"image/png, image/jpeg, image/jpg"}),g.jsxs("div",{className:dt.uploadInputPreview,children:[g.jsx($s,{className:dt.uploadInputIcon}),g.jsx("p",{children:o("shared.load_image")})]}),i&&g.jsx("img",{className:dt.uploadInputImage,src:i,alt:r}),!!l&&g.jsxs("div",{className:dt.uploadInputProgress,children:[g.jsxs("p",{children:["Загрузка ",l," %"]}),g.jsx("span",{style:{width:`${l}%`}})]})]}),i&&g.jsx(Ze,{size:"sm",after:g.jsx(wr,{}),className:dt.uploadInputDelete,onClick:f,children:o("shared.delete_image")})]})},hl="_content_7q73c_1",vl={content:hl},bl=1048576,yl=["image/png","image/jpeg","image/jpg"],xl=(e,r)=>e.size>bl?r("errors.image.size",{value:1}):yl.includes(e.type)?!1:r("errors.image.format"),Jo=({id:e,type:r="poster",onChange:t,clearError:n,setError:o})=>{const{t:s}=Te(),i=p.useRef(null),[a,l]=p.useState(null),c=(d,{onLoaded:h,onProgress:x})=>{n();const E=xl(d,s);if(E){o(E);return}if(d){const _=new FormData;_.append("file",d),_.append("type",r),i.current=new AbortController;const C=i.current.signal;al(_,{signal:C,onProgress:x}).then(j=>{t(j.fileName),l(j.tempPath)}).catch(j=>{j.response?.data?.message?o(j.response?.data?.message):o(s("errors.image.load"))}).finally(()=>{h(),i.current=null})}},f=async()=>{if(t(null),o(s("validation.required")),l(null),i.current)return i.current.abort();a&&il(a)};return g.jsx("div",{className:vl.content,children:g.jsx(pl,{id:e,onDelete:f,onChange:c})})},wl=({control:e,register:r,errors:t,setError:n,clearErrors:o,setValue:s})=>{const{t:i}=Te();return g.jsx(To,{className:"mb-5",children:g.jsxs(zo,{children:[g.jsxs(pt,{children:[g.jsx(Et,{htmlFor:"quiz-title",children:i("create_page.main.title")}),g.jsx(sl,{id:"quiz-title",placeholder:i("create_page.main.title_placeholder"),...r("title",vt(i).title)}),t.title?.message?g.jsx(We,{children:t.title.message}):g.jsx(ht,{children:vt(i).title.minLength.message})]}),g.jsxs(pt,{children:[g.jsx(Et,{children:i("create_page.main.description")}),g.jsx(ei,{name:"description",control:e,rules:{validate:Oa(i)},render:({field:a})=>g.jsx(ol,{id:"quiz-description",value:a.value,onChange:a.onChange,placeholder:i("create_page.main.description_placeholder")})}),t.description?.message?g.jsx(We,{children:t.description?.message}):g.jsx(ht,{children:vt(i).description.minLength.message})]}),g.jsxs(pt,{children:[g.jsx(Et,{htmlFor:"quiz-poster",children:i("create_page.main.poster")}),g.jsx(Jo,{id:"quiz-poster",type:"poster",clearError:()=>o("poster"),setError:a=>n("poster",{message:a}),onChange:a=>s("poster",a)}),t.poster?.message?g.jsx(We,{children:t.poster?.message}):g.jsx(ht,{children:i("create_page.main.poster_placeholder")})]}),g.jsx(on,{})]})})},_l="_container_kn51w_1",Cl={container:_l},kl=({renderHeader:e,renderMain:r,renderOptions:t})=>{const n=p.useRef(null);return p.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[]),g.jsxs("div",{className:Cl.container,ref:n,children:[e,r,t]})},Sl=({index:e,removeQuestion:r})=>{const{t}=Te();return g.jsxs(Lo,{className:"flex items-center justify-between",children:[g.jsx("p",{className:"w-full",children:t("create_page.question.title",{value:e+1})}),g.jsx("div",{className:"w-fit",children:g.jsx(Ze,{size:"sm",onClick:r,after:g.jsx(wr,{className:"w-4"}),children:t("create_page.question.delete")})})]})};function Zo({className:e,...r}){return g.jsx("textarea",{"data-slot":"textarea",className:Le("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-32 w-full rounded-lg border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}const El=({index:e,register:r,questionErrors:t,clearErrors:n,setValue:o,setError:s})=>{const{t:i}=Te();return g.jsxs(g.Fragment,{children:[g.jsxs(pt,{children:[g.jsx(Et,{htmlFor:`question-text-${e}`,children:i("create_page.question.field_title")}),g.jsx(Zo,{id:`question-text-${e}`,placeholder:i("create_page.question.field_placeholder"),...r(`questions.${e}.text`,vt(i).question)}),t?.text?.message?g.jsx(We,{children:t?.text?.message}):g.jsx(ht,{children:i("validation.min_length",{value:7})})]}),g.jsxs(pt,{children:[g.jsx(Et,{htmlFor:`question-image-${e}`,children:i("create_page.question.image")}),g.jsx(Jo,{id:`question-image-${e}`,type:"question",clearError:()=>n(`questions.${e}.image`),setError:a=>s(`questions.${e}.image`,{message:a}),onChange:a=>o(`questions.${e}.image`,a)}),t?.image?.message?g.jsx(We,{children:t?.image?.message}):g.jsx(ht,{children:i("create_page.question.image_placeholder")})]})]})},Al="_toggleWrap_1csyb_1",Dl="_toggleLabel_1csyb_6",Rl="_toggle_1csyb_1",Nl="_toggleActive_1csyb_21",Fl="_togglePoint_1csyb_25",qt={toggleWrap:Al,toggleLabel:Dl,toggle:Rl,toggleActive:Nl,togglePoint:Fl},Il=({active:e,label:r,onClick:t})=>g.jsxs("div",{onClick:t,className:qt.toggleWrap,children:[r&&g.jsx("span",{className:qt.toggleLabel,children:r}),g.jsx("div",{className:Jt(qt.toggle,e&&qt.toggleActive),children:g.jsx("div",{className:qt.togglePoint})})]}),jl="_container_8x54j_1",Ml="_header_8x54j_5",Gn={container:jl,header:Ml},Vl=({index:e,register:r,questionIndex:t,remove:n,answerErrors:o,isCorrect:s,setCorrectOption:i})=>{const{t:a}=Te();return console.log(o),g.jsxs(pt,{className:Gn.container,children:[g.jsxs("div",{className:Gn.header,children:[g.jsx(Et,{htmlFor:`answer-text-${e}`,children:a("create_page.options.title",{value:e+1})}),g.jsx(Il,{active:s,onClick:()=>i(e),label:a("create_page.options.right")}),g.jsx(Ze,{style:"icon",size:"sm",onClick:n,children:g.jsx(wr,{})})]}),g.jsx(Zo,{id:`answer-text-${e}`,multiple:!0,placeholder:a("create_page.options.placeholder"),...r(`questions.${t}.options.${e}.text`,vt(a).option)}),o?.text?.message?g.jsx(We,{children:o?.text?.message}):g.jsx(ht,{children:a("validation.min_length",{value:1})})]})},Ol="_container_1e1c3_1",Tl="_overlay_1e1c3_11",Ll="_header_1e1c3_16",zl="_filterHeader_1e1c3_23",Pl="_filterTitle_1e1c3_29",Bl="_filterAction_1e1c3_35",$l="_content_1e1c3_38",Ul="_actions_1e1c3_49",at={container:Ol,overlay:Tl,header:Ll,filterHeader:zl,filterTitle:Pl,filterAction:Bl,content:$l,actions:Ul},ql=document.getElementById("modals"),Hl=({isOpen:e,onClose:r,title:t,headerActions:n,children:o,actions:s})=>gt.createPortal(g.jsxs(js,{isOpen:e,onClose:r,overlayClassName:at.overlay,sheetClassName:at.container,headerClassName:at.header,header:(t||n)&&g.jsxs("div",{className:at.filterHeader,children:[t&&g.jsx("span",{className:at.filterTitle,children:t}),n&&g.jsx("div",{className:at.filterAction,children:n})]}),children:[g.jsx(Fs,{absolute:!0}),g.jsx("div",{className:at.content,children:o}),s&&g.jsx("div",{className:at.actions,children:s})]}),ql),Wl=({isOpen:e,onClose:r,addOption:t,options:n,questionIndex:o,setValue:s,watch:i,renderItem:a})=>{const{t:l}=Te(),c=d=>{n.forEach((h,x)=>{s(`questions.${o}.options.${x}.isCorrect`,!1,{shouldDirty:!0})}),s(`questions.${o}.options.${d}.isCorrect`,!0,{shouldDirty:!0})},f=i(`questions.${o}.options`);return g.jsx(Hl,{isOpen:e,onClose:r,title:l("create_page.options.modal_title",{value:o+1}),headerActions:g.jsx(Ze,{size:"sm",style:"white",auto:!0,after:g.jsx(Ps,{}),onClick:t,children:l("create_page.options.add_variant")}),actions:g.jsx(Ze,{after:g.jsx(Ws,{}),disabled:!1,onClick:r,children:l("create_page.options.apply_options")}),children:n.map((d,h)=>a({option:d,index:h,isCorrect:f[h].isCorrect,setCorrectOption:c}))})},Gl="_container_nyj6b_1",Yl="_item_nyj6b_4",Ql="_itemCorrect_nyj6b_14",Xl="_itemHeader_nyj6b_18",Kl="_actions_nyj6b_26",Jl="_itemTitle_nyj6b_29",Zl="_itemText_nyj6b_39",ft={container:Gl,item:Yl,itemCorrect:Ql,itemHeader:Xl,actions:Kl,itemTitle:Jl,itemText:Zl};function ec(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return p.useMemo(()=>n=>{r.forEach(o=>o(n))},r)}const Ar=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nt(e){const r=Object.prototype.toString.call(e);return r==="[object Window]"||r==="[object global]"}function vn(e){return"nodeType"in e}function Se(e){var r,t;return e?Nt(e)?e:vn(e)&&(r=(t=e.ownerDocument)==null?void 0:t.defaultView)!=null?r:window:window}function bn(e){const{Document:r}=Se(e);return e instanceof r}function tr(e){return Nt(e)?!1:e instanceof Se(e).HTMLElement}function es(e){return e instanceof Se(e).SVGElement}function Ft(e){return e?Nt(e)?e.document:vn(e)?bn(e)?e:tr(e)||es(e)?e.ownerDocument:document:document:document}const Ge=Ar?p.useLayoutEffect:p.useEffect;function yn(e){const r=p.useRef(e);return Ge(()=>{r.current=e}),p.useCallback(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.current==null?void 0:r.current(...n)},[])}function tc(){const e=p.useRef(null),r=p.useCallback((n,o)=>{e.current=setInterval(n,o)},[]),t=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[r,t]}function Yt(e,r){r===void 0&&(r=[e]);const t=p.useRef(e);return Ge(()=>{t.current!==e&&(t.current=e)},r),t}function rr(e,r){const t=p.useRef();return p.useMemo(()=>{const n=e(t.current);return t.current=n,n},[...r])}function vr(e){const r=yn(e),t=p.useRef(null),n=p.useCallback(o=>{o!==t.current&&r?.(o,t.current),t.current=o},[]);return[t,n]}function sn(e){const r=p.useRef();return p.useEffect(()=>{r.current=e},[e]),r.current}let Wr={};function nr(e,r){return p.useMemo(()=>{if(r)return r;const t=Wr[e]==null?0:Wr[e]+1;return Wr[e]=t,e+"-"+t},[e,r])}function ts(e){return function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return n.reduce((s,i)=>{const a=Object.entries(i);for(const[l,c]of a){const f=s[l];f!=null&&(s[l]=f+e*c)}return s},{...r})}}const At=ts(1),Qt=ts(-1);function rc(e){return"clientX"in e&&"clientY"in e}function xn(e){if(!e)return!1;const{KeyboardEvent:r}=Se(e.target);return r&&e instanceof r}function nc(e){if(!e)return!1;const{TouchEvent:r}=Se(e.target);return r&&e instanceof r}function an(e){if(nc(e)){if(e.touches&&e.touches.length){const{clientX:r,clientY:t}=e.touches[0];return{x:r,y:t}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:r,clientY:t}=e.changedTouches[0];return{x:r,y:t}}}return rc(e)?{x:e.clientX,y:e.clientY}:null}const Xt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:r,y:t}=e;return"translate3d("+(r?Math.round(r):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:r,scaleY:t}=e;return"scaleX("+r+") scaleY("+t+")"}},Transform:{toString(e){if(e)return[Xt.Translate.toString(e),Xt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:r,duration:t,easing:n}=e;return r+" "+t+"ms "+n}}}),Yn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function oc(e){return e.matches(Yn)?e:e.querySelector(Yn)}const sc={display:"none"};function ic(e){let{id:r,value:t}=e;return y.createElement("div",{id:r,style:sc},t)}function ac(e){let{id:r,announcement:t,ariaLiveType:n="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return y.createElement("div",{id:r,style:o,role:"status","aria-live":n,"aria-atomic":!0},t)}function lc(){const[e,r]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&r(n)},[]),announcement:e}}const rs=p.createContext(null);function cc(e){const r=p.useContext(rs);p.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(e)},[e,r])}function uc(){const[e]=p.useState(()=>new Set),r=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:o,event:s}=n;e.forEach(i=>{var a;return(a=i[o])==null?void 0:a.call(i,s)})},[e]),r]}const dc={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fc={onDragStart(e){let{active:r}=e;return"Picked up draggable item "+r.id+"."},onDragOver(e){let{active:r,over:t}=e;return t?"Draggable item "+r.id+" was moved over droppable area "+t.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(e){let{active:r,over:t}=e;return t?"Draggable item "+r.id+" was dropped over droppable area "+t.id:"Draggable item "+r.id+" was dropped."},onDragCancel(e){let{active:r}=e;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function gc(e){let{announcements:r=fc,container:t,hiddenTextDescribedById:n,screenReaderInstructions:o=dc}=e;const{announce:s,announcement:i}=lc(),a=nr("DndLiveRegion"),[l,c]=p.useState(!1);if(p.useEffect(()=>{c(!0)},[]),cc(p.useMemo(()=>({onDragStart(d){let{active:h}=d;s(r.onDragStart({active:h}))},onDragMove(d){let{active:h,over:x}=d;r.onDragMove&&s(r.onDragMove({active:h,over:x}))},onDragOver(d){let{active:h,over:x}=d;s(r.onDragOver({active:h,over:x}))},onDragEnd(d){let{active:h,over:x}=d;s(r.onDragEnd({active:h,over:x}))},onDragCancel(d){let{active:h,over:x}=d;s(r.onDragCancel({active:h,over:x}))}}),[s,r])),!l)return null;const f=y.createElement(y.Fragment,null,y.createElement(ic,{id:n,value:o.draggable}),y.createElement(ac,{id:a,announcement:i}));return t?gt.createPortal(f,t):f}var ue;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ue||(ue={}));function br(){}function Gr(e,r){return p.useMemo(()=>({sensor:e,options:r??{}}),[e,r])}function mc(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return p.useMemo(()=>[...r].filter(n=>n!=null),[...r])}const $e=Object.freeze({x:0,y:0});function ns(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function os(e,r){let{data:{value:t}}=e,{data:{value:n}}=r;return t-n}function pc(e,r){let{data:{value:t}}=e,{data:{value:n}}=r;return n-t}function Qn(e){let{left:r,top:t,height:n,width:o}=e;return[{x:r,y:t},{x:r+o,y:t},{x:r,y:t+n},{x:r+o,y:t+n}]}function ss(e,r){if(!e||e.length===0)return null;const[t]=e;return t[r]}function Xn(e,r,t){return r===void 0&&(r=e.left),t===void 0&&(t=e.top),{x:r+e.width*.5,y:t+e.height*.5}}const hc=e=>{let{collisionRect:r,droppableRects:t,droppableContainers:n}=e;const o=Xn(r,r.left,r.top),s=[];for(const i of n){const{id:a}=i,l=t.get(a);if(l){const c=ns(Xn(l),o);s.push({id:a,data:{droppableContainer:i,value:c}})}}return s.sort(os)},vc=e=>{let{collisionRect:r,droppableRects:t,droppableContainers:n}=e;const o=Qn(r),s=[];for(const i of n){const{id:a}=i,l=t.get(a);if(l){const c=Qn(l),f=o.reduce((h,x,E)=>h+ns(c[E],x),0),d=Number((f/4).toFixed(4));s.push({id:a,data:{droppableContainer:i,value:d}})}}return s.sort(os)};function bc(e,r){const t=Math.max(r.top,e.top),n=Math.max(r.left,e.left),o=Math.min(r.left+r.width,e.left+e.width),s=Math.min(r.top+r.height,e.top+e.height),i=o-n,a=s-t;if(n<o&&t<s){const l=r.width*r.height,c=e.width*e.height,f=i*a,d=f/(l+c-f);return Number(d.toFixed(4))}return 0}const yc=e=>{let{collisionRect:r,droppableRects:t,droppableContainers:n}=e;const o=[];for(const s of n){const{id:i}=s,a=t.get(i);if(a){const l=bc(a,r);l>0&&o.push({id:i,data:{droppableContainer:s,value:l}})}}return o.sort(pc)};function xc(e,r,t){return{...e,scaleX:r&&t?r.width/t.width:1,scaleY:r&&t?r.height/t.height:1}}function is(e,r){return e&&r?{x:e.left-r.left,y:e.top-r.top}:$e}function wc(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return o.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...t})}}const _c=wc(1);function Cc(e){if(e.startsWith("matrix3d(")){const r=e.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(e.startsWith("matrix(")){const r=e.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function kc(e,r,t){const n=Cc(r);if(!n)return e;const{scaleX:o,scaleY:s,x:i,y:a}=n,l=e.left-i-(1-o)*parseFloat(t),c=e.top-a-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),f=o?e.width/o:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:c,right:l+f,bottom:c+d,left:l}}const Sc={ignoreTransform:!1};function It(e,r){r===void 0&&(r=Sc);let t=e.getBoundingClientRect();if(r.ignoreTransform){const{transform:c,transformOrigin:f}=Se(e).getComputedStyle(e);c&&(t=kc(t,c,f))}const{top:n,left:o,width:s,height:i,bottom:a,right:l}=t;return{top:n,left:o,width:s,height:i,bottom:a,right:l}}function Kn(e){return It(e,{ignoreTransform:!0})}function Ec(e){const r=e.innerWidth,t=e.innerHeight;return{top:0,left:0,right:r,bottom:t,width:r,height:t}}function Ac(e,r){return r===void 0&&(r=Se(e).getComputedStyle(e)),r.position==="fixed"}function Dc(e,r){r===void 0&&(r=Se(e).getComputedStyle(e));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=r[o];return typeof s=="string"?t.test(s):!1})}function Dr(e,r){const t=[];function n(o){if(r!=null&&t.length>=r||!o)return t;if(bn(o)&&o.scrollingElement!=null&&!t.includes(o.scrollingElement))return t.push(o.scrollingElement),t;if(!tr(o)||es(o)||t.includes(o))return t;const s=Se(e).getComputedStyle(o);return o!==e&&Dc(o,s)&&t.push(o),Ac(o,s)?t:n(o.parentNode)}return e?n(e):t}function as(e){const[r]=Dr(e,1);return r??null}function Yr(e){return!Ar||!e?null:Nt(e)?e:vn(e)?bn(e)||e===Ft(e).scrollingElement?window:tr(e)?e:null:null}function ls(e){return Nt(e)?e.scrollX:e.scrollLeft}function cs(e){return Nt(e)?e.scrollY:e.scrollTop}function ln(e){return{x:ls(e),y:cs(e)}}var pe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(pe||(pe={}));function us(e){return!Ar||!e?!1:e===document.scrollingElement}function ds(e){const r={x:0,y:0},t=us(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-t.width,y:e.scrollHeight-t.height},o=e.scrollTop<=r.y,s=e.scrollLeft<=r.x,i=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:o,isLeft:s,isBottom:i,isRight:a,maxScroll:n,minScroll:r}}const Rc={x:.2,y:.2};function Nc(e,r,t,n,o){let{top:s,left:i,right:a,bottom:l}=t;n===void 0&&(n=10),o===void 0&&(o=Rc);const{isTop:c,isBottom:f,isLeft:d,isRight:h}=ds(e),x={x:0,y:0},E={x:0,y:0},_={height:r.height*o.y,width:r.width*o.x};return!c&&s<=r.top+_.height?(x.y=pe.Backward,E.y=n*Math.abs((r.top+_.height-s)/_.height)):!f&&l>=r.bottom-_.height&&(x.y=pe.Forward,E.y=n*Math.abs((r.bottom-_.height-l)/_.height)),!h&&a>=r.right-_.width?(x.x=pe.Forward,E.x=n*Math.abs((r.right-_.width-a)/_.width)):!d&&i<=r.left+_.width&&(x.x=pe.Backward,E.x=n*Math.abs((r.left+_.width-i)/_.width)),{direction:x,speed:E}}function Fc(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:r,left:t,right:n,bottom:o}=e.getBoundingClientRect();return{top:r,left:t,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function fs(e){return e.reduce((r,t)=>At(r,ln(t)),$e)}function Ic(e){return e.reduce((r,t)=>r+ls(t),0)}function jc(e){return e.reduce((r,t)=>r+cs(t),0)}function Mc(e,r){if(r===void 0&&(r=It),!e)return;const{top:t,left:n,bottom:o,right:s}=r(e);as(e)&&(o<=0||s<=0||t>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Vc=[["x",["left","right"],Ic],["y",["top","bottom"],jc]];class wn{constructor(r,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Dr(t),o=fs(n);this.rect={...r},this.width=r.width,this.height=r.height;for(const[s,i,a]of Vc)for(const l of i)Object.defineProperty(this,l,{get:()=>{const c=a(n),f=o[s]-c;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ht{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=r}add(r,t,n){var o;(o=this.target)==null||o.addEventListener(r,t,n),this.listeners.push([r,t,n])}}function Oc(e){const{EventTarget:r}=Se(e);return e instanceof r?e:Ft(e)}function Qr(e,r){const t=Math.abs(e.x),n=Math.abs(e.y);return typeof r=="number"?Math.sqrt(t**2+n**2)>r:"x"in r&&"y"in r?t>r.x&&n>r.y:"x"in r?t>r.x:"y"in r?n>r.y:!1}var Ve;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ve||(Ve={}));function Jn(e){e.preventDefault()}function Tc(e){e.stopPropagation()}var G;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(G||(G={}));const gs={start:[G.Space,G.Enter],cancel:[G.Esc],end:[G.Space,G.Enter,G.Tab]},Lc=(e,r)=>{let{currentCoordinates:t}=r;switch(e.code){case G.Right:return{...t,x:t.x+25};case G.Left:return{...t,x:t.x-25};case G.Down:return{...t,y:t.y+25};case G.Up:return{...t,y:t.y-25}}};class _n{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:t}}=r;this.props=r,this.listeners=new Ht(Ft(t)),this.windowListeners=new Ht(Se(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ve.Resize,this.handleCancel),this.windowListeners.add(Ve.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ve.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:t}=this.props,n=r.node.current;n&&Mc(n),t($e)}handleKeyDown(r){if(xn(r)){const{active:t,context:n,options:o}=this.props,{keyboardCodes:s=gs,coordinateGetter:i=Lc,scrollBehavior:a="smooth"}=o,{code:l}=r;if(s.end.includes(l)){this.handleEnd(r);return}if(s.cancel.includes(l)){this.handleCancel(r);return}const{collisionRect:c}=n.current,f=c?{x:c.left,y:c.top}:$e;this.referenceCoordinates||(this.referenceCoordinates=f);const d=i(r,{active:t,context:n.current,currentCoordinates:f});if(d){const h=Qt(d,f),x={x:0,y:0},{scrollableAncestors:E}=n.current;for(const _ of E){const C=r.code,{isTop:j,isRight:D,isLeft:M,isBottom:b,maxScroll:w,minScroll:A}=ds(_),F=Fc(_),k={x:Math.min(C===G.Right?F.right-F.width/2:F.right,Math.max(C===G.Right?F.left:F.left+F.width/2,d.x)),y:Math.min(C===G.Down?F.bottom-F.height/2:F.bottom,Math.max(C===G.Down?F.top:F.top+F.height/2,d.y))},z=C===G.Right&&!D||C===G.Left&&!M,X=C===G.Down&&!b||C===G.Up&&!j;if(z&&k.x!==d.x){const U=_.scrollLeft+h.x,P=C===G.Right&&U<=w.x||C===G.Left&&U>=A.x;if(P&&!h.y){_.scrollTo({left:U,behavior:a});return}P?x.x=_.scrollLeft-U:x.x=C===G.Right?_.scrollLeft-w.x:_.scrollLeft-A.x,x.x&&_.scrollBy({left:-x.x,behavior:a});break}else if(X&&k.y!==d.y){const U=_.scrollTop+h.y,P=C===G.Down&&U<=w.y||C===G.Up&&U>=A.y;if(P&&!h.x){_.scrollTo({top:U,behavior:a});return}P?x.y=_.scrollTop-U:x.y=C===G.Down?_.scrollTop-w.y:_.scrollTop-A.y,x.y&&_.scrollBy({top:-x.y,behavior:a});break}}this.handleMove(r,At(Qt(d,this.referenceCoordinates),x))}}}handleMove(r,t){const{onMove:n}=this.props;r.preventDefault(),n(t)}handleEnd(r){const{onEnd:t}=this.props;r.preventDefault(),this.detach(),t()}handleCancel(r){const{onCancel:t}=this.props;r.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_n.activators=[{eventName:"onKeyDown",handler:(e,r,t)=>{let{keyboardCodes:n=gs,onActivation:o}=r,{active:s}=t;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Zn(e){return!!(e&&"distance"in e)}function eo(e){return!!(e&&"delay"in e)}class Cn{constructor(r,t,n){var o;n===void 0&&(n=Oc(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=t;const{event:s}=r,{target:i}=s;this.props=r,this.events=t,this.document=Ft(i),this.documentListeners=new Ht(this.document),this.listeners=new Ht(n),this.windowListeners=new Ht(Se(i)),this.initialCoordinates=(o=an(s))!=null?o:$e,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(Ve.Resize,this.handleCancel),this.windowListeners.add(Ve.DragStart,Jn),this.windowListeners.add(Ve.VisibilityChange,this.handleCancel),this.windowListeners.add(Ve.ContextMenu,Jn),this.documentListeners.add(Ve.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eo(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Zn(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,t){const{active:n,onPending:o}=this.props;o(n,r,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:r}=this,{onStart:t}=this.props;r&&(this.activated=!0,this.documentListeners.add(Ve.Click,Tc,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ve.SelectionChange,this.removeTextSelection),t(r))}handleMove(r){var t;const{activated:n,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:a}}=s;if(!o)return;const l=(t=an(r))!=null?t:$e,c=Qt(o,l);if(!n&&a){if(Zn(a)){if(a.tolerance!=null&&Qr(c,a.tolerance))return this.handleCancel();if(Qr(c,a.distance))return this.handleStart()}if(eo(a)&&Qr(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}r.cancelable&&r.preventDefault(),i(l)}handleEnd(){const{onAbort:r,onEnd:t}=this.props;this.detach(),this.activated||r(this.props.active),t()}handleCancel(){const{onAbort:r,onCancel:t}=this.props;this.detach(),this.activated||r(this.props.active),t()}handleKeydown(r){r.code===G.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const zc={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class kn extends Cn{constructor(r){const{event:t}=r,n=Ft(t.target);super(r,zc,n)}}kn.activators=[{eventName:"onPointerDown",handler:(e,r)=>{let{nativeEvent:t}=e,{onActivation:n}=r;return!t.isPrimary||t.button!==0?!1:(n?.({event:t}),!0)}}];const Pc={move:{name:"mousemove"},end:{name:"mouseup"}};var cn;(function(e){e[e.RightClick=2]="RightClick"})(cn||(cn={}));class Bc extends Cn{constructor(r){super(r,Pc,Ft(r.event.target))}}Bc.activators=[{eventName:"onMouseDown",handler:(e,r)=>{let{nativeEvent:t}=e,{onActivation:n}=r;return t.button===cn.RightClick?!1:(n?.({event:t}),!0)}}];const Xr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ms extends Cn{constructor(r){super(r,Xr)}static setup(){return window.addEventListener(Xr.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(Xr.move.name,r)};function r(){}}}ms.activators=[{eventName:"onTouchStart",handler:(e,r)=>{let{nativeEvent:t}=e,{onActivation:n}=r;const{touches:o}=t;return o.length>1?!1:(n?.({event:t}),!0)}}];var Wt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Wt||(Wt={}));var yr;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yr||(yr={}));function $c(e){let{acceleration:r,activator:t=Wt.Pointer,canScroll:n,draggingRect:o,enabled:s,interval:i=5,order:a=yr.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:f,delta:d,threshold:h}=e;const x=qc({delta:d,disabled:!s}),[E,_]=tc(),C=p.useRef({x:0,y:0}),j=p.useRef({x:0,y:0}),D=p.useMemo(()=>{switch(t){case Wt.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Wt.DraggableRect:return o}},[t,o,l]),M=p.useRef(null),b=p.useCallback(()=>{const A=M.current;if(!A)return;const F=C.current.x*j.current.x,k=C.current.y*j.current.y;A.scrollBy(F,k)},[]),w=p.useMemo(()=>a===yr.TreeOrder?[...c].reverse():c,[a,c]);p.useEffect(()=>{if(!s||!c.length||!D){_();return}for(const A of w){if(n?.(A)===!1)continue;const F=c.indexOf(A),k=f[F];if(!k)continue;const{direction:z,speed:X}=Nc(A,k,D,r,h);for(const U of["x","y"])x[U][z[U]]||(X[U]=0,z[U]=0);if(X.x>0||X.y>0){_(),M.current=A,E(b,i),C.current=X,j.current=z;return}}C.current={x:0,y:0},j.current={x:0,y:0},_()},[r,b,n,_,s,i,JSON.stringify(D),JSON.stringify(x),E,c,w,f,JSON.stringify(h)])}const Uc={x:{[pe.Backward]:!1,[pe.Forward]:!1},y:{[pe.Backward]:!1,[pe.Forward]:!1}};function qc(e){let{delta:r,disabled:t}=e;const n=sn(r);return rr(o=>{if(t||!n||!o)return Uc;const s={x:Math.sign(r.x-n.x),y:Math.sign(r.y-n.y)};return{x:{[pe.Backward]:o.x[pe.Backward]||s.x===-1,[pe.Forward]:o.x[pe.Forward]||s.x===1},y:{[pe.Backward]:o.y[pe.Backward]||s.y===-1,[pe.Forward]:o.y[pe.Forward]||s.y===1}}},[t,r,n])}function Hc(e,r){const t=r!=null?e.get(r):void 0,n=t?t.node.current:null;return rr(o=>{var s;return r==null?null:(s=n??o)!=null?s:null},[n,r])}function Wc(e,r){return p.useMemo(()=>e.reduce((t,n)=>{const{sensor:o}=n,s=o.activators.map(i=>({eventName:i.eventName,handler:r(i.handler,n)}));return[...t,...s]},[]),[e,r])}var Kt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Kt||(Kt={}));var un;(function(e){e.Optimized="optimized"})(un||(un={}));const to=new Map;function Gc(e,r){let{dragging:t,dependencies:n,config:o}=r;const[s,i]=p.useState(null),{frequency:a,measure:l,strategy:c}=o,f=p.useRef(e),d=C(),h=Yt(d),x=p.useCallback(function(j){j===void 0&&(j=[]),!h.current&&i(D=>D===null?j:D.concat(j.filter(M=>!D.includes(M))))},[h]),E=p.useRef(null),_=rr(j=>{if(d&&!t)return to;if(!j||j===to||f.current!==e||s!=null){const D=new Map;for(let M of e){if(!M)continue;if(s&&s.length>0&&!s.includes(M.id)&&M.rect.current){D.set(M.id,M.rect.current);continue}const b=M.node.current,w=b?new wn(l(b),b):null;M.rect.current=w,w&&D.set(M.id,w)}return D}return j},[e,s,t,d,l]);return p.useEffect(()=>{f.current=e},[e]),p.useEffect(()=>{d||x()},[t,d]),p.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),p.useEffect(()=>{d||typeof a!="number"||E.current!==null||(E.current=setTimeout(()=>{x(),E.current=null},a))},[a,d,x,...n]),{droppableRects:_,measureDroppableContainers:x,measuringScheduled:s!=null};function C(){switch(c){case Kt.Always:return!1;case Kt.BeforeDragging:return t;default:return!t}}}function ps(e,r){return rr(t=>e?t||(typeof r=="function"?r(e):e):null,[r,e])}function Yc(e,r){return ps(e,r)}function Qc(e){let{callback:r,disabled:t}=e;const n=yn(r),o=p.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,t]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function Rr(e){let{callback:r,disabled:t}=e;const n=yn(r),o=p.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[t]);return p.useEffect(()=>()=>o?.disconnect(),[o]),o}function Xc(e){return new wn(It(e),e)}function ro(e,r,t){r===void 0&&(r=Xc);const[n,o]=p.useState(null);function s(){o(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??t)!=null?c:null}const f=r(e);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const i=Qc({callback(l){if(e)for(const c of l){const{type:f,target:d}=c;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),a=Rr({callback:s});return Ge(()=>{s(),e?(a?.observe(e),i?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),i?.disconnect())},[e]),n}function Kc(e){const r=ps(e);return is(e,r)}const no=[];function Jc(e){const r=p.useRef(e),t=rr(n=>e?n&&n!==no&&e&&r.current&&e.parentNode===r.current.parentNode?n:Dr(e):no,[e]);return p.useEffect(()=>{r.current=e},[e]),t}function Zc(e){const[r,t]=p.useState(null),n=p.useRef(e),o=p.useCallback(s=>{const i=Yr(s.target);i&&t(a=>a?(a.set(i,ln(i)),new Map(a)):null)},[]);return p.useEffect(()=>{const s=n.current;if(e!==s){i(s);const a=e.map(l=>{const c=Yr(l);return c?(c.addEventListener("scroll",o,{passive:!0}),[c,ln(c)]):null}).filter(l=>l!=null);t(a.length?new Map(a):null),n.current=e}return()=>{i(e),i(s)};function i(a){a.forEach(l=>{const c=Yr(l);c?.removeEventListener("scroll",o)})}},[o,e]),p.useMemo(()=>e.length?r?Array.from(r.values()).reduce((s,i)=>At(s,i),$e):fs(e):$e,[e,r])}function oo(e,r){r===void 0&&(r=[]);const t=p.useRef(null);return p.useEffect(()=>{t.current=null},r),p.useEffect(()=>{const n=e!==$e;n&&!t.current&&(t.current=e),!n&&t.current&&(t.current=null)},[e]),t.current?Qt(e,t.current):$e}function eu(e){p.useEffect(()=>{if(!Ar)return;const r=e.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of r)t?.()}},e.map(r=>{let{sensor:t}=r;return t}))}function tu(e,r){return p.useMemo(()=>e.reduce((t,n)=>{let{eventName:o,handler:s}=n;return t[o]=i=>{s(i,r)},t},{}),[e,r])}function hs(e){return p.useMemo(()=>e?Ec(e):null,[e])}const so=[];function ru(e,r){r===void 0&&(r=It);const[t]=e,n=hs(t?Se(t):null),[o,s]=p.useState(so);function i(){s(()=>e.length?e.map(l=>us(l)?n:new wn(r(l),l)):so)}const a=Rr({callback:i});return Ge(()=>{a?.disconnect(),i(),e.forEach(l=>a?.observe(l))},[e]),o}function nu(e){if(!e)return null;if(e.children.length>1)return e;const r=e.children[0];return tr(r)?r:e}function ou(e){let{measure:r}=e;const[t,n]=p.useState(null),o=p.useCallback(c=>{for(const{target:f}of c)if(tr(f)){n(d=>{const h=r(f);return d?{...d,width:h.width,height:h.height}:h});break}},[r]),s=Rr({callback:o}),i=p.useCallback(c=>{const f=nu(c);s?.disconnect(),f&&s?.observe(f),n(f?r(f):null)},[r,s]),[a,l]=vr(i);return p.useMemo(()=>({nodeRef:a,rect:t,setRef:l}),[t,a,l])}const su=[{sensor:kn,options:{}},{sensor:_n,options:{}}],iu={current:{}},dr={draggable:{measure:Kn},droppable:{measure:Kn,strategy:Kt.WhileDragging,frequency:un.Optimized},dragOverlay:{measure:It}};class Gt extends Map{get(r){var t;return r!=null&&(t=super.get(r))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:t}=r;return!t})}getNodeFor(r){var t,n;return(t=(n=this.get(r))==null?void 0:n.node.current)!=null?t:void 0}}const au={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:br},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dr,measureDroppableContainers:br,windowRect:null,measuringScheduled:!1},lu={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:br,draggableNodes:new Map,over:null,measureDroppableContainers:br},Nr=p.createContext(lu),vs=p.createContext(au);function cu(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gt}}}function uu(e,r){switch(r.type){case ue.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case ue.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:r.coordinates.x-e.draggable.initialCoordinates.x,y:r.coordinates.y-e.draggable.initialCoordinates.y}}};case ue.DragEnd:case ue.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ue.RegisterDroppable:{const{element:t}=r,{id:n}=t,o=new Gt(e.droppable.containers);return o.set(n,t),{...e,droppable:{...e.droppable,containers:o}}}case ue.SetDroppableDisabled:{const{id:t,key:n,disabled:o}=r,s=e.droppable.containers.get(t);if(!s||n!==s.key)return e;const i=new Gt(e.droppable.containers);return i.set(t,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case ue.UnregisterDroppable:{const{id:t,key:n}=r,o=e.droppable.containers.get(t);if(!o||n!==o.key)return e;const s=new Gt(e.droppable.containers);return s.delete(t),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function du(e){let{disabled:r}=e;const{active:t,activatorEvent:n,draggableNodes:o}=p.useContext(Nr),s=sn(n),i=sn(t?.id);return p.useEffect(()=>{if(!r&&!n&&s&&i!=null){if(!xn(s)||document.activeElement===s.target)return;const a=o.get(i);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[l.current,c.current]){if(!f)continue;const d=oc(f);if(d){d.focus();break}}})}},[n,r,o,i,s]),null}function fu(e,r){let{transform:t,...n}=r;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...n}),t):t}function gu(e){return p.useMemo(()=>({draggable:{...dr.draggable,...e?.draggable},droppable:{...dr.droppable,...e?.droppable},dragOverlay:{...dr.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function mu(e){let{activeNode:r,measure:t,initialRect:n,config:o=!0}=e;const s=p.useRef(!1),{x:i,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Ge(()=>{if(!i&&!a||!r){s.current=!1;return}if(s.current||!n)return;const c=r?.node.current;if(!c||c.isConnected===!1)return;const f=t(c),d=is(f,n);if(i||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=as(c);h&&h.scrollBy({top:d.y,left:d.x})}},[r,i,a,n,t])}const bs=p.createContext({...$e,scaleX:1,scaleY:1});var lt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(lt||(lt={}));const pu=p.memo(function(r){var t,n,o,s;let{id:i,accessibility:a,autoScroll:l=!0,children:c,sensors:f=su,collisionDetection:d=yc,measuring:h,modifiers:x,...E}=r;const _=p.useReducer(uu,void 0,cu),[C,j]=_,[D,M]=uc(),[b,w]=p.useState(lt.Uninitialized),A=b===lt.Initialized,{draggable:{active:F,nodes:k,translate:z},droppable:{containers:X}}=C,U=F!=null?k.get(F):null,P=p.useRef({initial:null,translated:null}),B=p.useMemo(()=>{var ye;return F!=null?{id:F,data:(ye=U?.data)!=null?ye:iu,rect:P}:null},[F,U]),H=p.useRef(null),[J,K]=p.useState(null),[Q,T]=p.useState(null),le=Yt(E,Object.values(E)),Ee=nr("DndDescribedBy",i),Ue=p.useMemo(()=>X.getEnabled(),[X]),ie=gu(h),{droppableRects:Z,measureDroppableContainers:oe,measuringScheduled:Ae}=Gc(Ue,{dragging:A,dependencies:[z.x,z.y],config:ie.droppable}),he=Hc(k,F),te=p.useMemo(()=>Q?an(Q):null,[Q]),we=Es(),fe=Yc(he,ie.draggable.measure);mu({activeNode:F!=null?k.get(F):null,config:we.layoutShiftCompensation,initialRect:fe,measure:ie.draggable.measure});const q=ro(he,ie.draggable.measure,fe),ze=ro(he?he.parentElement:null),ge=p.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:X,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=X.getNodeFor((t=ge.current.over)==null?void 0:t.id),je=ou({measure:ie.dragOverlay.measure}),Qe=(n=je.nodeRef.current)!=null?n:he,tt=A?(o=je.rect)!=null?o:q:null,or=!!(je.nodeRef.current&&je.rect),Fr=Kc(or?null:q),yt=hs(Qe?Se(Qe):null),u=Jc(A?et??he:null),m=ru(u),v=fu(x,{transform:{x:z.x-Fr.x,y:z.y-Fr.y,scaleX:1,scaleY:1},activatorEvent:Q,active:B,activeNodeRect:q,containerNodeRect:ze,draggingNodeRect:tt,over:ge.current.over,overlayNodeRect:je.rect,scrollableAncestors:u,scrollableAncestorRects:m,windowRect:yt}),I=te?At(te,z):null,R=Zc(u),S=oo(R),L=oo(R,[q]),W=At(v,S),Y=tt?_c(tt,v):null,me=B&&Y?d({active:B,collisionRect:Y,droppableRects:Z,droppableContainers:Ue,pointerCoordinates:I}):null,ct=ss(me,"id"),[ve,sr]=p.useState(null),jt=or?v:At(v,L),Mt=xc(jt,(s=ve?.rect)!=null?s:null,q),Vt=p.useRef(null),Ot=p.useCallback((ye,De)=>{let{sensor:Re,options:rt}=De;if(H.current==null)return;const Me=k.get(H.current);if(!Me)return;const Ne=ye.nativeEvent,qe=new Re({active:H.current,activeNode:Me,event:Ne,options:rt,context:ge,onAbort(be){if(!k.get(be))return;const{onDragAbort:He}=le.current,Xe={id:be};He?.(Xe),D({type:"onDragAbort",event:Xe})},onPending(be,nt,He,Xe){if(!k.get(be))return;const{onDragPending:zt}=le.current,ot={id:be,constraint:nt,initialCoordinates:He,offset:Xe};zt?.(ot),D({type:"onDragPending",event:ot})},onStart(be){const nt=H.current;if(nt==null)return;const He=k.get(nt);if(!He)return;const{onDragStart:Xe}=le.current,Lt={activatorEvent:Ne,active:{id:nt,data:He.data,rect:P}};gt.unstable_batchedUpdates(()=>{Xe?.(Lt),w(lt.Initializing),j({type:ue.DragStart,initialCoordinates:be,active:nt}),D({type:"onDragStart",event:Lt}),K(Vt.current),T(Ne)})},onMove(be){j({type:ue.DragMove,coordinates:be})},onEnd:xt(ue.DragEnd),onCancel:xt(ue.DragCancel)});Vt.current=qe;function xt(be){return async function(){const{active:He,collisions:Xe,over:Lt,scrollAdjustedTranslate:zt}=ge.current;let ot=null;if(He&&zt){const{cancelDrop:Pt}=le.current;ot={activatorEvent:Ne,active:He,collisions:Xe,delta:zt,over:Lt},be===ue.DragEnd&&typeof Pt=="function"&&await Promise.resolve(Pt(ot))&&(be=ue.DragCancel)}H.current=null,gt.unstable_batchedUpdates(()=>{j({type:be}),w(lt.Uninitialized),sr(null),K(null),T(null),Vt.current=null;const Pt=be===ue.DragEnd?"onDragEnd":"onDragCancel";if(ot){const jr=le.current[Pt];jr?.(ot),D({type:Pt,event:ot})}})}}},[k]),Ir=p.useCallback((ye,De)=>(Re,rt)=>{const Me=Re.nativeEvent,Ne=k.get(rt);if(H.current!==null||!Ne||Me.dndKit||Me.defaultPrevented)return;const qe={active:Ne};ye(Re,De.options,qe)===!0&&(Me.dndKit={capturedBy:De.sensor},H.current=rt,Ot(Re,De))},[k,Ot]),Tt=Wc(f,Ir);eu(f),Ge(()=>{q&&b===lt.Initializing&&w(lt.Initialized)},[q,b]),p.useEffect(()=>{const{onDragMove:ye}=le.current,{active:De,activatorEvent:Re,collisions:rt,over:Me}=ge.current;if(!De||!Re)return;const Ne={active:De,activatorEvent:Re,collisions:rt,delta:{x:W.x,y:W.y},over:Me};gt.unstable_batchedUpdates(()=>{ye?.(Ne),D({type:"onDragMove",event:Ne})})},[W.x,W.y]),p.useEffect(()=>{const{active:ye,activatorEvent:De,collisions:Re,droppableContainers:rt,scrollAdjustedTranslate:Me}=ge.current;if(!ye||H.current==null||!De||!Me)return;const{onDragOver:Ne}=le.current,qe=rt.get(ct),xt=qe&&qe.rect.current?{id:qe.id,rect:qe.rect.current,data:qe.data,disabled:qe.disabled}:null,be={active:ye,activatorEvent:De,collisions:Re,delta:{x:Me.x,y:Me.y},over:xt};gt.unstable_batchedUpdates(()=>{sr(xt),Ne?.(be),D({type:"onDragOver",event:be})})},[ct]),Ge(()=>{ge.current={activatorEvent:Q,active:B,activeNode:he,collisionRect:Y,collisions:me,droppableRects:Z,draggableNodes:k,draggingNode:Qe,draggingNodeRect:tt,droppableContainers:X,over:ve,scrollableAncestors:u,scrollAdjustedTranslate:W},P.current={initial:tt,translated:Y}},[B,he,me,Y,k,Qe,tt,Z,X,ve,u,W]),$c({...we,delta:z,draggingRect:Y,pointerCoordinates:I,scrollableAncestors:u,scrollableAncestorRects:m});const ks=p.useMemo(()=>({active:B,activeNode:he,activeNodeRect:q,activatorEvent:Q,collisions:me,containerNodeRect:ze,dragOverlay:je,draggableNodes:k,droppableContainers:X,droppableRects:Z,over:ve,measureDroppableContainers:oe,scrollableAncestors:u,scrollableAncestorRects:m,measuringConfiguration:ie,measuringScheduled:Ae,windowRect:yt}),[B,he,q,Q,me,ze,je,k,X,Z,ve,oe,u,m,ie,Ae,yt]),Ss=p.useMemo(()=>({activatorEvent:Q,activators:Tt,active:B,activeNodeRect:q,ariaDescribedById:{draggable:Ee},dispatch:j,draggableNodes:k,over:ve,measureDroppableContainers:oe}),[Q,Tt,B,q,j,Ee,k,ve,oe]);return y.createElement(rs.Provider,{value:M},y.createElement(Nr.Provider,{value:Ss},y.createElement(vs.Provider,{value:ks},y.createElement(bs.Provider,{value:Mt},c)),y.createElement(du,{disabled:a?.restoreFocus===!1})),y.createElement(gc,{...a,hiddenTextDescribedById:Ee}));function Es(){const ye=J?.autoScrollEnabled===!1,De=typeof l=="object"?l.enabled===!1:l===!1,Re=A&&!ye&&!De;return typeof l=="object"?{...l,enabled:Re}:{enabled:Re}}}),hu=p.createContext(null),io="button",vu="Draggable";function bu(e){let{id:r,data:t,disabled:n=!1,attributes:o}=e;const s=nr(vu),{activators:i,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:f,draggableNodes:d,over:h}=p.useContext(Nr),{role:x=io,roleDescription:E="draggable",tabIndex:_=0}=o??{},C=l?.id===r,j=p.useContext(C?bs:hu),[D,M]=vr(),[b,w]=vr(),A=tu(i,r),F=Yt(t);Ge(()=>(d.set(r,{id:r,key:s,node:D,activatorNode:b,data:F}),()=>{const z=d.get(r);z&&z.key===s&&d.delete(r)}),[d,r]);const k=p.useMemo(()=>({role:x,tabIndex:_,"aria-disabled":n,"aria-pressed":C&&x===io?!0:void 0,"aria-roledescription":E,"aria-describedby":f.draggable}),[n,x,_,C,E,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:k,isDragging:C,listeners:n?void 0:A,node:D,over:h,setNodeRef:M,setActivatorNodeRef:w,transform:j}}function yu(){return p.useContext(vs)}const xu="Droppable",wu={timeout:25};function _u(e){let{data:r,disabled:t=!1,id:n,resizeObserverConfig:o}=e;const s=nr(xu),{active:i,dispatch:a,over:l,measureDroppableContainers:c}=p.useContext(Nr),f=p.useRef({disabled:t}),d=p.useRef(!1),h=p.useRef(null),x=p.useRef(null),{disabled:E,updateMeasurementsFor:_,timeout:C}={...wu,...o},j=Yt(_??n),D=p.useCallback(()=>{if(!d.current){d.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{c(Array.isArray(j.current)?j.current:[j.current]),x.current=null},C)},[C]),M=Rr({callback:D,disabled:E||!i}),b=p.useCallback((k,z)=>{M&&(z&&(M.unobserve(z),d.current=!1),k&&M.observe(k))},[M]),[w,A]=vr(b),F=Yt(r);return p.useEffect(()=>{!M||!w.current||(M.disconnect(),d.current=!1,M.observe(w.current))},[w,M]),p.useEffect(()=>(a({type:ue.RegisterDroppable,element:{id:n,key:s,disabled:t,node:w,rect:h,data:F}}),()=>a({type:ue.UnregisterDroppable,key:s,id:n})),[n]),p.useEffect(()=>{t!==f.current.disabled&&(a({type:ue.SetDroppableDisabled,id:n,key:s,disabled:t}),f.current.disabled=t)},[n,s,t,a]),{active:i,rect:h,isOver:l?.id===n,node:w,over:l,setNodeRef:A}}function Sn(e,r,t){const n=e.slice();return n.splice(t<0?n.length+t:t,0,n.splice(r,1)[0]),n}function Cu(e,r){return e.reduce((t,n,o)=>{const s=r.get(n);return s&&(t[o]=s),t},Array(e.length))}function cr(e){return e!==null&&e>=0}function ku(e,r){if(e===r)return!0;if(e.length!==r.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function Su(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ys=e=>{let{rects:r,activeIndex:t,overIndex:n,index:o}=e;const s=Sn(r,n,t),i=r[o],a=s[o];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},ur={scaleX:1,scaleY:1},Eu=e=>{var r;let{activeIndex:t,activeNodeRect:n,index:o,rects:s,overIndex:i}=e;const a=(r=s[t])!=null?r:n;if(!a)return null;if(o===t){const c=s[i];return c?{x:0,y:t<i?c.top+c.height-(a.top+a.height):c.top-a.top,...ur}:null}const l=Au(s,o,t);return o>t&&o<=i?{x:0,y:-a.height-l,...ur}:o<t&&o>=i?{x:0,y:a.height+l,...ur}:{x:0,y:0,...ur}};function Au(e,r,t){const n=e[r],o=e[r-1],s=e[r+1];return n?t<r?o?n.top-(o.top+o.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}const xs="Sortable",ws=y.createContext({activeIndex:-1,containerId:xs,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ys,disabled:{draggable:!1,droppable:!1}});function Du(e){let{children:r,id:t,items:n,strategy:o=ys,disabled:s=!1}=e;const{active:i,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:f}=yu(),d=nr(xs,t),h=a.rect!==null,x=p.useMemo(()=>n.map(A=>typeof A=="object"&&"id"in A?A.id:A),[n]),E=i!=null,_=i?x.indexOf(i.id):-1,C=c?x.indexOf(c.id):-1,j=p.useRef(x),D=!ku(x,j.current),M=C!==-1&&_===-1||D,b=Su(s);Ge(()=>{D&&E&&f(x)},[D,x,E,f]),p.useEffect(()=>{j.current=x},[x]);const w=p.useMemo(()=>({activeIndex:_,containerId:d,disabled:b,disableTransforms:M,items:x,overIndex:C,useDragOverlay:h,sortedRects:Cu(x,l),strategy:o}),[_,d,b.draggable,b.droppable,M,x,C,l,h,o]);return y.createElement(ws.Provider,{value:w},r)}const Ru=e=>{let{id:r,items:t,activeIndex:n,overIndex:o}=e;return Sn(t,n,o).indexOf(r)},Nu=e=>{let{containerId:r,isSorting:t,wasDragging:n,index:o,items:s,newIndex:i,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!n||a!==s&&o===i?!1:t?!0:i!==o&&r===l},Fu={duration:200,easing:"ease"},_s="transform",Iu=Xt.Transition.toString({property:_s,duration:0,easing:"linear"}),ju={roleDescription:"sortable"};function Mu(e){let{disabled:r,index:t,node:n,rect:o}=e;const[s,i]=p.useState(null),a=p.useRef(t);return Ge(()=>{if(!r&&t!==a.current&&n.current){const l=o.current;if(l){const c=It(n.current,{ignoreTransform:!0}),f={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(f.x||f.y)&&i(f)}}t!==a.current&&(a.current=t)},[r,t,n,o]),p.useEffect(()=>{s&&i(null)},[s]),s}function Vu(e){let{animateLayoutChanges:r=Nu,attributes:t,disabled:n,data:o,getNewIndex:s=Ru,id:i,strategy:a,resizeObserverConfig:l,transition:c=Fu}=e;const{items:f,containerId:d,activeIndex:h,disabled:x,disableTransforms:E,sortedRects:_,overIndex:C,useDragOverlay:j,strategy:D}=p.useContext(ws),M=Ou(n,x),b=f.indexOf(i),w=p.useMemo(()=>({sortable:{containerId:d,index:b,items:f},...o}),[d,o,b,f]),A=p.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:F,node:k,isOver:z,setNodeRef:X}=_u({id:i,data:w,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...l}}),{active:U,activatorEvent:P,activeNodeRect:B,attributes:H,setNodeRef:J,listeners:K,isDragging:Q,over:T,setActivatorNodeRef:le,transform:Ee}=bu({id:i,data:w,attributes:{...ju,...t},disabled:M.draggable}),Ue=ec(X,J),ie=!!U,Z=ie&&!E&&cr(h)&&cr(C),oe=!j&&Q,Ae=oe&&Z?Ee:null,te=Z?Ae??(a??D)({rects:_,activeNodeRect:B,activeIndex:h,overIndex:C,index:b}):null,we=cr(h)&&cr(C)?s({id:i,items:f,activeIndex:h,overIndex:C}):b,fe=U?.id,q=p.useRef({activeId:fe,items:f,newIndex:we,containerId:d}),ze=f!==q.current.items,ge=r({active:U,containerId:d,isDragging:Q,isSorting:ie,id:i,index:b,items:f,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:c,wasDragging:q.current.activeId!=null}),et=Mu({disabled:!ge,index:b,node:k,rect:F});return p.useEffect(()=>{ie&&q.current.newIndex!==we&&(q.current.newIndex=we),d!==q.current.containerId&&(q.current.containerId=d),f!==q.current.items&&(q.current.items=f)},[ie,we,d,f]),p.useEffect(()=>{if(fe===q.current.activeId)return;if(fe!=null&&q.current.activeId==null){q.current.activeId=fe;return}const Qe=setTimeout(()=>{q.current.activeId=fe},50);return()=>clearTimeout(Qe)},[fe]),{active:U,activeIndex:h,attributes:H,data:w,rect:F,index:b,newIndex:we,items:f,isOver:z,isSorting:ie,isDragging:Q,listeners:K,node:k,overIndex:C,over:T,setNodeRef:Ue,setActivatorNodeRef:le,setDroppableNodeRef:X,setDraggableNodeRef:J,transform:et??te,transition:je()};function je(){if(et||ze&&q.current.newIndex===b)return Iu;if(!(oe&&!xn(P)||!c)&&(ie||ge))return Xt.Transition.toString({...c,property:_s})}}function Ou(e,r){var t,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(t=e?.draggable)!=null?t:r.draggable,droppable:(n=e?.droppable)!=null?n:r.droppable}}function xr(e){if(!e)return!1;const r=e.data.current;return!!(r&&"sortable"in r&&typeof r.sortable=="object"&&"containerId"in r.sortable&&"items"in r.sortable&&"index"in r.sortable)}const Tu=[G.Down,G.Right,G.Up,G.Left],Lu=(e,r)=>{let{context:{active:t,collisionRect:n,droppableRects:o,droppableContainers:s,over:i,scrollableAncestors:a}}=r;if(Tu.includes(e.code)){if(e.preventDefault(),!t||!n)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=o.get(d.id);if(h)switch(e.code){case G.Down:n.top<h.top&&l.push(d);break;case G.Up:n.top>h.top&&l.push(d);break;case G.Left:n.left>h.left&&l.push(d);break;case G.Right:n.left<h.left&&l.push(d);break}});const c=vc({collisionRect:n,droppableRects:o,droppableContainers:l});let f=ss(c,"id");if(f===i?.id&&c.length>1&&(f=c[1].id),f!=null){const d=s.get(t.id),h=s.get(f),x=h?o.get(h.id):null,E=h?.node.current;if(E&&x&&d&&h){const C=Dr(E).some((A,F)=>a[F]!==A),j=Cs(d,h),D=zu(d,h),M=C||!j?{x:0,y:0}:{x:D?n.width-x.width:0,y:D?n.height-x.height:0},b={x:x.left,y:x.top};return M.x&&M.y?b:Qt(b,M)}}}};function Cs(e,r){return!xr(e)||!xr(r)?!1:e.data.current.sortable.containerId===r.data.current.sortable.containerId}function zu(e,r){return!xr(e)||!xr(r)||!Cs(e,r)?!1:e.data.current.sortable.index<r.data.current.sortable.index}const Pu=["Элемент 1","Элемент 2","Элемент 3","Элемент 4"],Bu=({id:e})=>{const{attributes:r,listeners:t,setNodeRef:n,transform:o,transition:s,isDragging:i}=Vu({id:e}),a={transform:Xt.Transform.toString(o),transition:s,padding:"10px 15px",margin:"5px 0",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",cursor:"grab",boxShadow:i?"0 4px 6px rgba(0, 0, 0, 0.1)":"none",opacity:i?.6:1};return g.jsxs("div",{ref:n,style:a,...r,children:[g.jsx("span",{children:e}),g.jsx("button",{...t,style:{cursor:"grab",background:"none",border:"none",color:"#111"},title:"Перетащить",type:"button",children:"☰ "})]})},$u=()=>{const[e,r]=p.useState(Pu),t=mc(Gr(kn),Gr(ms),Gr(_n,{coordinateGetter:Lu})),n=o=>{const{active:s,over:i}=o;s.id!==i.id&&r(a=>{const l=a.indexOf(s.id),c=a.indexOf(i.id);return Sn(a,l,c)})};return g.jsx(pu,{sensors:t,collisionDetection:hc,onDragEnd:n,children:g.jsx(Du,{items:e,strategy:Eu,children:g.jsx("div",{style:{width:300},children:e.map(o=>g.jsx(Bu,{id:o},o))})})})},Uu=({watch:e,options:r,removeOption:t,questionIndex:n,errors:o})=>{const{t:s}=Te(),i=e(`questions.${n}.options`);return g.jsxs("div",{className:ft.container,children:[g.jsx($u,{}),r.map((a,l)=>{const c=i[l].isCorrect;return g.jsxs("div",{className:Jt(ft.item,c&&ft.itemCorrect),children:[g.jsxs("div",{className:ft.itemHeader,children:[g.jsx("p",{className:ft.itemTitle,dangerouslySetInnerHTML:{__html:s("create_page.options.title",{value:c?`${l+1} <span>${s("create_page.options.right")}</span>`:l+1})}}),g.jsx("div",{className:ft.actions,children:g.jsx(Ze,{style:"icon",size:"sm",onClick:()=>t(l),type:"button",children:g.jsx(wr,{})})})]}),g.jsx("p",{className:ft.itemText,children:i[l].text}),o?.[l]?.text?.message&&g.jsx(We,{children:o?.[l]?.text?.message})]},a.id)})]})},qu=({watch:e,control:r,register:t,setValue:n,questionErrors:o,questionIndex:s})=>{const{t:i}=Te(),[a,l]=p.useState(!1),{fields:c,append:f,remove:d}=xo({control:r,name:`questions.${s}.options`,rules:vt(i).options}),h=()=>{f({text:"",image:null,isCorrect:!c.length},{shouldFocus:!1})},x=()=>{c.length||h(),l(!0)};return g.jsxs(g.Fragment,{children:[!!c.length&&g.jsxs(g.Fragment,{children:[g.jsx(on,{}),g.jsx(Uu,{watch:e,options:c,questionIndex:s,removeOption:d,errors:o?.options||[]})]}),g.jsx(Wl,{isOpen:a,addOption:h,questionIndex:s,onClose:()=>l(!1),options:c,setValue:n,watch:e,renderItem:({option:E,index:_,isCorrect:C,setCorrectOption:j})=>g.jsxs(p.Fragment,{children:[g.jsx(Vl,{index:_,questionIndex:s,isCorrect:C,register:t,setCorrectOption:j,remove:()=>d(_),answerErrors:o?.options?.[_]}),_!==c.length-1&&g.jsx(on,{className:"mt-3 mb-3"})]},E.id)}),g.jsx(pt,{children:g.jsx(Ze,{type:"button",style:"white",size:"sm",onClick:x,children:i("create_page.options.add_edit")})}),o?.options?.root?.message&&g.jsx(We,{className:"text-center",children:o?.options?.root?.message})]})},Hu=({control:e,translate:r})=>{const{fields:t,append:n,remove:o}=xo({control:e,name:"questions",rules:vt(r).questions});return{addQuestion:()=>{n({text:"",image:null,options:[],type:"SINGLE_CHOICE",order:t?.length||0},{shouldFocus:!1})},removeQuestion:o,fields:t}},Wu=({error:e,control:r,renderItem:t,isLoading:n})=>{const{t:o}=Te(),{fields:s,addQuestion:i,removeQuestion:a}=Hu({control:r,translate:o});return g.jsxs(To,{className:"mb-5",children:[g.jsx(Lo,{children:o("create_page.questions.title")}),g.jsx(ht,{children:o("create_page.questions.description")}),s.map((l,c)=>t({field:l,index:c,remove:()=>a(c)})),g.jsx(Ze,{disabled:n,type:"button",onClick:i,after:g.jsx(Ls,{}),children:o("create_page.questions.add_question")}),e&&g.jsx(We,{className:"text-center",children:e})]})},Gu=()=>{const e=p.useRef(null),{watch:r,control:t,onSubmit:n,register:o,setValue:s,clearErrors:i,errors:a,isLoading:l,setError:c}=yi(),f=!!Object.keys(a).length;return g.jsx("div",{className:"w-full max-w-md",children:g.jsxs("form",{ref:e,onSubmit:n,children:[g.jsx(wl,{control:t,register:o,errors:a,setError:c,clearErrors:i,setValue:s}),g.jsx(Wu,{isLoading:l,control:t,error:a.questions?.root?.message,renderItem:({field:d,remove:h,index:x})=>{const E=a?.questions?.[x];return g.jsx(kl,{index:x,renderHeader:g.jsx(Sl,{index:x,removeQuestion:h}),renderMain:g.jsx(El,{index:x,register:o,setValue:s,setError:c,clearErrors:i,questionErrors:E}),renderOptions:g.jsx(qu,{questionIndex:x,register:o,setValue:s,watch:r,control:t,setError:c,clearErrors:i,questionErrors:E})},d.id)}}),g.jsx(Va,{formRef:e,isDisabled:f,isLoading:l,onSubmit:n})]})})},Yu="_container_1g6ed_1",Qu="_content_1g6ed_5",Xu="_description_1g6ed_15",Kr={container:Yu,content:Qu,description:Xu};function td(){const{t:e}=Te();return g.jsx(Is,{withNavigation:!1,className:Kr.container,children:g.jsxs("div",{className:Kr.content,children:[g.jsx(Ms,{title:e("create_page.title")}),g.jsx("p",{className:Kr.description,children:e("create_page.description")}),g.jsx(Gu,{})]})})}export{td as default};
