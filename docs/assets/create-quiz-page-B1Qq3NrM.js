import{c as ut,R as x,a as dn,u as Ds,b as Rs,n as Ns,d as Jt,r as h,e as Fs,j as g,f as Oe,g as mt,B as et,h as Is,i as js,P as Ms}from"./index-B_0r3ogX.js";import{T as wr}from"./trash-2-BgTgcqKX.js";import{V as Vs}from"./index-C75ONpbI.js";import{S as Ts}from"./SectionHeader-DNMcYEgS.js";const Os=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Ls=ut("badge-plus",Os);const zs=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],Ps=ut("file-plus-corner",zs);const Bs=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],$s=ut("file-plus",Bs);const qs=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Us=ut("grip-vertical",qs);const Hs=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],Ws=ut("images",Hs);const Gs=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Ys=ut("redo-2",Gs);const Qs=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xs=ut("square-check-big",Qs);const Ks=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Js=ut("undo-2",Ks);var Zt=e=>e.type==="checkbox",pt=e=>e instanceof Date,Ce=e=>e==null;const lo=e=>typeof e=="object";var ae=e=>!Ce(e)&&!Array.isArray(e)&&lo(e)&&!pt(e),co=e=>ae(e)&&e.target?Zt(e.target)?e.target.checked:e.target.value:e,Zs=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,uo=(e,r)=>e.has(Zs(r)),ei=e=>{const r=e.constructor&&e.constructor.prototype;return ae(r)&&r.hasOwnProperty("isPrototypeOf")},fn=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ne(e){let r;const t=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(fn&&(e instanceof Blob||n))&&(t||ae(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!ei(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=ne(e[o]));else return e;return r}var _r=e=>/^\w*$/.test(e),re=e=>e===void 0,Cr=e=>Array.isArray(e)?e.filter(Boolean):[],gn=e=>Cr(e.replace(/["|']|\]/g,"").split(/\.|\[/)),N=(e,r,t)=>{if(!r||!ae(e))return t;const n=(_r(r)?[r]:gn(r)).reduce((o,s)=>Ce(o)?o:o[s],e);return re(n)||n===e?re(e[r])?t:e[r]:n},Fe=e=>typeof e=="boolean",ee=(e,r,t)=>{let n=-1;const o=_r(r)?[r]:gn(r),s=o.length,i=s-1;for(;++n<s;){const a=o[n];let l=t;if(n!==i){const c=e[a];l=ae(c)||Array.isArray(c)?c:isNaN(+o[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const fr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Te={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ke={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fo=x.createContext(null);fo.displayName="HookFormContext";const kr=()=>x.useContext(fo);var go=(e,r,t,n=!0)=>{const o={defaultValues:r._defaultValues};for(const s in e)Object.defineProperty(o,s,{get:()=>{const i=s;return r._proxyFormState[i]!==Te.all&&(r._proxyFormState[i]=!n||Te.all),t&&(t[i]=!0),e[i]}});return o};const Sr=typeof window<"u"?x.useLayoutEffect:x.useEffect;function ti(e){const r=kr(),{control:t=r.control,disabled:n,name:o,exact:s}=e||{},[i,a]=x.useState(t._formState),l=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Sr(()=>t._subscribe({name:o,formState:l.current,exact:s,callback:c=>{!n&&a({...t._formState,...c})}}),[o,n,s]),x.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),x.useMemo(()=>go(i,t,l.current,!1),[i,t])}var Ie=e=>typeof e=="string",Jr=(e,r,t,n,o)=>Ie(e)?(n&&r.watch.add(e),N(t,e,o)):Array.isArray(e)?e.map(s=>(n&&r.watch.add(s),N(t,s))):(n&&(r.watchAll=!0),t),Zr=e=>Ce(e)||!lo(e);function Pe(e,r,t=new WeakSet){if(Zr(e)||Zr(r))return Object.is(e,r);if(pt(e)&&pt(r))return e.getTime()===r.getTime();const n=Object.keys(e),o=Object.keys(r);if(n.length!==o.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const s of n){const i=e[s];if(!o.includes(s))return!1;if(s!=="ref"){const a=r[s];if(pt(i)&&pt(a)||ae(i)&&ae(a)||Array.isArray(i)&&Array.isArray(a)?!Pe(i,a,t):!Object.is(i,a))return!1}}return!0}function ri(e){const r=kr(),{control:t=r.control,name:n,defaultValue:o,disabled:s,exact:i,compute:a}=e||{},l=x.useRef(o),c=x.useRef(a),f=x.useRef(void 0),d=x.useRef(t),p=x.useRef(n);c.current=a;const[y,E]=x.useState(()=>{const b=t._getWatch(n,l.current);return c.current?c.current(b):b}),_=x.useCallback(b=>{const w=Jr(n,t._names,b||t._formValues,!1,l.current);return c.current?c.current(w):w},[t._formValues,t._names,n]),C=x.useCallback(b=>{if(!s){const w=Jr(n,t._names,b||t._formValues,!1,l.current);if(c.current){const A=c.current(w);Pe(A,f.current)||(E(A),f.current=A)}else E(w)}},[t._formValues,t._names,s,n]);Sr(()=>((d.current!==t||!Pe(p.current,n))&&(d.current=t,p.current=n,C()),t._subscribe({name:n,formState:{values:!0},exact:i,callback:b=>{C(b.values)}})),[t,i,n,C]),x.useEffect(()=>t._removeUnmounted());const j=d.current!==t,D=p.current,M=x.useMemo(()=>{if(s)return null;const b=!j&&!Pe(D,n);return j||b?_():null},[s,j,n,D,_]);return M!==null?M:y}function ni(e){const r=kr(),{name:t,disabled:n,control:o=r.control,shouldUnregister:s,defaultValue:i,exact:a=!0}=e,l=uo(o._names.array,t),c=x.useMemo(()=>N(o._formValues,t,N(o._defaultValues,t,i)),[o,t,i]),f=ri({control:o,name:t,defaultValue:c,exact:a}),d=ti({control:o,name:t,exact:a}),p=x.useRef(e),y=x.useRef(void 0),E=x.useRef(o.register(t,{...e.rules,value:f,...Fe(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;const _=x.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!N(d.errors,t)},isDirty:{enumerable:!0,get:()=>!!N(d.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!N(d.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!N(d.validatingFields,t)},error:{enumerable:!0,get:()=>N(d.errors,t)}}),[d,t]),C=x.useCallback(b=>E.current.onChange({target:{value:co(b),name:t},type:fr.CHANGE}),[t]),j=x.useCallback(()=>E.current.onBlur({target:{value:N(o._formValues,t),name:t},type:fr.BLUR}),[t,o._formValues]),D=x.useCallback(b=>{const w=N(o._fields,t);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:A=>b.setCustomValidity(A),reportValidity:()=>b.reportValidity()})},[o._fields,t]),M=x.useMemo(()=>({name:t,value:f,...Fe(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:C,onBlur:j,ref:D}),[t,n,d.disabled,C,j,D,f]);return x.useEffect(()=>{const b=o._options.shouldUnregister||s,w=y.current;w&&w!==t&&!l&&o.unregister(w),o.register(t,{...p.current.rules,...Fe(p.current.disabled)?{disabled:p.current.disabled}:{}});const A=(F,k)=>{const z=N(o._fields,F);z&&z._f&&(z._f.mount=k)};if(A(t,!0),b){const F=ne(N(o._options.defaultValues,t,p.current.defaultValue));ee(o._defaultValues,t,F),re(N(o._formValues,t))&&ee(o._formValues,t,F)}return!l&&o.register(t),y.current=t,()=>{(l?b&&!o._state.action:b)?o.unregister(t):A(t,!1)}},[t,o,l,s]),x.useEffect(()=>{o._setDisabledField({disabled:n,name:t})},[n,t,o]),x.useMemo(()=>({field:M,formState:d,fieldState:_}),[M,d,_])}const oi=e=>e.render(ni(e));var si=(e,r,t,n,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:o||!0}}:{},ke=e=>Array.isArray(e)?e:[e],En=()=>{let e=[];return{get observers(){return e},next:o=>{for(const s of e)s.next&&s.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(s=>s!==o)}}),unsubscribe:()=>{e=[]}}};function mo(e,r){const t={};for(const n in e)if(e.hasOwnProperty(n)){const o=e[n],s=r[n];if(o&&ae(o)&&s){const i=mo(o,s);ae(i)&&(t[n]=i)}else e[n]&&(t[n]=s)}return t}var xe=e=>ae(e)&&!Object.keys(e).length,mn=e=>e.type==="file",Be=e=>typeof e=="function",gr=e=>{if(!fn)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},po=e=>e.type==="select-multiple",pn=e=>e.type==="radio",ii=e=>pn(e)||Zt(e),Mr=e=>gr(e)&&e.isConnected;function ai(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=re(e)?n++:e[r[n++]];return e}function li(e){for(const r in e)if(e.hasOwnProperty(r)&&!re(e[r]))return!1;return!0}function se(e,r){const t=Array.isArray(r)?r:_r(r)?[r]:gn(r),n=t.length===1?e:ai(e,t),o=t.length-1,s=t[o];return n&&delete n[s],o!==0&&(ae(n)&&xe(n)||Array.isArray(n)&&li(n))&&se(e,t.slice(0,-1)),e}var ci=e=>{for(const r in e)if(Be(e[r]))return!0;return!1};function ho(e){return Array.isArray(e)||ae(e)&&!ci(e)}function en(e,r={}){for(const t in e){const n=e[t];ho(n)?(r[t]=Array.isArray(n)?[]:{},en(n,r[t])):re(n)||(r[t]=!0)}return r}function Ct(e,r,t){t||(t=en(r));for(const n in e){const o=e[n];if(ho(o))re(r)||Zr(t[n])?t[n]=en(o,Array.isArray(o)?[]:{}):Ct(o,Ce(r)?{}:r[n],t[n]);else{const s=r[n];t[n]=!Pe(o,s)}}return t}const An={value:!1,isValid:!1},Dn={value:!0,isValid:!0};var vo=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!re(e[0].attributes.value)?re(e[0].value)||e[0].value===""?Dn:{value:e[0].value,isValid:!0}:Dn:An}return An},bo=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>re(e)?e:r?e===""?NaN:e&&+e:t&&Ie(e)?new Date(e):n?n(e):e;const Rn={isValid:!1,value:null};var yo=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Rn):Rn;function Nn(e){const r=e.ref;return mn(r)?r.files:pn(r)?yo(e.refs).value:po(r)?[...r.selectedOptions].map(({value:t})=>t):Zt(r)?vo(e.refs).value:bo(re(r.value)?e.ref.value:r.value,e)}var ui=(e,r,t,n)=>{const o={};for(const s of e){const i=N(r,s);i&&ee(o,s,i._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:n}},mr=e=>e instanceof RegExp,Bt=e=>re(e)?e:mr(e)?e.source:ae(e)?mr(e.value)?e.value.source:e.value:e,kt=e=>({isOnSubmit:!e||e===Te.onSubmit,isOnBlur:e===Te.onBlur,isOnChange:e===Te.onChange,isOnAll:e===Te.all,isOnTouch:e===Te.onTouched});const Fn="AsyncFunction";var di=e=>!!e&&!!e.validate&&!!(Be(e.validate)&&e.validate.constructor.name===Fn||ae(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===Fn)),fi=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),tn=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const St=(e,r,t,n)=>{for(const o of t||Object.keys(e)){const s=N(e,o);if(s){const{_f:i,...a}=s;if(i){if(i.refs&&i.refs[0]&&r(i.refs[0],o)&&!n)return!0;if(i.ref&&r(i.ref,i.name)&&!n)return!0;if(St(a,r))break}else if(ae(a)&&St(a,r))break}}};function In(e,r,t){const n=N(e,t);if(n||_r(t))return{error:n,name:t};const o=t.split(".");for(;o.length;){const s=o.join("."),i=N(r,s),a=N(e,s);if(i&&!Array.isArray(i)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};o.pop()}return{name:t}}var gi=(e,r,t,n)=>{t(e);const{name:o,...s}=e;return xe(s)||Object.keys(s).length>=Object.keys(r).length||Object.keys(s).find(i=>r[i]===(!n||Te.all))},mi=(e,r,t)=>!e||!r||e===r||ke(e).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n))),pi=(e,r,t,n,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?n.isOnBlur:o.isOnBlur)?!e:(t?n.isOnChange:o.isOnChange)?e:!0,hi=(e,r)=>!Cr(N(e,r)).length&&se(e,r),xo=(e,r,t)=>{const n=ke(N(e,t));return ee(n,"root",r[t]),ee(e,t,n),e};function jn(e,r,t="validate"){if(Ie(e)||Array.isArray(e)&&e.every(Ie)||Fe(e)&&!e)return{type:t,message:Ie(e)?e:"",ref:r}}var wt=e=>ae(e)&&!mr(e)?e:{value:e,message:""},rn=async(e,r,t,n,o,s)=>{const{ref:i,refs:a,required:l,maxLength:c,minLength:f,min:d,max:p,pattern:y,validate:E,name:_,valueAsNumber:C,mount:j}=e._f,D=N(t,_);if(!j||r.has(_))return{};const M=a?a[0]:i,b=P=>{o&&M.reportValidity&&(M.setCustomValidity(Fe(P)?"":P||""),M.reportValidity())},w={},A=pn(i),F=Zt(i),k=A||F,z=(C||mn(i))&&re(i.value)&&re(D)||gr(i)&&i.value===""||D===""||Array.isArray(D)&&!D.length,X=si.bind(null,_,n,w),q=(P,B,H,J=Ke.maxLength,K=Ke.minLength)=>{const Q=P?B:H;w[_]={type:P?J:K,message:Q,ref:i,...X(P?J:K,Q)}};if(s?!Array.isArray(D)||!D.length:l&&(!k&&(z||Ce(D))||Fe(D)&&!D||F&&!vo(a).isValid||A&&!yo(a).isValid)){const{value:P,message:B}=Ie(l)?{value:!!l,message:l}:wt(l);if(P&&(w[_]={type:Ke.required,message:B,ref:M,...X(Ke.required,B)},!n))return b(B),w}if(!z&&(!Ce(d)||!Ce(p))){let P,B;const H=wt(p),J=wt(d);if(!Ce(D)&&!isNaN(D)){const K=i.valueAsNumber||D&&+D;Ce(H.value)||(P=K>H.value),Ce(J.value)||(B=K<J.value)}else{const K=i.valueAsDate||new Date(D),Q=Ee=>new Date(new Date().toDateString()+" "+Ee),O=i.type=="time",le=i.type=="week";Ie(H.value)&&D&&(P=O?Q(D)>Q(H.value):le?D>H.value:K>new Date(H.value)),Ie(J.value)&&D&&(B=O?Q(D)<Q(J.value):le?D<J.value:K<new Date(J.value))}if((P||B)&&(q(!!P,H.message,J.message,Ke.max,Ke.min),!n))return b(w[_].message),w}if((c||f)&&!z&&(Ie(D)||s&&Array.isArray(D))){const P=wt(c),B=wt(f),H=!Ce(P.value)&&D.length>+P.value,J=!Ce(B.value)&&D.length<+B.value;if((H||J)&&(q(H,P.message,B.message),!n))return b(w[_].message),w}if(y&&!z&&Ie(D)){const{value:P,message:B}=wt(y);if(mr(P)&&!D.match(P)&&(w[_]={type:Ke.pattern,message:B,ref:i,...X(Ke.pattern,B)},!n))return b(B),w}if(E){if(Be(E)){const P=await E(D,t),B=jn(P,M);if(B&&(w[_]={...B,...X(Ke.validate,B.message)},!n))return b(B.message),w}else if(ae(E)){let P={};for(const B in E){if(!xe(P)&&!n)break;const H=jn(await E[B](D,t),M,B);H&&(P={...H,...X(B,H.message)},b(H.message),n&&(w[_]=P))}if(!xe(P)&&(w[_]={ref:M,...P},!n))return w}}return b(!0),w};const vi={mode:Te.onSubmit,reValidateMode:Te.onChange,shouldFocusError:!0};function bi(e={}){let r={...vi,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Be(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},o=ae(r.defaultValues)||ae(r.values)?ne(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:ne(o),i={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const p={array:En(),state:En()},y=r.criteriaMode===Te.all,E=u=>m=>{clearTimeout(c),c=setTimeout(u,m)},_=async u=>{if(!r.disabled&&(f.isValid||d.isValid||u)){const m=r.resolver?xe((await F()).errors):await z(n,!0);m!==t.isValid&&p.state.next({isValid:m})}},C=(u,m)=>{!r.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((u||Array.from(a.mount)).forEach(v=>{v&&(m?ee(t.validatingFields,v,m):se(t.validatingFields,v))}),p.state.next({validatingFields:t.validatingFields,isValidating:!xe(t.validatingFields)}))},j=(u,m=[],v,I,R=!0,S=!0)=>{if(I&&v&&!r.disabled){if(i.action=!0,S&&Array.isArray(N(n,u))){const L=v(N(n,u),I.argA,I.argB);R&&ee(n,u,L)}if(S&&Array.isArray(N(t.errors,u))){const L=v(N(t.errors,u),I.argA,I.argB);R&&ee(t.errors,u,L),hi(t.errors,u)}if((f.touchedFields||d.touchedFields)&&S&&Array.isArray(N(t.touchedFields,u))){const L=v(N(t.touchedFields,u),I.argA,I.argB);R&&ee(t.touchedFields,u,L)}(f.dirtyFields||d.dirtyFields)&&(t.dirtyFields=Ct(o,s)),p.state.next({name:u,isDirty:q(u,m),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ee(s,u,m)},D=(u,m)=>{ee(t.errors,u,m),p.state.next({errors:t.errors})},M=u=>{t.errors=u,p.state.next({errors:t.errors,isValid:!1})},b=(u,m,v,I)=>{const R=N(n,u);if(R){const S=N(s,u,re(v)?N(o,u):v);re(S)||I&&I.defaultChecked||m?ee(s,u,m?S:Nn(R._f)):H(u,S),i.mount&&!i.action&&_()}},w=(u,m,v,I,R)=>{let S=!1,L=!1;const W={name:u};if(!r.disabled){if(!v||I){(f.isDirty||d.isDirty)&&(L=t.isDirty,t.isDirty=W.isDirty=q(),S=L!==W.isDirty);const Y=Pe(N(o,u),m);L=!!N(t.dirtyFields,u),Y?se(t.dirtyFields,u):ee(t.dirtyFields,u,!0),W.dirtyFields=t.dirtyFields,S=S||(f.dirtyFields||d.dirtyFields)&&L!==!Y}if(v){const Y=N(t.touchedFields,u);Y||(ee(t.touchedFields,u,v),W.touchedFields=t.touchedFields,S=S||(f.touchedFields||d.touchedFields)&&Y!==v)}S&&R&&p.state.next(W)}return S?W:{}},A=(u,m,v,I)=>{const R=N(t.errors,u),S=(f.isValid||d.isValid)&&Fe(m)&&t.isValid!==m;if(r.delayError&&v?(l=E(()=>D(u,v)),l(r.delayError)):(clearTimeout(c),l=null,v?ee(t.errors,u,v):se(t.errors,u)),(v?!Pe(R,v):R)||!xe(I)||S){const L={...I,...S&&Fe(m)?{isValid:m}:{},errors:t.errors,name:u};t={...t,...L},p.state.next(L)}},F=async u=>{C(u,!0);const m=await r.resolver(s,r.context,ui(u||a.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return C(u),m},k=async u=>{const{errors:m}=await F(u);if(u)for(const v of u){const I=N(m,v);I?ee(t.errors,v,I):se(t.errors,v)}else t.errors=m;return m},z=async(u,m,v={valid:!0})=>{for(const I in u){const R=u[I];if(R){const{_f:S,...L}=R;if(S){const W=a.array.has(S.name),Y=R._f&&di(R._f);Y&&f.validatingFields&&C([S.name],!0);const me=await rn(R,a.disabled,s,y,r.shouldUseNativeValidation&&!m,W);if(Y&&f.validatingFields&&C([S.name]),me[S.name]&&(v.valid=!1,m))break;!m&&(N(me,S.name)?W?xo(t.errors,me,S.name):ee(t.errors,S.name,me[S.name]):se(t.errors,S.name))}!xe(L)&&await z(L,m,v)}}return v.valid},X=()=>{for(const u of a.unMount){const m=N(n,u);m&&(m._f.refs?m._f.refs.every(v=>!Mr(v)):!Mr(m._f.ref))&&te(u)}a.unMount=new Set},q=(u,m)=>!r.disabled&&(u&&m&&ee(s,u,m),!Pe(Ee(),o)),P=(u,m,v)=>Jr(u,a,{...i.mount?s:re(m)?o:Ie(u)?{[u]:m}:m},v,m),B=u=>Cr(N(i.mount?s:o,u,r.shouldUnregister?N(o,u,[]):[])),H=(u,m,v={})=>{const I=N(n,u);let R=m;if(I){const S=I._f;S&&(!S.disabled&&ee(s,u,bo(m,S)),R=gr(S.ref)&&Ce(m)?"":m,po(S.ref)?[...S.ref.options].forEach(L=>L.selected=R.includes(L.value)):S.refs?Zt(S.ref)?S.refs.forEach(L=>{(!L.defaultChecked||!L.disabled)&&(Array.isArray(R)?L.checked=!!R.find(W=>W===L.value):L.checked=R===L.value||!!R)}):S.refs.forEach(L=>L.checked=L.value===R):mn(S.ref)?S.ref.value="":(S.ref.value=R,S.ref.type||p.state.next({name:u,values:ne(s)})))}(v.shouldDirty||v.shouldTouch)&&w(u,R,v.shouldTouch,v.shouldDirty,!0),v.shouldValidate&&le(u)},J=(u,m,v)=>{for(const I in m){if(!m.hasOwnProperty(I))return;const R=m[I],S=u+"."+I,L=N(n,S);(a.array.has(u)||ae(R)||L&&!L._f)&&!pt(R)?J(S,R,v):H(S,R,v)}},K=(u,m,v={})=>{const I=N(n,u),R=a.array.has(u),S=ne(m);ee(s,u,S),R?(p.array.next({name:u,values:ne(s)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&v.shouldDirty&&p.state.next({name:u,dirtyFields:Ct(o,s),isDirty:q(u,S)})):I&&!I._f&&!Ce(S)?J(u,S,v):H(u,S,v),tn(u,a)&&p.state.next({...t,name:u}),p.state.next({name:i.mount?u:void 0,values:ne(s)})},Q=async u=>{i.mount=!0;const m=u.target;let v=m.name,I=!0;const R=N(n,v),S=Y=>{I=Number.isNaN(Y)||pt(Y)&&isNaN(Y.getTime())||Pe(Y,N(s,v,Y))},L=kt(r.mode),W=kt(r.reValidateMode);if(R){let Y,me;const dt=m.type?Nn(R._f):co(u),ve=u.type===fr.BLUR||u.type===fr.FOCUS_OUT,sr=!fi(R._f)&&!r.resolver&&!N(t.errors,v)&&!R._f.deps||pi(ve,N(t.touchedFields,v),t.isSubmitted,W,L),jt=tn(v,a,ve);ee(s,v,dt),ve?(!m||!m.readOnly)&&(R._f.onBlur&&R._f.onBlur(u),l&&l(0)):R._f.onChange&&R._f.onChange(u);const Mt=w(v,dt,ve),Vt=!xe(Mt)||jt;if(!ve&&p.state.next({name:v,type:u.type,values:ne(s)}),sr)return(f.isValid||d.isValid)&&(r.mode==="onBlur"?ve&&_():ve||_()),Vt&&p.state.next({name:v,...jt?{}:Mt});if(!ve&&jt&&p.state.next({...t}),r.resolver){const{errors:Tt}=await F([v]);if(S(dt),I){const Ir=In(t.errors,n,v),Ot=In(Tt,n,Ir.name||v);Y=Ot.error,v=Ot.name,me=xe(Tt)}}else C([v],!0),Y=(await rn(R,a.disabled,s,y,r.shouldUseNativeValidation))[v],C([v]),S(dt),I&&(Y?me=!1:(f.isValid||d.isValid)&&(me=await z(n,!0)));I&&(R._f.deps&&(!Array.isArray(R._f.deps)||R._f.deps.length>0)&&le(R._f.deps),A(v,me,Y,Mt))}},O=(u,m)=>{if(N(t.errors,m)&&u.focus)return u.focus(),1},le=async(u,m={})=>{let v,I;const R=ke(u);if(r.resolver){const S=await k(re(u)?u:R);v=xe(S),I=u?!R.some(L=>N(S,L)):v}else u?(I=(await Promise.all(R.map(async S=>{const L=N(n,S);return await z(L&&L._f?{[S]:L}:L)}))).every(Boolean),!(!I&&!t.isValid)&&_()):I=v=await z(n);return p.state.next({...!Ie(u)||(f.isValid||d.isValid)&&v!==t.isValid?{}:{name:u},...r.resolver||!u?{isValid:v}:{},errors:t.errors}),m.shouldFocus&&!I&&St(n,O,u?R:a.mount),I},Ee=(u,m)=>{let v={...i.mount?s:o};return m&&(v=mo(m.dirtyFields?t.dirtyFields:t.touchedFields,v)),re(u)?v:Ie(u)?N(v,u):u.map(I=>N(v,I))},qe=(u,m)=>({invalid:!!N((m||t).errors,u),isDirty:!!N((m||t).dirtyFields,u),error:N((m||t).errors,u),isValidating:!!N(t.validatingFields,u),isTouched:!!N((m||t).touchedFields,u)}),ie=u=>{u&&ke(u).forEach(m=>se(t.errors,m)),p.state.next({errors:u?t.errors:{}})},Z=(u,m,v)=>{const I=(N(n,u,{_f:{}})._f||{}).ref,R=N(t.errors,u)||{},{ref:S,message:L,type:W,...Y}=R;ee(t.errors,u,{...Y,...m,ref:I}),p.state.next({name:u,errors:t.errors,isValid:!1}),v&&v.shouldFocus&&I&&I.focus&&I.focus()},oe=(u,m)=>Be(u)?p.state.subscribe({next:v=>"values"in v&&u(P(void 0,m),v)}):P(u,m,!0),Ae=u=>p.state.subscribe({next:m=>{mi(u.name,m.name,u.exact)&&gi(m,u.formState||f,or,u.reRenderRoot)&&u.callback({values:{...s},...t,...m,defaultValues:o})}}).unsubscribe,he=u=>(i.mount=!0,d={...d,...u.formState},Ae({...u,formState:d})),te=(u,m={})=>{for(const v of u?ke(u):a.mount)a.mount.delete(v),a.array.delete(v),m.keepValue||(se(n,v),se(s,v)),!m.keepError&&se(t.errors,v),!m.keepDirty&&se(t.dirtyFields,v),!m.keepTouched&&se(t.touchedFields,v),!m.keepIsValidating&&se(t.validatingFields,v),!r.shouldUnregister&&!m.keepDefaultValue&&se(o,v);p.state.next({values:ne(s)}),p.state.next({...t,...m.keepDirty?{isDirty:q()}:{}}),!m.keepIsValid&&_()},we=({disabled:u,name:m})=>{(Fe(u)&&i.mount||u||a.disabled.has(m))&&(u?a.disabled.add(m):a.disabled.delete(m))},fe=(u,m={})=>{let v=N(n,u);const I=Fe(m.disabled)||Fe(r.disabled);return ee(n,u,{...v||{},_f:{...v&&v._f?v._f:{ref:{name:u}},name:u,mount:!0,...m}}),a.mount.add(u),v?we({disabled:Fe(m.disabled)?m.disabled:r.disabled,name:u}):b(u,!0,m.value),{...I?{disabled:m.disabled||r.disabled}:{},...r.progressive?{required:!!m.required,min:Bt(m.min),max:Bt(m.max),minLength:Bt(m.minLength),maxLength:Bt(m.maxLength),pattern:Bt(m.pattern)}:{},name:u,onChange:Q,onBlur:Q,ref:R=>{if(R){fe(u,m),v=N(n,u);const S=re(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,L=ii(S),W=v._f.refs||[];if(L?W.find(Y=>Y===S):S===v._f.ref)return;ee(n,u,{_f:{...v._f,...L?{refs:[...W.filter(Mr),S,...Array.isArray(N(o,u))?[{}]:[]],ref:{type:S.type,name:u}}:{ref:S}}}),b(u,!1,void 0,S)}else v=N(n,u,{}),v._f&&(v._f.mount=!1),(r.shouldUnregister||m.shouldUnregister)&&!(uo(a.array,u)&&i.action)&&a.unMount.add(u)}}},U=()=>r.shouldFocusError&&St(n,O,a.mount),ze=u=>{Fe(u)&&(p.state.next({disabled:u}),St(n,(m,v)=>{const I=N(n,v);I&&(m.disabled=I._f.disabled||u,Array.isArray(I._f.refs)&&I._f.refs.forEach(R=>{R.disabled=I._f.disabled||u}))},0,!1))},ge=(u,m)=>async v=>{let I;v&&(v.preventDefault&&v.preventDefault(),v.persist&&v.persist());let R=ne(s);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:S,values:L}=await F();t.errors=S,R=ne(L)}else await z(n);if(a.disabled.size)for(const S of a.disabled)se(R,S);if(se(t.errors,"root"),xe(t.errors)){p.state.next({errors:{}});try{await u(R,v)}catch(S){I=S}}else m&&await m({...t.errors},v),U(),setTimeout(U);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xe(t.errors)&&!I,submitCount:t.submitCount+1,errors:t.errors}),I)throw I},tt=(u,m={})=>{N(n,u)&&(re(m.defaultValue)?K(u,ne(N(o,u))):(K(u,m.defaultValue),ee(o,u,ne(m.defaultValue))),m.keepTouched||se(t.touchedFields,u),m.keepDirty||(se(t.dirtyFields,u),t.isDirty=m.defaultValue?q(u,ne(N(o,u))):q()),m.keepError||(se(t.errors,u),f.isValid&&_()),p.state.next({...t}))},je=(u,m={})=>{const v=u?ne(u):o,I=ne(v),R=xe(u),S=R?o:I;if(m.keepDefaultValues||(o=v),!m.keepValues){if(m.keepDirtyValues){const L=new Set([...a.mount,...Object.keys(Ct(o,s))]);for(const W of Array.from(L))N(t.dirtyFields,W)?ee(S,W,N(s,W)):K(W,N(S,W))}else{if(fn&&re(u))for(const L of a.mount){const W=N(n,L);if(W&&W._f){const Y=Array.isArray(W._f.refs)?W._f.refs[0]:W._f.ref;if(gr(Y)){const me=Y.closest("form");if(me){me.reset();break}}}}if(m.keepFieldsRef)for(const L of a.mount)K(L,N(S,L));else n={}}s=r.shouldUnregister?m.keepDefaultValues?ne(o):{}:ne(S),p.array.next({values:{...S}}),p.state.next({values:{...S}})}a={mount:m.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!f.isValid||!!m.keepIsValid||!!m.keepDirtyValues||!r.shouldUnregister&&!xe(S),i.watch=!!r.shouldUnregister,i.action=!1,m.keepErrors||(t.errors={}),p.state.next({submitCount:m.keepSubmitCount?t.submitCount:0,isDirty:R?!1:m.keepDirty?t.isDirty:!!(m.keepDefaultValues&&!Pe(u,o)),isSubmitted:m.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:R?{}:m.keepDirtyValues?m.keepDefaultValues&&s?Ct(o,s):t.dirtyFields:m.keepDefaultValues&&u?Ct(o,u):m.keepDirty?t.dirtyFields:{},touchedFields:m.keepTouched?t.touchedFields:{},errors:m.keepErrors?t.errors:{},isSubmitSuccessful:m.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Qe=(u,m)=>je(Be(u)?u(s):u,m),rt=(u,m={})=>{const v=N(n,u),I=v&&v._f;if(I){const R=I.refs?I.refs[0]:I.ref;R.focus&&(R.focus(),m.shouldSelect&&Be(R.select)&&R.select())}},or=u=>{t={...t,...u}},yt={control:{register:fe,unregister:te,getFieldState:qe,handleSubmit:ge,setError:Z,_subscribe:Ae,_runSchema:F,_focusError:U,_getWatch:P,_getDirty:q,_setValid:_,_setFieldArray:j,_setDisabledField:we,_setErrors:M,_getFieldArray:B,_reset:je,_resetDefaultValues:()=>Be(r.defaultValues)&&r.defaultValues().then(u=>{Qe(u,r.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:ze,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(u){i=u},get _defaultValues(){return o},get _names(){return a},set _names(u){a=u},get _formState(){return t},get _options(){return r},set _options(u){r={...r,...u}}},subscribe:he,trigger:le,register:fe,handleSubmit:ge,watch:oe,setValue:K,getValues:Ee,reset:Qe,resetField:tt,clearErrors:ie,unregister:te,setError:Z,setFocus:rt,getFieldState:qe};return{...yt,formControl:yt}}var it=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Vr=(e,r,t={})=>t.shouldFocus||re(t.shouldFocus)?t.focusName||`${e}.${re(t.focusIndex)?r:t.focusIndex}.`:"",Tr=(e,r)=>[...e,...ke(r)],Or=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Lr(e,r,t){return[...e.slice(0,r),...ke(t),...e.slice(r)]}var zr=(e,r,t)=>Array.isArray(e)?(re(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],Pr=(e,r)=>[...ke(r),...ke(e)];function yi(e,r){let t=0;const n=[...e];for(const o of r)n.splice(o-t,1),t++;return Cr(n).length?n:[]}var Br=(e,r)=>re(r)?[]:yi(e,ke(r).sort((t,n)=>t-n)),$r=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]},Mn=(e,r,t)=>(e[r]=t,e);function wo(e){const r=kr(),{control:t=r.control,name:n,keyName:o="id",shouldUnregister:s,rules:i}=e,[a,l]=x.useState(t._getFieldArray(n)),c=x.useRef(t._getFieldArray(n).map(it)),f=x.useRef(!1);t._names.array.add(n),x.useMemo(()=>i&&a.length>=0&&t.register(n,i),[t,n,a.length,i]),Sr(()=>t._subjects.array.subscribe({next:({values:b,name:w})=>{if(w===n||!w){const A=N(b,n);Array.isArray(A)&&(l(A),c.current=A.map(it))}}}).unsubscribe,[t,n]);const d=x.useCallback(b=>{f.current=!0,t._setFieldArray(n,b)},[t,n]),p=(b,w)=>{const A=ke(ne(b)),F=Tr(t._getFieldArray(n),A);t._names.focus=Vr(n,F.length-1,w),c.current=Tr(c.current,A.map(it)),d(F),l(F),t._setFieldArray(n,F,Tr,{argA:Or(b)})},y=(b,w)=>{const A=ke(ne(b)),F=Pr(t._getFieldArray(n),A);t._names.focus=Vr(n,0,w),c.current=Pr(c.current,A.map(it)),d(F),l(F),t._setFieldArray(n,F,Pr,{argA:Or(b)})},E=b=>{const w=Br(t._getFieldArray(n),b);c.current=Br(c.current,b),d(w),l(w),!Array.isArray(N(t._fields,n))&&ee(t._fields,n,void 0),t._setFieldArray(n,w,Br,{argA:b})},_=(b,w,A)=>{const F=ke(ne(w)),k=Lr(t._getFieldArray(n),b,F);t._names.focus=Vr(n,b,A),c.current=Lr(c.current,b,F.map(it)),d(k),l(k),t._setFieldArray(n,k,Lr,{argA:b,argB:Or(w)})},C=(b,w)=>{const A=t._getFieldArray(n);$r(A,b,w),$r(c.current,b,w),d(A),l(A),t._setFieldArray(n,A,$r,{argA:b,argB:w},!1)},j=(b,w)=>{const A=t._getFieldArray(n);zr(A,b,w),zr(c.current,b,w),d(A),l(A),t._setFieldArray(n,A,zr,{argA:b,argB:w},!1)},D=(b,w)=>{const A=ne(w),F=Mn(t._getFieldArray(n),b,A);c.current=[...F].map((k,z)=>!k||z===b?it():c.current[z]),d(F),l([...F]),t._setFieldArray(n,F,Mn,{argA:b,argB:A},!0,!1)},M=b=>{const w=ke(ne(b));c.current=w.map(it),d([...w]),l([...w]),t._setFieldArray(n,[...w],A=>A,{},!0,!1)};return x.useEffect(()=>{if(t._state.action=!1,tn(n,t._names)&&t._subjects.state.next({...t._formState}),f.current&&(!kt(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!kt(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([n]).then(b=>{const w=N(b.errors,n),A=N(t._formState.errors,n);(A?!w&&A.type||w&&(A.type!==w.type||A.message!==w.message):w&&w.type)&&(w?ee(t._formState.errors,n,w):se(t._formState.errors,n),t._subjects.state.next({errors:t._formState.errors}))});else{const b=N(t._fields,n);b&&b._f&&!(kt(t._options.reValidateMode).isOnSubmit&&kt(t._options.mode).isOnSubmit)&&rn(b,t._names.disabled,t._formValues,t._options.criteriaMode===Te.all,t._options.shouldUseNativeValidation,!0).then(w=>!xe(w)&&t._subjects.state.next({errors:xo(t._formState.errors,w,n)}))}t._subjects.state.next({name:n,values:ne(t._formValues)}),t._names.focus&&St(t._fields,(b,w)=>{if(t._names.focus&&w.startsWith(t._names.focus)&&b.focus)return b.focus(),1}),t._names.focus="",t._setValid(),f.current=!1},[a,n,t]),x.useEffect(()=>(!N(t._formValues,n)&&t._setFieldArray(n),()=>{const b=(w,A)=>{const F=N(t._fields,w);F&&F._f&&(F._f.mount=A)};t._options.shouldUnregister||s?t.unregister(n):b(n,!1)}),[n,t,o,s]),{swap:x.useCallback(C,[d,n,t]),move:x.useCallback(j,[d,n,t]),prepend:x.useCallback(y,[d,n,t]),append:x.useCallback(p,[d,n,t]),remove:x.useCallback(E,[d,n,t]),insert:x.useCallback(_,[d,n,t]),update:x.useCallback(D,[d,n,t]),replace:x.useCallback(M,[d,n,t]),fields:x.useMemo(()=>a.map((b,w)=>({...b,[o]:c.current[w]||it()})),[a,o])}}function xi(e={}){const r=x.useRef(void 0),t=x.useRef(void 0),[n,o]=x.useState({isDirty:!1,isValidating:!1,isLoading:Be(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Be(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:n},e.defaultValues&&!Be(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...a}=bi(e);r.current={...a,formState:n}}const s=r.current.control;return s._options=e,Sr(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>o({...s._formState}),reRenderRoot:!0});return o(a=>({...a,isReady:!0})),s._formState.isReady=!0,i},[s]),x.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),x.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),x.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),x.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),x.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),x.useEffect(()=>{var i;e.values&&!Pe(e.values,t.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((i=s._options.resetOptions)===null||i===void 0)&&i.keepIsValid||s._setValid(),t.current=e.values,o(a=>({...a}))):s._resetDefaultValues()},[s,e.values]),x.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),r.current.formState=go(n,s),r.current}const wi=async e=>(await dn.post("/quiz",e))?.data,_i=()=>{const e=Ds();return Rs({mutationFn:wi,onSuccess:()=>{e.invalidateQueries({queryKey:["getQuizList",{type:"my"}]})}})},Ci=()=>{const{isPending:e,isSuccess:r,mutateAsync:t}=_i(),{control:n,register:o,handleSubmit:s,setValue:i,setError:a,watch:l,getValues:c,clearErrors:f,formState:{errors:d}}=xi(),p=E=>{t({...E,limitedByTime:!1}).then(_=>{Ns(`/quiz/${_.id}`)})};return{watch:l,control:n,setValue:i,clearErrors:f,isSuccess:r,isLoading:e,register:o,onSubmit:E=>(c()?.poster||a("poster",{message:"Обязательное поле"}),s(p)(E)),errors:d,setError:a}},Vn=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Tn=Jt,ki=(e,r)=>t=>{var n;if(r?.variants==null)return Tn(e,t?.class,t?.className);const{variants:o,defaultVariants:s}=r,i=Object.keys(o).map(c=>{const f=t?.[c],d=s?.[c];if(f===null)return null;const p=Vn(f)||Vn(d);return o[c][p]}),a=t&&Object.entries(t).reduce((c,f)=>{let[d,p]=f;return p===void 0||(c[d]=p),c},{}),l=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((c,f)=>{let{class:d,className:p,...y}=f;return Object.entries(y).every(E=>{let[_,C]=E;return Array.isArray(C)?C.includes({...s,...a}[_]):{...s,...a}[_]===C})?[...c,d,p]:c},[]);return Tn(e,i,l,t?.class,t?.className)};function On(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Si(...e){return r=>{let t=!1;const n=e.map(o=>{const s=On(o,r);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():On(e[o],null)}}}}var Ei=Symbol.for("react.lazy"),pr=Fs[" use ".trim().toString()];function Ai(e){return typeof e=="object"&&e!==null&&"then"in e}function _o(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Ei&&"_payload"in e&&Ai(e._payload)}function Co(e){const r=Di(e),t=h.forwardRef((n,o)=>{let{children:s,...i}=n;_o(s)&&typeof pr=="function"&&(s=pr(s._payload));const a=h.Children.toArray(s),l=a.find(Ni);if(l){const c=l.props.children,f=a.map(d=>d===l?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:d);return g.jsx(r,{...i,ref:o,children:h.isValidElement(c)?h.cloneElement(c,void 0,f):null})}return g.jsx(r,{...i,ref:o,children:s})});return t.displayName=`${e}.Slot`,t}function Di(e){const r=h.forwardRef((t,n)=>{let{children:o,...s}=t;if(_o(o)&&typeof pr=="function"&&(o=pr(o._payload)),h.isValidElement(o)){const i=Ii(o),a=Fi(s,o.props);return o.type!==h.Fragment&&(a.ref=n?Si(n,i):i),h.cloneElement(o,a)}return h.Children.count(o)>1?h.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Ri=Symbol("radix.slottable");function Ni(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ri}function Fi(e,r){const t={...r};for(const n in r){const o=e[n],s=r[n];/^on[A-Z]/.test(n)?o&&s?t[n]=(...a)=>{const l=s(...a);return o(...a),l}:o&&(t[n]=o):n==="style"?t[n]={...o,...s}:n==="className"&&(t[n]=[o,s].filter(Boolean).join(" "))}return{...e,...t}}function Ii(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var ji=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mi=ji.reduce((e,r)=>{const t=Co(`Primitive.${r}`),n=h.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),Vi="Label",ko=h.forwardRef((e,r)=>g.jsx(Mi.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ko.displayName=Vi;var Ti=ko;const Oi=(e,r)=>{const t=new Array(e.length+r.length);for(let n=0;n<e.length;n++)t[n]=e[n];for(let n=0;n<r.length;n++)t[e.length+n]=r[n];return t},Li=(e,r)=>({classGroupId:e,validator:r}),So=(e=new Map,r=null,t)=>({nextPart:e,validators:r,classGroupId:t}),hr="-",Ln=[],zi="arbitrary..",Pi=e=>{const r=$i(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return Bi(i);const a=i.split(hr),l=a[0]===""&&a.length>1?1:0;return Eo(a,l,r)},getConflictingClassGroupIds:(i,a)=>{if(a){const l=n[i],c=t[i];return l?c?Oi(c,l):l:c||Ln}return t[i]||Ln}}},Eo=(e,r,t)=>{if(e.length-r===0)return t.classGroupId;const o=e[r],s=t.nextPart.get(o);if(s){const c=Eo(e,r+1,s);if(c)return c}const i=t.validators;if(i===null)return;const a=r===0?e.join(hr):e.slice(r).join(hr),l=i.length;for(let c=0;c<l;c++){const f=i[c];if(f.validator(a))return f.classGroupId}},Bi=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=e.slice(1,-1),t=r.indexOf(":"),n=r.slice(0,t);return n?zi+n:void 0})(),$i=e=>{const{theme:r,classGroups:t}=e;return qi(t,r)},qi=(e,r)=>{const t=So();for(const n in e){const o=e[n];hn(o,t,n,r)}return t},hn=(e,r,t,n)=>{const o=e.length;for(let s=0;s<o;s++){const i=e[s];Ui(i,r,t,n)}},Ui=(e,r,t,n)=>{if(typeof e=="string"){Hi(e,r,t);return}if(typeof e=="function"){Wi(e,r,t,n);return}Gi(e,r,t,n)},Hi=(e,r,t)=>{const n=e===""?r:Ao(r,e);n.classGroupId=t},Wi=(e,r,t,n)=>{if(Yi(e)){hn(e(n),r,t,n);return}r.validators===null&&(r.validators=[]),r.validators.push(Li(t,e))},Gi=(e,r,t,n)=>{const o=Object.entries(e),s=o.length;for(let i=0;i<s;i++){const[a,l]=o[i];hn(l,Ao(r,a),t,n)}},Ao=(e,r)=>{let t=e;const n=r.split(hr),o=n.length;for(let s=0;s<o;s++){const i=n[s];let a=t.nextPart.get(i);a||(a=So(),t.nextPart.set(i,a)),t=a}return t},Yi=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Qi=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=Object.create(null),n=Object.create(null);const o=(s,i)=>{t[s]=i,r++,r>e&&(r=0,n=t,t=Object.create(null))};return{get(s){let i=t[s];if(i!==void 0)return i;if((i=n[s])!==void 0)return o(s,i),i},set(s,i){s in t?t[s]=i:o(s,i)}}},nn="!",zn=":",Xi=[],Pn=(e,r,t,n,o)=>({modifiers:e,hasImportantModifier:r,baseClassName:t,maybePostfixModifierPosition:n,isExternal:o}),Ki=e=>{const{prefix:r,experimentalParseClassName:t}=e;let n=o=>{const s=[];let i=0,a=0,l=0,c;const f=o.length;for(let _=0;_<f;_++){const C=o[_];if(i===0&&a===0){if(C===zn){s.push(o.slice(l,_)),l=_+1;continue}if(C==="/"){c=_;continue}}C==="["?i++:C==="]"?i--:C==="("?a++:C===")"&&a--}const d=s.length===0?o:o.slice(l);let p=d,y=!1;d.endsWith(nn)?(p=d.slice(0,-1),y=!0):d.startsWith(nn)&&(p=d.slice(1),y=!0);const E=c&&c>l?c-l:void 0;return Pn(s,y,p,E)};if(r){const o=r+zn,s=n;n=i=>i.startsWith(o)?s(i.slice(o.length)):Pn(Xi,!1,i,void 0,!0)}if(t){const o=n;n=s=>t({className:s,parseClassName:o})}return n},Ji=e=>{const r=new Map;return e.orderSensitiveModifiers.forEach((t,n)=>{r.set(t,1e6+n)}),t=>{const n=[];let o=[];for(let s=0;s<t.length;s++){const i=t[s],a=i[0]==="[",l=r.has(i);a||l?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(i)):o.push(i)}return o.length>0&&(o.sort(),n.push(...o)),n}},Zi=e=>({cache:Qi(e.cacheSize),parseClassName:Ki(e),sortModifiers:Ji(e),...Pi(e)}),ea=/\s+/,ta=(e,r)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:s}=r,i=[],a=e.trim().split(ea);let l="";for(let c=a.length-1;c>=0;c-=1){const f=a[c],{isExternal:d,modifiers:p,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:_}=t(f);if(d){l=f+(l.length>0?" "+l:l);continue}let C=!!_,j=n(C?E.substring(0,_):E);if(!j){if(!C){l=f+(l.length>0?" "+l:l);continue}if(j=n(E),!j){l=f+(l.length>0?" "+l:l);continue}C=!1}const D=p.length===0?"":p.length===1?p[0]:s(p).join(":"),M=y?D+nn:D,b=M+j;if(i.indexOf(b)>-1)continue;i.push(b);const w=o(j,C);for(let A=0;A<w.length;++A){const F=w[A];i.push(M+F)}l=f+(l.length>0?" "+l:l)}return l},ra=(...e)=>{let r=0,t,n,o="";for(;r<e.length;)(t=e[r++])&&(n=Do(t))&&(o&&(o+=" "),o+=n);return o},Do=e=>{if(typeof e=="string")return e;let r,t="";for(let n=0;n<e.length;n++)e[n]&&(r=Do(e[n]))&&(t&&(t+=" "),t+=r);return t},na=(e,...r)=>{let t,n,o,s;const i=l=>{const c=r.reduce((f,d)=>d(f),e());return t=Zi(c),n=t.cache.get,o=t.cache.set,s=a,a(l)},a=l=>{const c=n(l);if(c)return c;const f=ta(l,t);return o(l,f),f};return s=i,(...l)=>s(ra(...l))},oa=[],ce=e=>{const r=t=>t[e]||oa;return r.isThemeGetter=!0,r},Ro=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,No=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sa=/^\d+\/\d+$/,ia=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aa=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,la=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ca=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ua=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_t=e=>sa.test(e),$=e=>!!e&&!Number.isNaN(Number(e)),at=e=>!!e&&Number.isInteger(Number(e)),qr=e=>e.endsWith("%")&&$(e.slice(0,-1)),Je=e=>ia.test(e),da=()=>!0,fa=e=>aa.test(e)&&!la.test(e),Fo=()=>!1,ga=e=>ca.test(e),ma=e=>ua.test(e),pa=e=>!V(e)&&!T(e),ha=e=>Dt(e,Mo,Fo),V=e=>Ro.test(e),ft=e=>Dt(e,Vo,fa),Ur=e=>Dt(e,wa,$),Bn=e=>Dt(e,Io,Fo),va=e=>Dt(e,jo,ma),ir=e=>Dt(e,To,ga),T=e=>No.test(e),$t=e=>Rt(e,Vo),ba=e=>Rt(e,_a),$n=e=>Rt(e,Io),ya=e=>Rt(e,Mo),xa=e=>Rt(e,jo),ar=e=>Rt(e,To,!0),Dt=(e,r,t)=>{const n=Ro.exec(e);return n?n[1]?r(n[1]):t(n[2]):!1},Rt=(e,r,t=!1)=>{const n=No.exec(e);return n?n[1]?r(n[1]):t:!1},Io=e=>e==="position"||e==="percentage",jo=e=>e==="image"||e==="url",Mo=e=>e==="length"||e==="size"||e==="bg-size",Vo=e=>e==="length",wa=e=>e==="number",_a=e=>e==="family-name",To=e=>e==="shadow",Ca=()=>{const e=ce("color"),r=ce("font"),t=ce("text"),n=ce("font-weight"),o=ce("tracking"),s=ce("leading"),i=ce("breakpoint"),a=ce("container"),l=ce("spacing"),c=ce("radius"),f=ce("shadow"),d=ce("inset-shadow"),p=ce("text-shadow"),y=ce("drop-shadow"),E=ce("blur"),_=ce("perspective"),C=ce("aspect"),j=ce("ease"),D=ce("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),T,V],A=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],k=()=>[T,V,l],z=()=>[_t,"full","auto",...k()],X=()=>[at,"none","subgrid",T,V],q=()=>["auto",{span:["full",at,T,V]},at,T,V],P=()=>[at,"auto",T,V],B=()=>["auto","min","max","fr",T,V],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...k()],Q=()=>[_t,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],O=()=>[e,T,V],le=()=>[...b(),$n,Bn,{position:[T,V]}],Ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],qe=()=>["auto","cover","contain",ya,ha,{size:[T,V]}],ie=()=>[qr,$t,ft],Z=()=>["","none","full",c,T,V],oe=()=>["",$,$t,ft],Ae=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[$,qr,$n,Bn],we=()=>["","none",E,T,V],fe=()=>["none",$,T,V],U=()=>["none",$,T,V],ze=()=>[$,T,V],ge=()=>[_t,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Je],breakpoint:[Je],color:[da],container:[Je],"drop-shadow":[Je],ease:["in","out","in-out"],font:[pa],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Je],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Je],shadow:[Je],spacing:["px",$],text:[Je],"text-shadow":[Je],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_t,V,T,C]}],container:["container"],columns:[{columns:[$,V,T,a]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[at,"auto",T,V]}],basis:[{basis:[_t,"full","auto",a,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$,_t,"auto","initial","none",V]}],grow:[{grow:["",$,T,V]}],shrink:[{shrink:["",$,T,V]}],order:[{order:[at,"first","last","none",T,V]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[a,"screen",...Q()]}],"min-w":[{"min-w":[a,"screen","none",...Q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",t,$t,ft]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,T,Ur]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qr,V]}],"font-family":[{font:[ba,V,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,T,V]}],"line-clamp":[{"line-clamp":[$,"none",T,Ur]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",T,V]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",T,V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[$,"from-font","auto",T,ft]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[$,"auto",T,V]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",T,V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",T,V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:Ee()}],"bg-size":[{bg:qe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},at,T,V],radial:["",T,V],conic:[at,T,V]},xa,va]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$,T,V]}],"outline-w":[{outline:["",$,$t,ft]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",f,ar,ir]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",d,ar,ir]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[$,ft]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",p,ar,ir]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[$,T,V]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[T,V]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[$]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:Ee()}],"mask-size":[{mask:qe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",T,V]}],filter:[{filter:["","none",T,V]}],blur:[{blur:we()}],brightness:[{brightness:[$,T,V]}],contrast:[{contrast:[$,T,V]}],"drop-shadow":[{"drop-shadow":["","none",y,ar,ir]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",$,T,V]}],"hue-rotate":[{"hue-rotate":[$,T,V]}],invert:[{invert:["",$,T,V]}],saturate:[{saturate:[$,T,V]}],sepia:[{sepia:["",$,T,V]}],"backdrop-filter":[{"backdrop-filter":["","none",T,V]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[$,T,V]}],"backdrop-contrast":[{"backdrop-contrast":[$,T,V]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$,T,V]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$,T,V]}],"backdrop-invert":[{"backdrop-invert":["",$,T,V]}],"backdrop-opacity":[{"backdrop-opacity":[$,T,V]}],"backdrop-saturate":[{"backdrop-saturate":[$,T,V]}],"backdrop-sepia":[{"backdrop-sepia":["",$,T,V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",T,V]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$,"initial",T,V]}],ease:[{ease:["linear","initial",j,T,V]}],delay:[{delay:[$,T,V]}],animate:[{animate:["none",D,T,V]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,T,V]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:U()}],"scale-x":[{"scale-x":U()}],"scale-y":[{"scale-y":U()}],"scale-z":[{"scale-z":U()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[T,V,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",T,V]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",T,V]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[$,$t,ft,Ur]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ka=na(Ca);function Le(...e){return ka(Jt(e))}function Sa({className:e,...r}){return g.jsx(Ti,{"data-slot":"label",className:Le("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}var Ea=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Aa=Ea.reduce((e,r)=>{const t=Co(`Primitive.${r}`),n=h.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),Da="Separator",qn="horizontal",Ra=["horizontal","vertical"],Oo=h.forwardRef((e,r)=>{const{decorative:t,orientation:n=qn,...o}=e,s=Na(n)?n:qn,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(Aa.div,{"data-orientation":s,...a,...o,ref:r})});Oo.displayName=Da;function Na(e){return Ra.includes(e)}var Fa=Oo;function Ia({className:e,orientation:r="horizontal",decorative:t=!0,...n}){return g.jsx(Fa,{"data-slot":"separator",decorative:t,orientation:r,className:Le("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Lo({className:e,...r}){return g.jsx("fieldset",{"data-slot":"field-set",className:Le("flex flex-col gap-6","has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3",e),...r})}function zo({className:e,variant:r="legend",...t}){return g.jsx("legend",{"data-slot":"field-legend","data-variant":r,className:Le("mb-3 font-medium","data-[variant=legend]:text-base","data-[variant=label]:text-sm",e),...t})}const Po=h.forwardRef(({className:e,...r},t)=>g.jsx("div",{ref:t,"data-slot":"field-group",className:Le("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4",e),...r}));Po.displayName="FieldGroup";const ja=ki("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function ht({className:e,orientation:r="vertical",...t}){return g.jsx("div",{role:"group","data-slot":"field","data-orientation":r,className:Le(ja({orientation:r}),e),...t})}function Et({className:e,...r}){return g.jsx(Sa,{"data-slot":"field-label",className:Le("font-extrabold group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",e),...r})}function vt({className:e,...r}){return g.jsx("p",{"data-slot":"field-description",className:Le("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",e),...r})}function on({children:e,className:r,...t}){return g.jsxs("div",{"data-slot":"field-separator","data-content":!!e,className:Le("relative opacity-[0.3] -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2",r),...t,children:[g.jsx(Ia,{className:"absolute inset-0 top-1/2"}),e&&g.jsx("span",{className:"bg-background text-muted-foreground relative mx-auto block w-fit px-2","data-slot":"field-separator-content",children:e})]})}function We({className:e,children:r,errors:t,...n}){const o=h.useMemo(()=>{if(r)return r;if(!t?.length)return null;const s=[...new Map(t.map(i=>[i?.message,i])).values()];return s?.length==1?s[0]?.message:g.jsx("ul",{className:"ml-4 flex list-disc flex-col gap-1",children:s.map((i,a)=>i?.message&&g.jsx("li",{children:i.message},a))})},[r,t]);return o?g.jsx("div",{role:"alert","data-slot":"field-error",className:Le("text-destructive text-sm font-normal",e),...n,children:o}):null}const Ma="_footer_1eaut_1",Va="_footerShow_1eaut_18",Ta="_button_1eaut_22",Hr={footer:Ma,footerShow:Va,button:Ta},Oa=e=>{const[r,t]=h.useState(!0);return h.useEffect(()=>{const n=()=>{const s=document.activeElement?.tagName==="INPUT"&&document.activeElement?.getAttribute("type")!=="file",i=document.activeElement?.tagName==="TEXTAREA",a=e.current&&(s||i)&&e.current.contains(document.activeElement);t(!a)},o=e.current;return o&&(o.addEventListener("focusin",n),o.addEventListener("focusout",n)),()=>{o&&(o.removeEventListener("focusin",n),o.removeEventListener("focusout",n))}},[]),{isShow:r}},La=document.getElementById("footer"),za=({formRef:e,isDisabled:r,isLoading:t,onSubmit:n})=>{const{t:o}=Oe(),{isShow:s}=Oa(e);return mt.createPortal(g.jsxs("div",{className:Jt(Hr.footer,s&&Hr.footerShow),children:[r&&g.jsx(We,{className:"text-center",children:o("create_page.check_fields")}),g.jsx(et,{className:Hr.button,loading:t,disabled:r,type:"submit",onClick:n,after:g.jsx(Ls,{}),children:o("common.create")})]}),La)},bt=e=>({title:{required:e("validation.required"),minLength:{value:7,message:e("validation.min_length",{value:7})},maxLength:{value:30,message:e("validation.max_length",{value:30})}},description:{required:e("validation.required"),minLength:{value:100,message:e("validation.min_length",{value:100})}},questions:{required:e("validation.questions.required"),minLength:{value:2,message:e("validation.questions.min_length",{value:2})}},question:{required:e("validation.required"),minLength:{value:7,message:e("validation.min_length",{value:7})},maxLength:{value:100,message:e("validation.max_length",{value:100})}},options:{required:e("validation.options.required"),minLength:{value:2,message:e("validation.options.min_length",{value:2})}},option:{required:e("validation.required"),minLength:{value:1,message:e("validation.min_length",{value:1})},maxLength:{value:100,message:e("validation.max_length",{value:100})}}}),Pa=e=>(r="")=>{if(!r)return e("validation.required");if(r.length<50)return e("validation.min_length",{value:50});const t=r.replace(/<[^>]*>?/gm,"").replace(/\n\s*\n/g,`
`).length;return t>3e3?e("validation.length_limit",{value:t-3e3}):!0};var de=function(){return de=Object.assign||function(r){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},de.apply(this,arguments)};function Er(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t}function Un(e){if(e){var r=e.textContent,t=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;e.style.direction=r&&t.test(r[0])?"rtl":"ltr"}}function Bo(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter(Boolean).join(" ")}function Ba(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0).startContainer.parentNode||void 0}function Hn(e){return typeof e=="string"?e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(e)}function $a(e){var r=document.createTextNode("");e.appendChild(r);var t=document.activeElement===e;if(r!==null&&r.nodeValue!==null&&t){var n=window.getSelection();if(n!==null){var o=document.createRange();o.setStart(r,r.nodeValue.length),o.collapse(!0),n.removeAllRanges(),n.addRange(o)}e instanceof HTMLElement&&e.focus()}}function $o(e,r){typeof r=="function"?r(e):typeof r=="object"&&r&&(r.current=e)}var qa=x.memo(x.forwardRef(function(r,t){var n=r.className,o=r.disabled,s=r.tagName,i=r.value,a=i===void 0?"":i,l=r.placeholder,c=Er(r,["className","disabled","tagName","value","placeholder"]),f=x.useRef(null),d=x.useRef(a),p=x.useRef(c);return x.useEffect(function(){p.current=c;var y=f.current;y&&Hn(d.current)!==Hn(a)&&(d.current=a,y.innerHTML=a,$a(y))}),x.useMemo(function(){function y(C){f.current=C,Un(C),$o(C,t)}function E(C){var j,D,M=f.current;if(M){var b=M.innerHTML;b!==d.current&&((D=(j=p.current).onChange)===null||D===void 0||D.call(j,de(de({},C),{target:{value:b,name:c.name}}))),Un(M),d.current=b}}var _=Bo("rsw-ce",n);return x.createElement(s||"div",de(de({},c),{className:_,contentEditable:!o,dangerouslySetInnerHTML:{__html:a},onBlur:function(C){return(p.current.onBlur||E)(C)},onInput:E,onKeyDown:function(C){return(p.current.onKeyDown||E)(C)},onKeyUp:function(C){return(p.current.onKeyUp||E)(C)},placeholder:l,ref:y}))},[n,o,l,s])})),qo=x.createContext(void 0);function Ua(e){var r=e.children,t=x.useState({htmlMode:!1,update:s}),n=t[0],o=t[1];function s(i){o(function(a){return de(de({},a),i)})}return x.createElement(qo.Provider,{value:n},r)}function er(){var e=x.useContext(qo);if(!e)throw new Error("You should wrap your component by EditorProvider");return e}var Wn=[],qt=[];function Ha(e,r){if(e&&typeof document<"u"){var t,n=r.prepend===!0?"prepend":"append",o=r.singleTag===!0,s=typeof r.container=="string"?document.querySelector(r.container):document.getElementsByTagName("head")[0];if(o){var i=Wn.indexOf(s);i===-1&&(i=Wn.push(s)-1,qt[i]={}),t=qt[i]&&qt[i][n]?qt[i][n]:qt[i][n]=a()}else t=a();e.charCodeAt(0)===65279&&(e=e.substring(1)),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(document.createTextNode(e))}function a(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),r.attributes)for(var c=Object.keys(r.attributes),f=0;f<c.length;f++)l.setAttribute(c[f],r.attributes[c[f]]);var d=n==="prepend"?"afterbegin":"beforeend";return s.insertAdjacentElement(d,l),l}}var Wa=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";Ha(Wa,{});var Ga=x.forwardRef(function(r,t){var n=r.autoFocus,o=r.children,s=r.containerProps,i=r.onSelect,a=Er(r,["autoFocus","children","containerProps","onSelect"]),l=er();x.useEffect(function(){return document.addEventListener("click",c),function(){return document.removeEventListener("click",c)}});function c(y){var E;y.target!==l.$el&&(!((E=l.$el)===null||E===void 0)&&E.contains(y.target)||l.update({$selection:void 0}))}function f(y){i?.(y),l.update({$selection:Ba()})}function d(y){l.update({$el:y}),$o(y,t),n&&y&&l.$el===void 0&&y.focus()}var p=Bo("rsw-editor",s?.className);return l.htmlMode?x.createElement("div",de({},s,{className:p}),o,x.createElement("textarea",de({},a,{className:"rsw-ce rsw-html"}))):x.createElement("div",de({},s,{className:p}),o,x.createElement(qa,de({},a,{ref:d,onSelect:f})))});function Ya(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},x.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function Qa(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},x.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var Uo=Ye("Bold","𝐁","bold"),Ho=Ye("Bullet list",x.createElement(Qa,null),"insertUnorderedList"),Xa=Ye("Clear formatting","T̲ₓ","removeFormat"),Wo=Ye("Italic","𝑰","italic"),Go=Ye("Strike through",x.createElement("s",null,"ab"),"strikeThrough"),Ka=Ye("Link","🔗",function(e){var r=e.$selection;r?.nodeName==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),Yo=Ye("Numbered list",x.createElement(Ya,null),"insertOrderedList"),Qo=Ye("Redo","↷","redo"),Xo=Ye("Underline",x.createElement("span",{style:{textDecoration:"underline"}},"𝐔"),"underline"),Ko=Ye("Undo","↶","undo");function Ye(e,r,t){return n.displayName=e.replace(/\s/g,""),n;function n(o){var s=er(),i=s.$el,a=function(){return!!i?.contains(document.activeElement)},l=!1;typeof t=="string"&&(l=a()&&document.queryCommandState(t));function c(f){f.preventDefault(),a()||i?.focus(),typeof t=="function"?t(s):document.execCommand(t)}return s.htmlMode?null:x.createElement("button",de({className:"rsw-btn","data-active":l,onMouseDown:c,tabIndex:-1,title:e,type:"button"},o),r)}}var Ja=Za("Styles",[["Normal","formatBlock","DIV"],["𝗛𝗲𝗮𝗱𝗲𝗿 𝟭","formatBlock","H1"],["Header 2","formatBlock","H2"],["𝙲𝚘𝚍𝚎","formatBlock","PRE"]]);function Za(e,r){return t.displayName=e,t;function t(n){var o=er(),s=o.$el,i=o.$selection,a=o.htmlMode;if(a)return null;var l=r.findIndex(function(f){return f[1]==="formatBlock"&&i?.nodeName===f[2]});return x.createElement(el,de({},n,{items:r,onChange:c,selected:l,tabIndex:-1,title:e}));function c(f){var d=f.target,p=d.value,y=parseInt(p,10),E=r[y]||[],_=E[1],C=E[2];f.preventDefault(),document.activeElement!==s&&s?.focus(),typeof _=="function"?_(o):_&&document.execCommand(_,!1,C),setTimeout(function(){return d.value=p},10)}}}function el(e){var r=e.items,t=e.selected,n=Er(e,["items","selected"]);return x.createElement("select",de({className:"rsw-dd"},n,{value:t}),x.createElement("option",{hidden:!0},n.title),r.map(function(o,s){return x.createElement("option",{key:o[2],value:s},o[0])}))}function tl(e){var r=Er(e,[]),t=er();function n(){t.update({htmlMode:!t.htmlMode})}return x.createElement("button",de({className:"rsw-btn","data-active":t.htmlMode,onClick:n,tabIndex:-1,title:"HTML mode",type:"button"},r),"</>")}function lr(e){var r=er();return r.htmlMode?null:x.createElement("div",de({className:"rsw-separator"},e))}function Jo(e){return x.createElement("div",de({className:"rsw-toolbar"},e))}var rl=x.forwardRef(function(r,t){return x.createElement(Ua,null,x.createElement(Ga,de({},r,{ref:t}),r.children||x.createElement(Jo,null,x.createElement(Ko,null),x.createElement(Qo,null),x.createElement(lr,null),x.createElement(Uo,null),x.createElement(Wo,null),x.createElement(Xo,null),x.createElement(Go,null),x.createElement(lr,null),x.createElement(Yo,null),x.createElement(Ho,null),x.createElement(lr,null),x.createElement(Ka,null),x.createElement(Xa,null),x.createElement(tl,null),x.createElement(lr,null),x.createElement(Ja,null))))});const nl="_editor_374mm_1",ol="_editorHeader_374mm_12",sl="_editorBtnWrap_374mm_25",il="_editorBtn_374mm_25",al="_editorBtnIcon_374mm_34",_e={editor:nl,editorHeader:ol,editorBtnWrap:sl,editorBtn:il,editorBtnIcon:al},ll=({value:e,onChange:r,placeholder:t})=>g.jsx(g.Fragment,{children:g.jsx("div",{className:_e.editor,children:g.jsx(rl,{value:e,onChange:n=>r(n.target.value),placeholder:t,children:g.jsxs(Jo,{className:_e.editorHeader,children:[g.jsxs("div",{className:_e.editorBtnWrap,children:[g.jsx(Js,{className:_e.editorBtnIcon}),g.jsx(Ko,{className:_e.editorBtn})]}),g.jsxs("div",{className:_e.editorBtnWrap,children:[g.jsx(Ys,{className:_e.editorBtnIcon}),g.jsx(Qo,{className:_e.editorBtn})]}),g.jsx(Uo,{className:_e.editorBtn}),g.jsx(Wo,{className:_e.editorBtn}),g.jsx(Xo,{className:_e.editorBtn}),g.jsx(Go,{className:_e.editorBtn}),g.jsx(Ho,{className:_e.editorBtn}),g.jsx(Yo,{className:_e.editorBtn})]})})})});function cl({className:e,type:r,...t}){return g.jsx("input",{type:r,"data-slot":"input",className:Le("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-lg border bg-transparent px-3 py-6 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}const ul=async e=>(await dn.post("/files/delete",{fileName:e}))?.data,dl=async(e,{signal:r,onProgress:t})=>(await dn.post("/files",e,{signal:r,onUploadProgress:o=>{t&&o.total&&t(Math.round(o.loaded*100/o.total))},headers:{"Content-Type":"multipart/form-data"}}))?.data,fl="_uploadInput_1hs7y_1",gl="_uploadInputContent_1hs7y_6",ml="_uploadInputPreview_1hs7y_26",pl="_uploadInputIcon_1hs7y_40",hl="_uploadInputImage_1hs7y_50",vl="_uploadInputProgress_1hs7y_55",bl="_uploadInputDelete_1hs7y_79",gt={uploadInput:fl,uploadInputContent:gl,uploadInputPreview:ml,uploadInputIcon:pl,uploadInputImage:hl,uploadInputProgress:vl,uploadInputDelete:bl},yl=({id:e,name:r,onDelete:t,onChange:n})=>{const{t:o}=Oe(),s=h.useRef(null),[i,a]=h.useState(null),[l,c]=h.useState(0),f=()=>{s.current?.value&&(s.current.value=""),a(null),c(0),t?.()},d=()=>{c(0)},p=y=>{c(0);const E=y.target.files?.[0],_=new FileReader;E&&(_.onload=function(C){C.target?.result&&a(C.target.result)},_.readAsDataURL(E),n(E,{onProgress:c,onLoaded:d}))};return g.jsxs("div",{className:gt.uploadInput,children:[g.jsxs("div",{className:gt.uploadInputContent,children:[g.jsx("input",{id:e,type:"file",name:r,disabled:!!i,ref:s,onChange:p,accept:"image/png, image/jpeg, image/jpg"}),g.jsxs("div",{className:gt.uploadInputPreview,children:[g.jsx(Ws,{className:gt.uploadInputIcon}),g.jsx("p",{children:o("shared.load_image")})]}),i&&g.jsx("img",{className:gt.uploadInputImage,src:i,alt:r}),!!l&&g.jsxs("div",{className:gt.uploadInputProgress,children:[g.jsxs("p",{children:["Загрузка ",l," %"]}),g.jsx("span",{style:{width:`${l}%`}})]})]}),i&&g.jsx(et,{size:"sm",after:g.jsx(wr,{}),className:gt.uploadInputDelete,onClick:f,children:o("shared.delete_image")})]})},xl="_content_7q73c_1",wl={content:xl},_l=1048576,Cl=["image/png","image/jpeg","image/jpg"],kl=(e,r)=>e.size>_l?r("errors.image.size",{value:1}):Cl.includes(e.type)?!1:r("errors.image.format"),Zo=({id:e,type:r="poster",onChange:t,clearError:n,setError:o})=>{const{t:s}=Oe(),i=h.useRef(null),[a,l]=h.useState(null),c=(d,{onLoaded:p,onProgress:y})=>{n();const E=kl(d,s);if(E){o(E);return}if(d){const _=new FormData;_.append("file",d),_.append("type",r),i.current=new AbortController;const C=i.current.signal;dl(_,{signal:C,onProgress:y}).then(j=>{t(j.fileName),l(j.tempPath)}).catch(j=>{j.response?.data?.message?o(j.response?.data?.message):o(s("errors.image.load"))}).finally(()=>{p(),i.current=null})}},f=async()=>{if(t(null),o(s("validation.required")),l(null),i.current)return i.current.abort();a&&ul(a)};return g.jsx("div",{className:wl.content,children:g.jsx(yl,{id:e,onDelete:f,onChange:c})})},Sl=({control:e,register:r,errors:t,setError:n,clearErrors:o,setValue:s})=>{const{t:i}=Oe();return g.jsx(Lo,{className:"mb-5",children:g.jsxs(Po,{children:[g.jsxs(ht,{children:[g.jsx(Et,{htmlFor:"quiz-title",children:i("create_page.main.title")}),g.jsx(cl,{id:"quiz-title",placeholder:i("create_page.main.title_placeholder"),...r("title",bt(i).title)}),t.title?.message?g.jsx(We,{children:t.title.message}):g.jsx(vt,{children:bt(i).title.minLength.message})]}),g.jsxs(ht,{children:[g.jsx(Et,{children:i("create_page.main.description")}),g.jsx(oi,{name:"description",control:e,rules:{validate:Pa(i)},render:({field:a})=>g.jsx(ll,{id:"quiz-description",value:a.value,onChange:a.onChange,placeholder:i("create_page.main.description_placeholder")})}),t.description?.message?g.jsx(We,{children:t.description?.message}):g.jsx(vt,{children:bt(i).description.minLength.message})]}),g.jsxs(ht,{children:[g.jsx(Et,{htmlFor:"quiz-poster",children:i("create_page.main.poster")}),g.jsx(Zo,{id:"quiz-poster",type:"poster",clearError:()=>o("poster"),setError:a=>n("poster",{message:a}),onChange:a=>s("poster",a)}),t.poster?.message?g.jsx(We,{children:t.poster?.message}):g.jsx(vt,{children:i("create_page.main.poster_placeholder")})]}),g.jsx(on,{})]})})},El="_container_1qjl6_1",Al={container:El},Dl=({renderHeader:e,renderMain:r,renderOptions:t})=>{const n=h.useRef(null);return h.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[]),g.jsxs("div",{className:Al.container,ref:n,children:[e,r,t]})},Rl=({index:e,removeQuestion:r})=>{const{t}=Oe();return g.jsxs(zo,{className:"flex items-center justify-between",children:[g.jsx("p",{className:"w-full",children:t("create_page.question.title",{value:e+1})}),g.jsx("div",{className:"w-fit",children:g.jsx(et,{size:"sm",onClick:r,after:g.jsx(wr,{className:"w-4"}),children:t("create_page.question.delete")})})]})};function es({className:e,...r}){return g.jsx("textarea",{"data-slot":"textarea",className:Le("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-32 w-full rounded-lg border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}const Nl=({index:e,register:r,questionErrors:t,clearErrors:n,setValue:o,setError:s})=>{const{t:i}=Oe();return g.jsxs(g.Fragment,{children:[g.jsxs(ht,{children:[g.jsx(Et,{htmlFor:`question-text-${e}`,children:i("create_page.question.field_title")}),g.jsx(es,{id:`question-text-${e}`,placeholder:i("create_page.question.field_placeholder"),...r(`questions.${e}.text`,bt(i).question)}),t?.text?.message?g.jsx(We,{children:t?.text?.message}):g.jsx(vt,{children:i("validation.min_length",{value:7})})]}),g.jsxs(ht,{children:[g.jsx(Et,{htmlFor:`question-image-${e}`,children:i("create_page.question.image")}),g.jsx(Zo,{id:`question-image-${e}`,type:"question",clearError:()=>n(`questions.${e}.image`),setError:a=>s(`questions.${e}.image`,{message:a}),onChange:a=>o(`questions.${e}.image`,a)}),t?.image?.message?g.jsx(We,{children:t?.image?.message}):g.jsx(vt,{children:i("create_page.question.image_placeholder")})]})]})};function Fl(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return h.useMemo(()=>n=>{r.forEach(o=>o(n))},r)}const Ar=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nt(e){const r=Object.prototype.toString.call(e);return r==="[object Window]"||r==="[object global]"}function vn(e){return"nodeType"in e}function Se(e){var r,t;return e?Nt(e)?e:vn(e)&&(r=(t=e.ownerDocument)==null?void 0:t.defaultView)!=null?r:window:window}function bn(e){const{Document:r}=Se(e);return e instanceof r}function tr(e){return Nt(e)?!1:e instanceof Se(e).HTMLElement}function ts(e){return e instanceof Se(e).SVGElement}function Ft(e){return e?Nt(e)?e.document:vn(e)?bn(e)?e:tr(e)||ts(e)?e.ownerDocument:document:document:document}const Ge=Ar?h.useLayoutEffect:h.useEffect;function yn(e){const r=h.useRef(e);return Ge(()=>{r.current=e}),h.useCallback(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.current==null?void 0:r.current(...n)},[])}function Il(){const e=h.useRef(null),r=h.useCallback((n,o)=>{e.current=setInterval(n,o)},[]),t=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[r,t]}function Yt(e,r){r===void 0&&(r=[e]);const t=h.useRef(e);return Ge(()=>{t.current!==e&&(t.current=e)},r),t}function rr(e,r){const t=h.useRef();return h.useMemo(()=>{const n=e(t.current);return t.current=n,n},[...r])}function vr(e){const r=yn(e),t=h.useRef(null),n=h.useCallback(o=>{o!==t.current&&r?.(o,t.current),t.current=o},[]);return[t,n]}function sn(e){const r=h.useRef();return h.useEffect(()=>{r.current=e},[e]),r.current}let Wr={};function nr(e,r){return h.useMemo(()=>{if(r)return r;const t=Wr[e]==null?0:Wr[e]+1;return Wr[e]=t,e+"-"+t},[e,r])}function rs(e){return function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return n.reduce((s,i)=>{const a=Object.entries(i);for(const[l,c]of a){const f=s[l];f!=null&&(s[l]=f+e*c)}return s},{...r})}}const At=rs(1),Qt=rs(-1);function jl(e){return"clientX"in e&&"clientY"in e}function xn(e){if(!e)return!1;const{KeyboardEvent:r}=Se(e.target);return r&&e instanceof r}function Ml(e){if(!e)return!1;const{TouchEvent:r}=Se(e.target);return r&&e instanceof r}function an(e){if(Ml(e)){if(e.touches&&e.touches.length){const{clientX:r,clientY:t}=e.touches[0];return{x:r,y:t}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:r,clientY:t}=e.changedTouches[0];return{x:r,y:t}}}return jl(e)?{x:e.clientX,y:e.clientY}:null}const Xt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:r,y:t}=e;return"translate3d("+(r?Math.round(r):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:r,scaleY:t}=e;return"scaleX("+r+") scaleY("+t+")"}},Transform:{toString(e){if(e)return[Xt.Translate.toString(e),Xt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:r,duration:t,easing:n}=e;return r+" "+t+"ms "+n}}}),Gn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Vl(e){return e.matches(Gn)?e:e.querySelector(Gn)}const Tl={display:"none"};function Ol(e){let{id:r,value:t}=e;return x.createElement("div",{id:r,style:Tl},t)}function Ll(e){let{id:r,announcement:t,ariaLiveType:n="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return x.createElement("div",{id:r,style:o,role:"status","aria-live":n,"aria-atomic":!0},t)}function zl(){const[e,r]=h.useState("");return{announce:h.useCallback(n=>{n!=null&&r(n)},[]),announcement:e}}const ns=h.createContext(null);function Pl(e){const r=h.useContext(ns);h.useEffect(()=>{if(!r)throw new Error("useDndMonitor must be used within a children of <DndContext>");return r(e)},[e,r])}function Bl(){const[e]=h.useState(()=>new Set),r=h.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[h.useCallback(n=>{let{type:o,event:s}=n;e.forEach(i=>{var a;return(a=i[o])==null?void 0:a.call(i,s)})},[e]),r]}const $l={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ql={onDragStart(e){let{active:r}=e;return"Picked up draggable item "+r.id+"."},onDragOver(e){let{active:r,over:t}=e;return t?"Draggable item "+r.id+" was moved over droppable area "+t.id+".":"Draggable item "+r.id+" is no longer over a droppable area."},onDragEnd(e){let{active:r,over:t}=e;return t?"Draggable item "+r.id+" was dropped over droppable area "+t.id:"Draggable item "+r.id+" was dropped."},onDragCancel(e){let{active:r}=e;return"Dragging was cancelled. Draggable item "+r.id+" was dropped."}};function Ul(e){let{announcements:r=ql,container:t,hiddenTextDescribedById:n,screenReaderInstructions:o=$l}=e;const{announce:s,announcement:i}=zl(),a=nr("DndLiveRegion"),[l,c]=h.useState(!1);if(h.useEffect(()=>{c(!0)},[]),Pl(h.useMemo(()=>({onDragStart(d){let{active:p}=d;s(r.onDragStart({active:p}))},onDragMove(d){let{active:p,over:y}=d;r.onDragMove&&s(r.onDragMove({active:p,over:y}))},onDragOver(d){let{active:p,over:y}=d;s(r.onDragOver({active:p,over:y}))},onDragEnd(d){let{active:p,over:y}=d;s(r.onDragEnd({active:p,over:y}))},onDragCancel(d){let{active:p,over:y}=d;s(r.onDragCancel({active:p,over:y}))}}),[s,r])),!l)return null;const f=x.createElement(x.Fragment,null,x.createElement(Ol,{id:n,value:o.draggable}),x.createElement(Ll,{id:a,announcement:i}));return t?mt.createPortal(f,t):f}var ue;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ue||(ue={}));function br(){}function Gr(e,r){return h.useMemo(()=>({sensor:e,options:r??{}}),[e,r])}function Hl(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return h.useMemo(()=>[...r].filter(n=>n!=null),[...r])}const $e=Object.freeze({x:0,y:0});function os(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function ss(e,r){let{data:{value:t}}=e,{data:{value:n}}=r;return t-n}function Wl(e,r){let{data:{value:t}}=e,{data:{value:n}}=r;return n-t}function Yn(e){let{left:r,top:t,height:n,width:o}=e;return[{x:r,y:t},{x:r+o,y:t},{x:r,y:t+n},{x:r+o,y:t+n}]}function is(e,r){if(!e||e.length===0)return null;const[t]=e;return t[r]}function Qn(e,r,t){return r===void 0&&(r=e.left),t===void 0&&(t=e.top),{x:r+e.width*.5,y:t+e.height*.5}}const Gl=e=>{let{collisionRect:r,droppableRects:t,droppableContainers:n}=e;const o=Qn(r,r.left,r.top),s=[];for(const i of n){const{id:a}=i,l=t.get(a);if(l){const c=os(Qn(l),o);s.push({id:a,data:{droppableContainer:i,value:c}})}}return s.sort(ss)},Yl=e=>{let{collisionRect:r,droppableRects:t,droppableContainers:n}=e;const o=Yn(r),s=[];for(const i of n){const{id:a}=i,l=t.get(a);if(l){const c=Yn(l),f=o.reduce((p,y,E)=>p+os(c[E],y),0),d=Number((f/4).toFixed(4));s.push({id:a,data:{droppableContainer:i,value:d}})}}return s.sort(ss)};function Ql(e,r){const t=Math.max(r.top,e.top),n=Math.max(r.left,e.left),o=Math.min(r.left+r.width,e.left+e.width),s=Math.min(r.top+r.height,e.top+e.height),i=o-n,a=s-t;if(n<o&&t<s){const l=r.width*r.height,c=e.width*e.height,f=i*a,d=f/(l+c-f);return Number(d.toFixed(4))}return 0}const Xl=e=>{let{collisionRect:r,droppableRects:t,droppableContainers:n}=e;const o=[];for(const s of n){const{id:i}=s,a=t.get(i);if(a){const l=Ql(a,r);l>0&&o.push({id:i,data:{droppableContainer:s,value:l}})}}return o.sort(Wl)};function Kl(e,r,t){return{...e,scaleX:r&&t?r.width/t.width:1,scaleY:r&&t?r.height/t.height:1}}function as(e,r){return e&&r?{x:e.left-r.left,y:e.top-r.top}:$e}function Jl(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return o.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...t})}}const Zl=Jl(1);function ec(e){if(e.startsWith("matrix3d(")){const r=e.slice(9,-1).split(/, /);return{x:+r[12],y:+r[13],scaleX:+r[0],scaleY:+r[5]}}else if(e.startsWith("matrix(")){const r=e.slice(7,-1).split(/, /);return{x:+r[4],y:+r[5],scaleX:+r[0],scaleY:+r[3]}}return null}function tc(e,r,t){const n=ec(r);if(!n)return e;const{scaleX:o,scaleY:s,x:i,y:a}=n,l=e.left-i-(1-o)*parseFloat(t),c=e.top-a-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),f=o?e.width/o:e.width,d=s?e.height/s:e.height;return{width:f,height:d,top:c,right:l+f,bottom:c+d,left:l}}const rc={ignoreTransform:!1};function It(e,r){r===void 0&&(r=rc);let t=e.getBoundingClientRect();if(r.ignoreTransform){const{transform:c,transformOrigin:f}=Se(e).getComputedStyle(e);c&&(t=tc(t,c,f))}const{top:n,left:o,width:s,height:i,bottom:a,right:l}=t;return{top:n,left:o,width:s,height:i,bottom:a,right:l}}function Xn(e){return It(e,{ignoreTransform:!0})}function nc(e){const r=e.innerWidth,t=e.innerHeight;return{top:0,left:0,right:r,bottom:t,width:r,height:t}}function oc(e,r){return r===void 0&&(r=Se(e).getComputedStyle(e)),r.position==="fixed"}function sc(e,r){r===void 0&&(r=Se(e).getComputedStyle(e));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=r[o];return typeof s=="string"?t.test(s):!1})}function Dr(e,r){const t=[];function n(o){if(r!=null&&t.length>=r||!o)return t;if(bn(o)&&o.scrollingElement!=null&&!t.includes(o.scrollingElement))return t.push(o.scrollingElement),t;if(!tr(o)||ts(o)||t.includes(o))return t;const s=Se(e).getComputedStyle(o);return o!==e&&sc(o,s)&&t.push(o),oc(o,s)?t:n(o.parentNode)}return e?n(e):t}function ls(e){const[r]=Dr(e,1);return r??null}function Yr(e){return!Ar||!e?null:Nt(e)?e:vn(e)?bn(e)||e===Ft(e).scrollingElement?window:tr(e)?e:null:null}function cs(e){return Nt(e)?e.scrollX:e.scrollLeft}function us(e){return Nt(e)?e.scrollY:e.scrollTop}function ln(e){return{x:cs(e),y:us(e)}}var pe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(pe||(pe={}));function ds(e){return!Ar||!e?!1:e===document.scrollingElement}function fs(e){const r={x:0,y:0},t=ds(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-t.width,y:e.scrollHeight-t.height},o=e.scrollTop<=r.y,s=e.scrollLeft<=r.x,i=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:o,isLeft:s,isBottom:i,isRight:a,maxScroll:n,minScroll:r}}const ic={x:.2,y:.2};function ac(e,r,t,n,o){let{top:s,left:i,right:a,bottom:l}=t;n===void 0&&(n=10),o===void 0&&(o=ic);const{isTop:c,isBottom:f,isLeft:d,isRight:p}=fs(e),y={x:0,y:0},E={x:0,y:0},_={height:r.height*o.y,width:r.width*o.x};return!c&&s<=r.top+_.height?(y.y=pe.Backward,E.y=n*Math.abs((r.top+_.height-s)/_.height)):!f&&l>=r.bottom-_.height&&(y.y=pe.Forward,E.y=n*Math.abs((r.bottom-_.height-l)/_.height)),!p&&a>=r.right-_.width?(y.x=pe.Forward,E.x=n*Math.abs((r.right-_.width-a)/_.width)):!d&&i<=r.left+_.width&&(y.x=pe.Backward,E.x=n*Math.abs((r.left+_.width-i)/_.width)),{direction:y,speed:E}}function lc(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:r,left:t,right:n,bottom:o}=e.getBoundingClientRect();return{top:r,left:t,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function gs(e){return e.reduce((r,t)=>At(r,ln(t)),$e)}function cc(e){return e.reduce((r,t)=>r+cs(t),0)}function uc(e){return e.reduce((r,t)=>r+us(t),0)}function dc(e,r){if(r===void 0&&(r=It),!e)return;const{top:t,left:n,bottom:o,right:s}=r(e);ls(e)&&(o<=0||s<=0||t>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const fc=[["x",["left","right"],cc],["y",["top","bottom"],uc]];class wn{constructor(r,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Dr(t),o=gs(n);this.rect={...r},this.width=r.width,this.height=r.height;for(const[s,i,a]of fc)for(const l of i)Object.defineProperty(this,l,{get:()=>{const c=a(n),f=o[s]-c;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ht{constructor(r){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=r}add(r,t,n){var o;(o=this.target)==null||o.addEventListener(r,t,n),this.listeners.push([r,t,n])}}function gc(e){const{EventTarget:r}=Se(e);return e instanceof r?e:Ft(e)}function Qr(e,r){const t=Math.abs(e.x),n=Math.abs(e.y);return typeof r=="number"?Math.sqrt(t**2+n**2)>r:"x"in r&&"y"in r?t>r.x&&n>r.y:"x"in r?t>r.x:"y"in r?n>r.y:!1}var Ve;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ve||(Ve={}));function Kn(e){e.preventDefault()}function mc(e){e.stopPropagation()}var G;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(G||(G={}));const ms={start:[G.Space,G.Enter],cancel:[G.Esc],end:[G.Space,G.Enter,G.Tab]},pc=(e,r)=>{let{currentCoordinates:t}=r;switch(e.code){case G.Right:return{...t,x:t.x+25};case G.Left:return{...t,x:t.x-25};case G.Down:return{...t,y:t.y+25};case G.Up:return{...t,y:t.y-25}}};class _n{constructor(r){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=r;const{event:{target:t}}=r;this.props=r,this.listeners=new Ht(Ft(t)),this.windowListeners=new Ht(Se(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ve.Resize,this.handleCancel),this.windowListeners.add(Ve.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ve.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:r,onStart:t}=this.props,n=r.node.current;n&&dc(n),t($e)}handleKeyDown(r){if(xn(r)){const{active:t,context:n,options:o}=this.props,{keyboardCodes:s=ms,coordinateGetter:i=pc,scrollBehavior:a="smooth"}=o,{code:l}=r;if(s.end.includes(l)){this.handleEnd(r);return}if(s.cancel.includes(l)){this.handleCancel(r);return}const{collisionRect:c}=n.current,f=c?{x:c.left,y:c.top}:$e;this.referenceCoordinates||(this.referenceCoordinates=f);const d=i(r,{active:t,context:n.current,currentCoordinates:f});if(d){const p=Qt(d,f),y={x:0,y:0},{scrollableAncestors:E}=n.current;for(const _ of E){const C=r.code,{isTop:j,isRight:D,isLeft:M,isBottom:b,maxScroll:w,minScroll:A}=fs(_),F=lc(_),k={x:Math.min(C===G.Right?F.right-F.width/2:F.right,Math.max(C===G.Right?F.left:F.left+F.width/2,d.x)),y:Math.min(C===G.Down?F.bottom-F.height/2:F.bottom,Math.max(C===G.Down?F.top:F.top+F.height/2,d.y))},z=C===G.Right&&!D||C===G.Left&&!M,X=C===G.Down&&!b||C===G.Up&&!j;if(z&&k.x!==d.x){const q=_.scrollLeft+p.x,P=C===G.Right&&q<=w.x||C===G.Left&&q>=A.x;if(P&&!p.y){_.scrollTo({left:q,behavior:a});return}P?y.x=_.scrollLeft-q:y.x=C===G.Right?_.scrollLeft-w.x:_.scrollLeft-A.x,y.x&&_.scrollBy({left:-y.x,behavior:a});break}else if(X&&k.y!==d.y){const q=_.scrollTop+p.y,P=C===G.Down&&q<=w.y||C===G.Up&&q>=A.y;if(P&&!p.x){_.scrollTo({top:q,behavior:a});return}P?y.y=_.scrollTop-q:y.y=C===G.Down?_.scrollTop-w.y:_.scrollTop-A.y,y.y&&_.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(r,At(Qt(d,this.referenceCoordinates),y))}}}handleMove(r,t){const{onMove:n}=this.props;r.preventDefault(),n(t)}handleEnd(r){const{onEnd:t}=this.props;r.preventDefault(),this.detach(),t()}handleCancel(r){const{onCancel:t}=this.props;r.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_n.activators=[{eventName:"onKeyDown",handler:(e,r,t)=>{let{keyboardCodes:n=ms,onActivation:o}=r,{active:s}=t;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Jn(e){return!!(e&&"distance"in e)}function Zn(e){return!!(e&&"delay"in e)}class Cn{constructor(r,t,n){var o;n===void 0&&(n=gc(r.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=r,this.events=t;const{event:s}=r,{target:i}=s;this.props=r,this.events=t,this.document=Ft(i),this.documentListeners=new Ht(this.document),this.listeners=new Ht(n),this.windowListeners=new Ht(Se(i)),this.initialCoordinates=(o=an(s))!=null?o:$e,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:r,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(r.move.name,this.handleMove,{passive:!1}),this.listeners.add(r.end.name,this.handleEnd),r.cancel&&this.listeners.add(r.cancel.name,this.handleCancel),this.windowListeners.add(Ve.Resize,this.handleCancel),this.windowListeners.add(Ve.DragStart,Kn),this.windowListeners.add(Ve.VisibilityChange,this.handleCancel),this.windowListeners.add(Ve.ContextMenu,Kn),this.documentListeners.add(Ve.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Zn(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Jn(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(r,t){const{active:n,onPending:o}=this.props;o(n,r,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:r}=this,{onStart:t}=this.props;r&&(this.activated=!0,this.documentListeners.add(Ve.Click,mc,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ve.SelectionChange,this.removeTextSelection),t(r))}handleMove(r){var t;const{activated:n,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:a}}=s;if(!o)return;const l=(t=an(r))!=null?t:$e,c=Qt(o,l);if(!n&&a){if(Jn(a)){if(a.tolerance!=null&&Qr(c,a.tolerance))return this.handleCancel();if(Qr(c,a.distance))return this.handleStart()}if(Zn(a)&&Qr(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}r.cancelable&&r.preventDefault(),i(l)}handleEnd(){const{onAbort:r,onEnd:t}=this.props;this.detach(),this.activated||r(this.props.active),t()}handleCancel(){const{onAbort:r,onCancel:t}=this.props;this.detach(),this.activated||r(this.props.active),t()}handleKeydown(r){r.code===G.Esc&&this.handleCancel()}removeTextSelection(){var r;(r=this.document.getSelection())==null||r.removeAllRanges()}}const hc={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class kn extends Cn{constructor(r){const{event:t}=r,n=Ft(t.target);super(r,hc,n)}}kn.activators=[{eventName:"onPointerDown",handler:(e,r)=>{let{nativeEvent:t}=e,{onActivation:n}=r;return!t.isPrimary||t.button!==0?!1:(n?.({event:t}),!0)}}];const vc={move:{name:"mousemove"},end:{name:"mouseup"}};var cn;(function(e){e[e.RightClick=2]="RightClick"})(cn||(cn={}));class bc extends Cn{constructor(r){super(r,vc,Ft(r.event.target))}}bc.activators=[{eventName:"onMouseDown",handler:(e,r)=>{let{nativeEvent:t}=e,{onActivation:n}=r;return t.button===cn.RightClick?!1:(n?.({event:t}),!0)}}];const Xr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ps extends Cn{constructor(r){super(r,Xr)}static setup(){return window.addEventListener(Xr.move.name,r,{capture:!1,passive:!1}),function(){window.removeEventListener(Xr.move.name,r)};function r(){}}}ps.activators=[{eventName:"onTouchStart",handler:(e,r)=>{let{nativeEvent:t}=e,{onActivation:n}=r;const{touches:o}=t;return o.length>1?!1:(n?.({event:t}),!0)}}];var Wt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Wt||(Wt={}));var yr;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yr||(yr={}));function yc(e){let{acceleration:r,activator:t=Wt.Pointer,canScroll:n,draggingRect:o,enabled:s,interval:i=5,order:a=yr.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:f,delta:d,threshold:p}=e;const y=wc({delta:d,disabled:!s}),[E,_]=Il(),C=h.useRef({x:0,y:0}),j=h.useRef({x:0,y:0}),D=h.useMemo(()=>{switch(t){case Wt.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Wt.DraggableRect:return o}},[t,o,l]),M=h.useRef(null),b=h.useCallback(()=>{const A=M.current;if(!A)return;const F=C.current.x*j.current.x,k=C.current.y*j.current.y;A.scrollBy(F,k)},[]),w=h.useMemo(()=>a===yr.TreeOrder?[...c].reverse():c,[a,c]);h.useEffect(()=>{if(!s||!c.length||!D){_();return}for(const A of w){if(n?.(A)===!1)continue;const F=c.indexOf(A),k=f[F];if(!k)continue;const{direction:z,speed:X}=ac(A,k,D,r,p);for(const q of["x","y"])y[q][z[q]]||(X[q]=0,z[q]=0);if(X.x>0||X.y>0){_(),M.current=A,E(b,i),C.current=X,j.current=z;return}}C.current={x:0,y:0},j.current={x:0,y:0},_()},[r,b,n,_,s,i,JSON.stringify(D),JSON.stringify(y),E,c,w,f,JSON.stringify(p)])}const xc={x:{[pe.Backward]:!1,[pe.Forward]:!1},y:{[pe.Backward]:!1,[pe.Forward]:!1}};function wc(e){let{delta:r,disabled:t}=e;const n=sn(r);return rr(o=>{if(t||!n||!o)return xc;const s={x:Math.sign(r.x-n.x),y:Math.sign(r.y-n.y)};return{x:{[pe.Backward]:o.x[pe.Backward]||s.x===-1,[pe.Forward]:o.x[pe.Forward]||s.x===1},y:{[pe.Backward]:o.y[pe.Backward]||s.y===-1,[pe.Forward]:o.y[pe.Forward]||s.y===1}}},[t,r,n])}function _c(e,r){const t=r!=null?e.get(r):void 0,n=t?t.node.current:null;return rr(o=>{var s;return r==null?null:(s=n??o)!=null?s:null},[n,r])}function Cc(e,r){return h.useMemo(()=>e.reduce((t,n)=>{const{sensor:o}=n,s=o.activators.map(i=>({eventName:i.eventName,handler:r(i.handler,n)}));return[...t,...s]},[]),[e,r])}var Kt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Kt||(Kt={}));var un;(function(e){e.Optimized="optimized"})(un||(un={}));const eo=new Map;function kc(e,r){let{dragging:t,dependencies:n,config:o}=r;const[s,i]=h.useState(null),{frequency:a,measure:l,strategy:c}=o,f=h.useRef(e),d=C(),p=Yt(d),y=h.useCallback(function(j){j===void 0&&(j=[]),!p.current&&i(D=>D===null?j:D.concat(j.filter(M=>!D.includes(M))))},[p]),E=h.useRef(null),_=rr(j=>{if(d&&!t)return eo;if(!j||j===eo||f.current!==e||s!=null){const D=new Map;for(let M of e){if(!M)continue;if(s&&s.length>0&&!s.includes(M.id)&&M.rect.current){D.set(M.id,M.rect.current);continue}const b=M.node.current,w=b?new wn(l(b),b):null;M.rect.current=w,w&&D.set(M.id,w)}return D}return j},[e,s,t,d,l]);return h.useEffect(()=>{f.current=e},[e]),h.useEffect(()=>{d||y()},[t,d]),h.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),h.useEffect(()=>{d||typeof a!="number"||E.current!==null||(E.current=setTimeout(()=>{y(),E.current=null},a))},[a,d,y,...n]),{droppableRects:_,measureDroppableContainers:y,measuringScheduled:s!=null};function C(){switch(c){case Kt.Always:return!1;case Kt.BeforeDragging:return t;default:return!t}}}function hs(e,r){return rr(t=>e?t||(typeof r=="function"?r(e):e):null,[r,e])}function Sc(e,r){return hs(e,r)}function Ec(e){let{callback:r,disabled:t}=e;const n=yn(r),o=h.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,t]);return h.useEffect(()=>()=>o?.disconnect(),[o]),o}function Rr(e){let{callback:r,disabled:t}=e;const n=yn(r),o=h.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[t]);return h.useEffect(()=>()=>o?.disconnect(),[o]),o}function Ac(e){return new wn(It(e),e)}function to(e,r,t){r===void 0&&(r=Ac);const[n,o]=h.useState(null);function s(){o(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??t)!=null?c:null}const f=r(e);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const i=Ec({callback(l){if(e)for(const c of l){const{type:f,target:d}=c;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),a=Rr({callback:s});return Ge(()=>{s(),e?(a?.observe(e),i?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),i?.disconnect())},[e]),n}function Dc(e){const r=hs(e);return as(e,r)}const ro=[];function Rc(e){const r=h.useRef(e),t=rr(n=>e?n&&n!==ro&&e&&r.current&&e.parentNode===r.current.parentNode?n:Dr(e):ro,[e]);return h.useEffect(()=>{r.current=e},[e]),t}function Nc(e){const[r,t]=h.useState(null),n=h.useRef(e),o=h.useCallback(s=>{const i=Yr(s.target);i&&t(a=>a?(a.set(i,ln(i)),new Map(a)):null)},[]);return h.useEffect(()=>{const s=n.current;if(e!==s){i(s);const a=e.map(l=>{const c=Yr(l);return c?(c.addEventListener("scroll",o,{passive:!0}),[c,ln(c)]):null}).filter(l=>l!=null);t(a.length?new Map(a):null),n.current=e}return()=>{i(e),i(s)};function i(a){a.forEach(l=>{const c=Yr(l);c?.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?r?Array.from(r.values()).reduce((s,i)=>At(s,i),$e):gs(e):$e,[e,r])}function no(e,r){r===void 0&&(r=[]);const t=h.useRef(null);return h.useEffect(()=>{t.current=null},r),h.useEffect(()=>{const n=e!==$e;n&&!t.current&&(t.current=e),!n&&t.current&&(t.current=null)},[e]),t.current?Qt(e,t.current):$e}function Fc(e){h.useEffect(()=>{if(!Ar)return;const r=e.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of r)t?.()}},e.map(r=>{let{sensor:t}=r;return t}))}function Ic(e,r){return h.useMemo(()=>e.reduce((t,n)=>{let{eventName:o,handler:s}=n;return t[o]=i=>{s(i,r)},t},{}),[e,r])}function vs(e){return h.useMemo(()=>e?nc(e):null,[e])}const oo=[];function jc(e,r){r===void 0&&(r=It);const[t]=e,n=vs(t?Se(t):null),[o,s]=h.useState(oo);function i(){s(()=>e.length?e.map(l=>ds(l)?n:new wn(r(l),l)):oo)}const a=Rr({callback:i});return Ge(()=>{a?.disconnect(),i(),e.forEach(l=>a?.observe(l))},[e]),o}function Mc(e){if(!e)return null;if(e.children.length>1)return e;const r=e.children[0];return tr(r)?r:e}function Vc(e){let{measure:r}=e;const[t,n]=h.useState(null),o=h.useCallback(c=>{for(const{target:f}of c)if(tr(f)){n(d=>{const p=r(f);return d?{...d,width:p.width,height:p.height}:p});break}},[r]),s=Rr({callback:o}),i=h.useCallback(c=>{const f=Mc(c);s?.disconnect(),f&&s?.observe(f),n(f?r(f):null)},[r,s]),[a,l]=vr(i);return h.useMemo(()=>({nodeRef:a,rect:t,setRef:l}),[t,a,l])}const Tc=[{sensor:kn,options:{}},{sensor:_n,options:{}}],Oc={current:{}},dr={draggable:{measure:Xn},droppable:{measure:Xn,strategy:Kt.WhileDragging,frequency:un.Optimized},dragOverlay:{measure:It}};class Gt extends Map{get(r){var t;return r!=null&&(t=super.get(r))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(r=>{let{disabled:t}=r;return!t})}getNodeFor(r){var t,n;return(t=(n=this.get(r))==null?void 0:n.node.current)!=null?t:void 0}}const Lc={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:br},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dr,measureDroppableContainers:br,windowRect:null,measuringScheduled:!1},zc={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:br,draggableNodes:new Map,over:null,measureDroppableContainers:br},Nr=h.createContext(zc),bs=h.createContext(Lc);function Pc(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gt}}}function Bc(e,r){switch(r.type){case ue.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:r.initialCoordinates,active:r.active}};case ue.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:r.coordinates.x-e.draggable.initialCoordinates.x,y:r.coordinates.y-e.draggable.initialCoordinates.y}}};case ue.DragEnd:case ue.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ue.RegisterDroppable:{const{element:t}=r,{id:n}=t,o=new Gt(e.droppable.containers);return o.set(n,t),{...e,droppable:{...e.droppable,containers:o}}}case ue.SetDroppableDisabled:{const{id:t,key:n,disabled:o}=r,s=e.droppable.containers.get(t);if(!s||n!==s.key)return e;const i=new Gt(e.droppable.containers);return i.set(t,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case ue.UnregisterDroppable:{const{id:t,key:n}=r,o=e.droppable.containers.get(t);if(!o||n!==o.key)return e;const s=new Gt(e.droppable.containers);return s.delete(t),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function $c(e){let{disabled:r}=e;const{active:t,activatorEvent:n,draggableNodes:o}=h.useContext(Nr),s=sn(n),i=sn(t?.id);return h.useEffect(()=>{if(!r&&!n&&s&&i!=null){if(!xn(s)||document.activeElement===s.target)return;const a=o.get(i);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[l.current,c.current]){if(!f)continue;const d=Vl(f);if(d){d.focus();break}}})}},[n,r,o,i,s]),null}function qc(e,r){let{transform:t,...n}=r;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...n}),t):t}function Uc(e){return h.useMemo(()=>({draggable:{...dr.draggable,...e?.draggable},droppable:{...dr.droppable,...e?.droppable},dragOverlay:{...dr.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Hc(e){let{activeNode:r,measure:t,initialRect:n,config:o=!0}=e;const s=h.useRef(!1),{x:i,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Ge(()=>{if(!i&&!a||!r){s.current=!1;return}if(s.current||!n)return;const c=r?.node.current;if(!c||c.isConnected===!1)return;const f=t(c),d=as(f,n);if(i||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const p=ls(c);p&&p.scrollBy({top:d.y,left:d.x})}},[r,i,a,n,t])}const ys=h.createContext({...$e,scaleX:1,scaleY:1});var ct;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ct||(ct={}));const Wc=h.memo(function(r){var t,n,o,s;let{id:i,accessibility:a,autoScroll:l=!0,children:c,sensors:f=Tc,collisionDetection:d=Xl,measuring:p,modifiers:y,...E}=r;const _=h.useReducer(Bc,void 0,Pc),[C,j]=_,[D,M]=Bl(),[b,w]=h.useState(ct.Uninitialized),A=b===ct.Initialized,{draggable:{active:F,nodes:k,translate:z},droppable:{containers:X}}=C,q=F!=null?k.get(F):null,P=h.useRef({initial:null,translated:null}),B=h.useMemo(()=>{var ye;return F!=null?{id:F,data:(ye=q?.data)!=null?ye:Oc,rect:P}:null},[F,q]),H=h.useRef(null),[J,K]=h.useState(null),[Q,O]=h.useState(null),le=Yt(E,Object.values(E)),Ee=nr("DndDescribedBy",i),qe=h.useMemo(()=>X.getEnabled(),[X]),ie=Uc(p),{droppableRects:Z,measureDroppableContainers:oe,measuringScheduled:Ae}=kc(qe,{dragging:A,dependencies:[z.x,z.y],config:ie.droppable}),he=_c(k,F),te=h.useMemo(()=>Q?an(Q):null,[Q]),we=As(),fe=Sc(he,ie.draggable.measure);Hc({activeNode:F!=null?k.get(F):null,config:we.layoutShiftCompensation,initialRect:fe,measure:ie.draggable.measure});const U=to(he,ie.draggable.measure,fe),ze=to(he?he.parentElement:null),ge=h.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:X,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),tt=X.getNodeFor((t=ge.current.over)==null?void 0:t.id),je=Vc({measure:ie.dragOverlay.measure}),Qe=(n=je.nodeRef.current)!=null?n:he,rt=A?(o=je.rect)!=null?o:U:null,or=!!(je.nodeRef.current&&je.rect),Fr=Dc(or?null:U),yt=vs(Qe?Se(Qe):null),u=Rc(A?tt??he:null),m=jc(u),v=qc(y,{transform:{x:z.x-Fr.x,y:z.y-Fr.y,scaleX:1,scaleY:1},activatorEvent:Q,active:B,activeNodeRect:U,containerNodeRect:ze,draggingNodeRect:rt,over:ge.current.over,overlayNodeRect:je.rect,scrollableAncestors:u,scrollableAncestorRects:m,windowRect:yt}),I=te?At(te,z):null,R=Nc(u),S=no(R),L=no(R,[U]),W=At(v,S),Y=rt?Zl(rt,v):null,me=B&&Y?d({active:B,collisionRect:Y,droppableRects:Z,droppableContainers:qe,pointerCoordinates:I}):null,dt=is(me,"id"),[ve,sr]=h.useState(null),jt=or?v:At(v,L),Mt=Kl(jt,(s=ve?.rect)!=null?s:null,U),Vt=h.useRef(null),Tt=h.useCallback((ye,De)=>{let{sensor:Re,options:nt}=De;if(H.current==null)return;const Me=k.get(H.current);if(!Me)return;const Ne=ye.nativeEvent,Ue=new Re({active:H.current,activeNode:Me,event:Ne,options:nt,context:ge,onAbort(be){if(!k.get(be))return;const{onDragAbort:He}=le.current,Xe={id:be};He?.(Xe),D({type:"onDragAbort",event:Xe})},onPending(be,ot,He,Xe){if(!k.get(be))return;const{onDragPending:zt}=le.current,st={id:be,constraint:ot,initialCoordinates:He,offset:Xe};zt?.(st),D({type:"onDragPending",event:st})},onStart(be){const ot=H.current;if(ot==null)return;const He=k.get(ot);if(!He)return;const{onDragStart:Xe}=le.current,Lt={activatorEvent:Ne,active:{id:ot,data:He.data,rect:P}};mt.unstable_batchedUpdates(()=>{Xe?.(Lt),w(ct.Initializing),j({type:ue.DragStart,initialCoordinates:be,active:ot}),D({type:"onDragStart",event:Lt}),K(Vt.current),O(Ne)})},onMove(be){j({type:ue.DragMove,coordinates:be})},onEnd:xt(ue.DragEnd),onCancel:xt(ue.DragCancel)});Vt.current=Ue;function xt(be){return async function(){const{active:He,collisions:Xe,over:Lt,scrollAdjustedTranslate:zt}=ge.current;let st=null;if(He&&zt){const{cancelDrop:Pt}=le.current;st={activatorEvent:Ne,active:He,collisions:Xe,delta:zt,over:Lt},be===ue.DragEnd&&typeof Pt=="function"&&await Promise.resolve(Pt(st))&&(be=ue.DragCancel)}H.current=null,mt.unstable_batchedUpdates(()=>{j({type:be}),w(ct.Uninitialized),sr(null),K(null),O(null),Vt.current=null;const Pt=be===ue.DragEnd?"onDragEnd":"onDragCancel";if(st){const jr=le.current[Pt];jr?.(st),D({type:Pt,event:st})}})}}},[k]),Ir=h.useCallback((ye,De)=>(Re,nt)=>{const Me=Re.nativeEvent,Ne=k.get(nt);if(H.current!==null||!Ne||Me.dndKit||Me.defaultPrevented)return;const Ue={active:Ne};ye(Re,De.options,Ue)===!0&&(Me.dndKit={capturedBy:De.sensor},H.current=nt,Tt(Re,De))},[k,Tt]),Ot=Cc(f,Ir);Fc(f),Ge(()=>{U&&b===ct.Initializing&&w(ct.Initialized)},[U,b]),h.useEffect(()=>{const{onDragMove:ye}=le.current,{active:De,activatorEvent:Re,collisions:nt,over:Me}=ge.current;if(!De||!Re)return;const Ne={active:De,activatorEvent:Re,collisions:nt,delta:{x:W.x,y:W.y},over:Me};mt.unstable_batchedUpdates(()=>{ye?.(Ne),D({type:"onDragMove",event:Ne})})},[W.x,W.y]),h.useEffect(()=>{const{active:ye,activatorEvent:De,collisions:Re,droppableContainers:nt,scrollAdjustedTranslate:Me}=ge.current;if(!ye||H.current==null||!De||!Me)return;const{onDragOver:Ne}=le.current,Ue=nt.get(dt),xt=Ue&&Ue.rect.current?{id:Ue.id,rect:Ue.rect.current,data:Ue.data,disabled:Ue.disabled}:null,be={active:ye,activatorEvent:De,collisions:Re,delta:{x:Me.x,y:Me.y},over:xt};mt.unstable_batchedUpdates(()=>{sr(xt),Ne?.(be),D({type:"onDragOver",event:be})})},[dt]),Ge(()=>{ge.current={activatorEvent:Q,active:B,activeNode:he,collisionRect:Y,collisions:me,droppableRects:Z,draggableNodes:k,draggingNode:Qe,draggingNodeRect:rt,droppableContainers:X,over:ve,scrollableAncestors:u,scrollAdjustedTranslate:W},P.current={initial:rt,translated:Y}},[B,he,me,Y,k,Qe,rt,Z,X,ve,u,W]),yc({...we,delta:z,draggingRect:Y,pointerCoordinates:I,scrollableAncestors:u,scrollableAncestorRects:m});const Ss=h.useMemo(()=>({active:B,activeNode:he,activeNodeRect:U,activatorEvent:Q,collisions:me,containerNodeRect:ze,dragOverlay:je,draggableNodes:k,droppableContainers:X,droppableRects:Z,over:ve,measureDroppableContainers:oe,scrollableAncestors:u,scrollableAncestorRects:m,measuringConfiguration:ie,measuringScheduled:Ae,windowRect:yt}),[B,he,U,Q,me,ze,je,k,X,Z,ve,oe,u,m,ie,Ae,yt]),Es=h.useMemo(()=>({activatorEvent:Q,activators:Ot,active:B,activeNodeRect:U,ariaDescribedById:{draggable:Ee},dispatch:j,draggableNodes:k,over:ve,measureDroppableContainers:oe}),[Q,Ot,B,U,j,Ee,k,ve,oe]);return x.createElement(ns.Provider,{value:M},x.createElement(Nr.Provider,{value:Es},x.createElement(bs.Provider,{value:Ss},x.createElement(ys.Provider,{value:Mt},c)),x.createElement($c,{disabled:a?.restoreFocus===!1})),x.createElement(Ul,{...a,hiddenTextDescribedById:Ee}));function As(){const ye=J?.autoScrollEnabled===!1,De=typeof l=="object"?l.enabled===!1:l===!1,Re=A&&!ye&&!De;return typeof l=="object"?{...l,enabled:Re}:{enabled:Re}}}),Gc=h.createContext(null),so="button",Yc="Draggable";function Qc(e){let{id:r,data:t,disabled:n=!1,attributes:o}=e;const s=nr(Yc),{activators:i,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:f,draggableNodes:d,over:p}=h.useContext(Nr),{role:y=so,roleDescription:E="draggable",tabIndex:_=0}=o??{},C=l?.id===r,j=h.useContext(C?ys:Gc),[D,M]=vr(),[b,w]=vr(),A=Ic(i,r),F=Yt(t);Ge(()=>(d.set(r,{id:r,key:s,node:D,activatorNode:b,data:F}),()=>{const z=d.get(r);z&&z.key===s&&d.delete(r)}),[d,r]);const k=h.useMemo(()=>({role:y,tabIndex:_,"aria-disabled":n,"aria-pressed":C&&y===so?!0:void 0,"aria-roledescription":E,"aria-describedby":f.draggable}),[n,y,_,C,E,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:k,isDragging:C,listeners:n?void 0:A,node:D,over:p,setNodeRef:M,setActivatorNodeRef:w,transform:j}}function Xc(){return h.useContext(bs)}const Kc="Droppable",Jc={timeout:25};function Zc(e){let{data:r,disabled:t=!1,id:n,resizeObserverConfig:o}=e;const s=nr(Kc),{active:i,dispatch:a,over:l,measureDroppableContainers:c}=h.useContext(Nr),f=h.useRef({disabled:t}),d=h.useRef(!1),p=h.useRef(null),y=h.useRef(null),{disabled:E,updateMeasurementsFor:_,timeout:C}={...Jc,...o},j=Yt(_??n),D=h.useCallback(()=>{if(!d.current){d.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{c(Array.isArray(j.current)?j.current:[j.current]),y.current=null},C)},[C]),M=Rr({callback:D,disabled:E||!i}),b=h.useCallback((k,z)=>{M&&(z&&(M.unobserve(z),d.current=!1),k&&M.observe(k))},[M]),[w,A]=vr(b),F=Yt(r);return h.useEffect(()=>{!M||!w.current||(M.disconnect(),d.current=!1,M.observe(w.current))},[w,M]),h.useEffect(()=>(a({type:ue.RegisterDroppable,element:{id:n,key:s,disabled:t,node:w,rect:p,data:F}}),()=>a({type:ue.UnregisterDroppable,key:s,id:n})),[n]),h.useEffect(()=>{t!==f.current.disabled&&(a({type:ue.SetDroppableDisabled,id:n,key:s,disabled:t}),f.current.disabled=t)},[n,s,t,a]),{active:i,rect:p,isOver:l?.id===n,node:w,over:l,setNodeRef:A}}function Sn(e,r,t){const n=e.slice();return n.splice(t<0?n.length+t:t,0,n.splice(r,1)[0]),n}function eu(e,r){return e.reduce((t,n,o)=>{const s=r.get(n);return s&&(t[o]=s),t},Array(e.length))}function cr(e){return e!==null&&e>=0}function tu(e,r){if(e===r)return!0;if(e.length!==r.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function ru(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const xs=e=>{let{rects:r,activeIndex:t,overIndex:n,index:o}=e;const s=Sn(r,n,t),i=r[o],a=s[o];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},ur={scaleX:1,scaleY:1},nu=e=>{var r;let{activeIndex:t,activeNodeRect:n,index:o,rects:s,overIndex:i}=e;const a=(r=s[t])!=null?r:n;if(!a)return null;if(o===t){const c=s[i];return c?{x:0,y:t<i?c.top+c.height-(a.top+a.height):c.top-a.top,...ur}:null}const l=ou(s,o,t);return o>t&&o<=i?{x:0,y:-a.height-l,...ur}:o<t&&o>=i?{x:0,y:a.height+l,...ur}:{x:0,y:0,...ur}};function ou(e,r,t){const n=e[r],o=e[r-1],s=e[r+1];return n?t<r?o?n.top-(o.top+o.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}const ws="Sortable",_s=x.createContext({activeIndex:-1,containerId:ws,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xs,disabled:{draggable:!1,droppable:!1}});function su(e){let{children:r,id:t,items:n,strategy:o=xs,disabled:s=!1}=e;const{active:i,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:f}=Xc(),d=nr(ws,t),p=a.rect!==null,y=h.useMemo(()=>n.map(A=>typeof A=="object"&&"id"in A?A.id:A),[n]),E=i!=null,_=i?y.indexOf(i.id):-1,C=c?y.indexOf(c.id):-1,j=h.useRef(y),D=!tu(y,j.current),M=C!==-1&&_===-1||D,b=ru(s);Ge(()=>{D&&E&&f(y)},[D,y,E,f]),h.useEffect(()=>{j.current=y},[y]);const w=h.useMemo(()=>({activeIndex:_,containerId:d,disabled:b,disableTransforms:M,items:y,overIndex:C,useDragOverlay:p,sortedRects:eu(y,l),strategy:o}),[_,d,b.draggable,b.droppable,M,y,C,l,p,o]);return x.createElement(_s.Provider,{value:w},r)}const iu=e=>{let{id:r,items:t,activeIndex:n,overIndex:o}=e;return Sn(t,n,o).indexOf(r)},au=e=>{let{containerId:r,isSorting:t,wasDragging:n,index:o,items:s,newIndex:i,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!n||a!==s&&o===i?!1:t?!0:i!==o&&r===l},lu={duration:200,easing:"ease"},Cs="transform",cu=Xt.Transition.toString({property:Cs,duration:0,easing:"linear"}),uu={roleDescription:"sortable"};function du(e){let{disabled:r,index:t,node:n,rect:o}=e;const[s,i]=h.useState(null),a=h.useRef(t);return Ge(()=>{if(!r&&t!==a.current&&n.current){const l=o.current;if(l){const c=It(n.current,{ignoreTransform:!0}),f={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(f.x||f.y)&&i(f)}}t!==a.current&&(a.current=t)},[r,t,n,o]),h.useEffect(()=>{s&&i(null)},[s]),s}function fu(e){let{animateLayoutChanges:r=au,attributes:t,disabled:n,data:o,getNewIndex:s=iu,id:i,strategy:a,resizeObserverConfig:l,transition:c=lu}=e;const{items:f,containerId:d,activeIndex:p,disabled:y,disableTransforms:E,sortedRects:_,overIndex:C,useDragOverlay:j,strategy:D}=h.useContext(_s),M=gu(n,y),b=f.indexOf(i),w=h.useMemo(()=>({sortable:{containerId:d,index:b,items:f},...o}),[d,o,b,f]),A=h.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:F,node:k,isOver:z,setNodeRef:X}=Zc({id:i,data:w,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...l}}),{active:q,activatorEvent:P,activeNodeRect:B,attributes:H,setNodeRef:J,listeners:K,isDragging:Q,over:O,setActivatorNodeRef:le,transform:Ee}=Qc({id:i,data:w,attributes:{...uu,...t},disabled:M.draggable}),qe=Fl(X,J),ie=!!q,Z=ie&&!E&&cr(p)&&cr(C),oe=!j&&Q,Ae=oe&&Z?Ee:null,te=Z?Ae??(a??D)({rects:_,activeNodeRect:B,activeIndex:p,overIndex:C,index:b}):null,we=cr(p)&&cr(C)?s({id:i,items:f,activeIndex:p,overIndex:C}):b,fe=q?.id,U=h.useRef({activeId:fe,items:f,newIndex:we,containerId:d}),ze=f!==U.current.items,ge=r({active:q,containerId:d,isDragging:Q,isSorting:ie,id:i,index:b,items:f,newIndex:U.current.newIndex,previousItems:U.current.items,previousContainerId:U.current.containerId,transition:c,wasDragging:U.current.activeId!=null}),tt=du({disabled:!ge,index:b,node:k,rect:F});return h.useEffect(()=>{ie&&U.current.newIndex!==we&&(U.current.newIndex=we),d!==U.current.containerId&&(U.current.containerId=d),f!==U.current.items&&(U.current.items=f)},[ie,we,d,f]),h.useEffect(()=>{if(fe===U.current.activeId)return;if(fe!=null&&U.current.activeId==null){U.current.activeId=fe;return}const Qe=setTimeout(()=>{U.current.activeId=fe},50);return()=>clearTimeout(Qe)},[fe]),{active:q,activeIndex:p,attributes:H,data:w,rect:F,index:b,newIndex:we,items:f,isOver:z,isSorting:ie,isDragging:Q,listeners:K,node:k,overIndex:C,over:O,setNodeRef:qe,setActivatorNodeRef:le,setDroppableNodeRef:X,setDraggableNodeRef:J,transform:tt??te,transition:je()};function je(){if(tt||ze&&U.current.newIndex===b)return cu;if(!(oe&&!xn(P)||!c)&&(ie||ge))return Xt.Transition.toString({...c,property:Cs})}}function gu(e,r){var t,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(t=e?.draggable)!=null?t:r.draggable,droppable:(n=e?.droppable)!=null?n:r.droppable}}function xr(e){if(!e)return!1;const r=e.data.current;return!!(r&&"sortable"in r&&typeof r.sortable=="object"&&"containerId"in r.sortable&&"items"in r.sortable&&"index"in r.sortable)}const mu=[G.Down,G.Right,G.Up,G.Left],pu=(e,r)=>{let{context:{active:t,collisionRect:n,droppableRects:o,droppableContainers:s,over:i,scrollableAncestors:a}}=r;if(mu.includes(e.code)){if(e.preventDefault(),!t||!n)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const p=o.get(d.id);if(p)switch(e.code){case G.Down:n.top<p.top&&l.push(d);break;case G.Up:n.top>p.top&&l.push(d);break;case G.Left:n.left>p.left&&l.push(d);break;case G.Right:n.left<p.left&&l.push(d);break}});const c=Yl({collisionRect:n,droppableRects:o,droppableContainers:l});let f=is(c,"id");if(f===i?.id&&c.length>1&&(f=c[1].id),f!=null){const d=s.get(t.id),p=s.get(f),y=p?o.get(p.id):null,E=p?.node.current;if(E&&y&&d&&p){const C=Dr(E).some((A,F)=>a[F]!==A),j=ks(d,p),D=hu(d,p),M=C||!j?{x:0,y:0}:{x:D?n.width-y.width:0,y:D?n.height-y.height:0},b={x:y.left,y:y.top};return M.x&&M.y?b:Qt(b,M)}}}};function ks(e,r){return!xr(e)||!xr(r)?!1:e.data.current.sortable.containerId===r.data.current.sortable.containerId}function hu(e,r){return!xr(e)||!xr(r)||!ks(e,r)?!1:e.data.current.sortable.index<r.data.current.sortable.index}const io={distance:8},vu=({items:e,render:r,move:t,setItems:n})=>{const o=Hl(Gr(kn,{activationConstraint:io}),Gr(ps,{activationConstraint:io}),Gr(_n,{coordinateGetter:pu})),s=({active:i,over:a})=>{if(i.id!==a.id){const l=e.findIndex(f=>f.id===i.id),c=e.findIndex(f=>f.id===a.id);if(t)return t(l,c);n&&n(f=>Sn(f,l,c))}};return g.jsx(Wc,{sensors:o,collisionDetection:Gl,onDragEnd:s,children:g.jsx(su,{items:e,strategy:nu,children:e.map((i,a)=>g.jsx(bu,{id:i.id,render:l=>r({item:i,index:a,listeners:l})},i.id))})})},bu=({id:e,render:r})=>{const{attributes:t,listeners:n,setNodeRef:o,transform:s,transition:i}=fu({id:e}),a={transform:Xt.Transform.toString(s),transition:i};return g.jsx("div",{ref:o,style:a,...t,children:r(n)})},yu="_container_1yqlg_1",xu="_item_1yqlg_4",wu="_itemCorrect_1yqlg_14",_u="_itemLabel_1yqlg_18",Cu="_itemGrab_1yqlg_24",ku="_itemHeader_1yqlg_40",Su="_actions_1yqlg_48",Eu="_itemTitle_1yqlg_51",Au="_itemText_1yqlg_61",Ze={container:yu,item:xu,itemCorrect:wu,itemLabel:_u,itemGrab:Cu,itemHeader:ku,actions:Su,itemTitle:Eu,itemText:Au},Du=({watch:e,options:r,removeOption:t,questionIndex:n,moveOptions:o,errors:s})=>{const{t:i}=Oe(),a=Is(f=>f.setSwipeRedirectCallback),l=e(`questions.${n}.options`),c=f=>{a(f?null:"default")};return g.jsx("div",{className:Ze.container,children:g.jsx(vu,{items:r,move:o,render:({item:f,index:d,listeners:p})=>{const y=l[d].isCorrect;return g.jsxs("div",{className:Jt(Ze.item,y&&Ze.itemCorrect),children:[g.jsxs("div",{className:Ze.itemHeader,children:[g.jsxs("div",{className:Ze.itemLabel,children:[g.jsx("button",{className:Ze.itemGrab,...p,onTouchStart:()=>c(!0),onTouchEnd:()=>c(!1),type:"button",children:g.jsx(Us,{})}),g.jsx("p",{className:Ze.itemTitle,dangerouslySetInnerHTML:{__html:i("create_page.options.title",{value:y?`${d+1} <span>${i("create_page.options.right")}</span>`:d+1})}})]}),g.jsx("div",{className:Ze.actions,children:g.jsx(et,{style:"icon",size:"sm",onClick:()=>t(d),type:"button",children:g.jsx(wr,{})})})]}),g.jsx("p",{className:Ze.itemText,children:l[d].text}),s?.[d]?.text?.message&&g.jsx(We,{children:s?.[d]?.text?.message})]},f.id)}})})},Ru="_toggleWrap_1csyb_1",Nu="_toggleLabel_1csyb_6",Fu="_toggle_1csyb_1",Iu="_toggleActive_1csyb_21",ju="_togglePoint_1csyb_25",Ut={toggleWrap:Ru,toggleLabel:Nu,toggle:Fu,toggleActive:Iu,togglePoint:ju},Mu=({active:e,label:r,onClick:t})=>g.jsxs("div",{onClick:t,className:Ut.toggleWrap,children:[r&&g.jsx("span",{className:Ut.toggleLabel,children:r}),g.jsx("div",{className:Jt(Ut.toggle,e&&Ut.toggleActive),children:g.jsx("div",{className:Ut.togglePoint})})]}),Vu="_container_8x54j_1",Tu="_header_8x54j_5",ao={container:Vu,header:Tu},Ou=({index:e,register:r,questionIndex:t,remove:n,answerErrors:o,isCorrect:s,setCorrectOption:i})=>{const{t:a}=Oe();return console.log(o),g.jsxs(ht,{className:ao.container,children:[g.jsxs("div",{className:ao.header,children:[g.jsx(Et,{htmlFor:`answer-text-${e}`,children:a("create_page.options.title",{value:e+1})}),g.jsx(Mu,{active:s,onClick:()=>i(e),label:a("create_page.options.right")}),g.jsx(et,{style:"icon",size:"sm",onClick:n,children:g.jsx(wr,{})})]}),g.jsx(es,{id:`answer-text-${e}`,multiple:!0,placeholder:a("create_page.options.placeholder"),...r(`questions.${t}.options.${e}.text`,bt(a).option)}),o?.text?.message?g.jsx(We,{children:o?.text?.message}):g.jsx(vt,{children:a("validation.min_length",{value:1})})]})},Lu="_container_1e1c3_1",zu="_overlay_1e1c3_11",Pu="_header_1e1c3_16",Bu="_filterHeader_1e1c3_23",$u="_filterTitle_1e1c3_29",qu="_filterAction_1e1c3_35",Uu="_content_1e1c3_38",Hu="_actions_1e1c3_49",lt={container:Lu,overlay:zu,header:Pu,filterHeader:Bu,filterTitle:$u,filterAction:qu,content:Uu,actions:Hu},Wu=document.getElementById("modals"),Gu=({isOpen:e,onClose:r,title:t,headerActions:n,children:o,actions:s})=>mt.createPortal(g.jsxs(Vs,{isOpen:e,onClose:r,overlayClassName:lt.overlay,sheetClassName:lt.container,headerClassName:lt.header,header:(t||n)&&g.jsxs("div",{className:lt.filterHeader,children:[t&&g.jsx("span",{className:lt.filterTitle,children:t}),n&&g.jsx("div",{className:lt.filterAction,children:n})]}),children:[g.jsx(js,{absolute:!0}),g.jsx("div",{className:lt.content,children:o}),s&&g.jsx("div",{className:lt.actions,children:s})]}),Wu),Yu=({isOpen:e,onClose:r,addOption:t,options:n,questionIndex:o,setValue:s,watch:i,renderItem:a})=>{const{t:l}=Oe(),c=d=>{n.forEach((p,y)=>{s(`questions.${o}.options.${y}.isCorrect`,!1,{shouldDirty:!0})}),s(`questions.${o}.options.${d}.isCorrect`,!0,{shouldDirty:!0})},f=i(`questions.${o}.options`);return g.jsx(Gu,{isOpen:e,onClose:r,title:l("create_page.options.modal_title",{value:o+1}),headerActions:g.jsx(et,{size:"sm",style:"white",auto:!0,after:g.jsx($s,{}),onClick:t,children:l("create_page.options.add_variant")}),actions:g.jsx(et,{after:g.jsx(Xs,{}),disabled:!1,onClick:r,children:l("create_page.options.apply_options")}),children:n.map((d,p)=>a({option:d,index:p,isCorrect:f[p].isCorrect,setCorrectOption:c}))})},Qu=({watch:e,control:r,register:t,setValue:n,questionErrors:o,questionIndex:s})=>{const{t:i}=Oe(),[a,l]=h.useState(!1),{fields:c,append:f,remove:d,move:p}=wo({control:r,name:`questions.${s}.options`,rules:bt(i).options}),y=()=>{f({text:"",image:null,isCorrect:!c.length},{shouldFocus:!1})},E=()=>{c.length||y(),l(!0)};return g.jsxs(g.Fragment,{children:[!!c.length&&g.jsxs(g.Fragment,{children:[g.jsx(on,{}),g.jsx(Du,{watch:e,options:c,questionIndex:s,removeOption:d,moveOptions:p,errors:o?.options||[]})]}),g.jsx(Yu,{isOpen:a,addOption:y,questionIndex:s,onClose:()=>l(!1),options:c,setValue:n,watch:e,renderItem:({option:_,index:C,isCorrect:j,setCorrectOption:D})=>g.jsxs(h.Fragment,{children:[g.jsx(Ou,{index:C,questionIndex:s,isCorrect:j,register:t,setCorrectOption:D,remove:()=>d(C),answerErrors:o?.options?.[C]}),C!==c.length-1&&g.jsx(on,{className:"mt-3 mb-3"})]},_.id)}),g.jsx(ht,{children:g.jsx(et,{type:"button",style:"white",size:"sm",onClick:E,children:c.length?i("create_page.options.edit"):i("create_page.options.add")})}),o?.options?.root?.message&&g.jsx(We,{className:"text-center",children:o?.options?.root?.message})]})},Xu=({control:e,translate:r})=>{const{fields:t,append:n,remove:o}=wo({control:e,name:"questions",rules:bt(r).questions});return{addQuestion:()=>{n({text:"",image:null,options:[],type:"SINGLE_CHOICE",order:t?.length||0},{shouldFocus:!1})},removeQuestion:o,fields:t}},Ku=({error:e,control:r,renderItem:t,isLoading:n})=>{const{t:o}=Oe(),{fields:s,addQuestion:i,removeQuestion:a}=Xu({control:r,translate:o});return g.jsxs(Lo,{className:"mb-5",children:[g.jsx(zo,{children:o("create_page.questions.title")}),g.jsx(vt,{children:o("create_page.questions.description")}),s.map((l,c)=>t({field:l,index:c,remove:()=>a(c)})),g.jsx(et,{disabled:n,type:"button",onClick:i,after:g.jsx(Ps,{}),children:o("create_page.questions.add_question")}),e&&g.jsx(We,{className:"text-center",children:e})]})},Ju=()=>{const e=h.useRef(null),{watch:r,control:t,onSubmit:n,register:o,setValue:s,clearErrors:i,errors:a,isLoading:l,setError:c}=Ci(),f=!!Object.keys(a).length;return g.jsx("div",{className:"w-full max-w-md",children:g.jsxs("form",{ref:e,onSubmit:n,children:[g.jsx(Sl,{control:t,register:o,errors:a,setError:c,clearErrors:i,setValue:s}),g.jsx(Ku,{isLoading:l,control:t,error:a.questions?.root?.message,renderItem:({field:d,remove:p,index:y})=>{const E=a?.questions?.[y];return g.jsx(Dl,{index:y,renderHeader:g.jsx(Rl,{index:y,removeQuestion:p}),renderMain:g.jsx(Nl,{index:y,register:o,setValue:s,setError:c,clearErrors:i,questionErrors:E}),renderOptions:g.jsx(Qu,{questionIndex:y,register:o,setValue:s,watch:r,control:t,setError:c,clearErrors:i,questionErrors:E})},d.id)}}),g.jsx(za,{formRef:e,isDisabled:f,isLoading:l,onSubmit:n})]})})},Zu="_container_1g6ed_1",ed="_content_1g6ed_5",td="_description_1g6ed_15",Kr={container:Zu,content:ed,description:td};function id(){const{t:e}=Oe();return g.jsx(Ms,{withNavigation:!1,className:Kr.container,children:g.jsxs("div",{className:Kr.content,children:[g.jsx(Ts,{title:e("create_page.title")}),g.jsx("p",{className:Kr.description,children:e("create_page.description")}),g.jsx(Ju,{})]})})}export{id as default};
