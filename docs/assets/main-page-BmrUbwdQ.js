import{c as u,a as m,v as _,u as h,r as x,j as s,b as r,B as i,S as j,K as p,A as f,d as z,Q as q,e as S,f as y,C as g,P as v,g as N,h as w}from"./index-B9NhebN6.js";const L=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],d=u("chevron-right",L);const I=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D=u("circle-user-round",I),A=async e=>(await m.get(`/user/${e.id}`)).data;function k(){const{tgWebAppData:e}=_(),t={id:String(e?.user?.id||""),language:e?.user?.language_code||"ru",first_name:e?.user?.first_name||"",last_name:e?.user?.last_name||"",username:e?.user?.username||"",avatar:e?.user?.photo_url||""};return h({queryKey:["getUserData",t.id],queryFn:()=>A(t),refetchOnMount:!1})}const B="_avatar_gqlys_1",Q={avatar:B},U=({image:e})=>{const[t,c]=x.useState(!1);return s.jsxs("div",{className:Q.avatar,children:[(!t||!e)&&s.jsx(D,{}),e&&s.jsx("img",{src:e,alt:"avatar",style:{opacity:t?1:0},onLoad:()=>c(!0)})]})},C="_userWelcome_1c50f_1",b="_userInfo_1c50f_6",P="_welcome_1c50f_13",W="_welcomeDesc_1c50f_24",$="_userStatistic_1c50f_29",R="_userStatisticItem_1c50f_43",E="_userStatisticBtn_1c50f_51",a={userWelcome:C,userInfo:b,welcome:P,welcomeDesc:W,userStatistic:$,userStatisticItem:R,userStatisticBtn:E},K=()=>{const{t:e}=r(),{data:t}=k(),c=t?.first_name||t?.username;return s.jsxs("div",{className:a.userWelcome,children:[s.jsxs("div",{className:a.userInfo,children:[s.jsx(U,{image:t?.avatar}),s.jsxs("p",{className:a.welcome,children:[e("welcome.hello")," ",c&&s.jsxs("span",{children:[c,"!"]})]}),s.jsx("p",{className:a.welcomeDesc,children:e("welcome.description")})]}),s.jsxs("div",{className:a.userStatistic,children:[s.jsxs("p",{className:a.userStatisticItem,children:[e("welcome.completed"),s.jsx("span",{children:t?.quizzes_completed||0})]}),s.jsxs("p",{className:a.userStatisticItem,children:[e("welcome.created"),s.jsx("span",{children:t?.quizzes_created||0})]}),s.jsxs("div",{className:a.userStatisticBtn,children:[s.jsx("span",{children:e("welcome.to_profile")}),s.jsx("button",{type:"button",title:"в профиль",children:s.jsx(d,{})})]})]})]})},M="Приложение для прохождения и создания квизов!",F=()=>{const{t:e}=r(),t=()=>{p(f,M)};return s.jsx(i,{onClick:t,after:s.jsx(j,{}),children:e("common.share")})},H="_quizSection_367iu_1",O="_quizList_367iu_35",T="_quizAll_367iu_40",o={quizSection:H,quizList:O,quizAll:T},G=()=>{const{t:e}=r(),{data:t,isLoading:c}=z();return s.jsxs("div",{className:o.quizSection,children:[s.jsx("div",{className:o.quizList,children:s.jsx(q,{isLoading:c,data:t,renderItem:n=>s.jsx(S,{image:y+n.poster,title:n.title,link:`quiz/${n.id}`},n.id)})}),s.jsx("div",{className:o.quizAll,children:s.jsx(i,{to:"/quizzes",after:s.jsx(g,{}),children:e("common.all_quizzes")})})]})},J="_container_13cq9_1",V="_userData_13cq9_5",X="_actions_13cq9_9",l={container:J,userData:V,actions:X};function Z(){const{t:e}=r();return s.jsx(v,{back:!1,children:s.jsxs("div",{className:l.container,children:[s.jsx("div",{className:l.userData,children:s.jsx(K,{})}),s.jsxs("div",{className:l.actions,children:[s.jsx(i,{to:"/create",after:s.jsx(N,{}),children:e("common.create")}),s.jsx(F,{})]}),s.jsx(w,{title:e("main_page.popular"),actions:s.jsx(i,{style:"white",size:"sm",to:"/quizzes",after:s.jsx(d,{color:"#333"}),children:e("main_page.more")})}),s.jsx(G,{})]})})}export{Z as default};
