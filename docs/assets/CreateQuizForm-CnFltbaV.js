import{c as xt,M as w,j as l,b as ut,r as p,R as Go,B as Ae,f as Mr,g as js,n as Un,h as kr,u as Yo,A as As}from"./index-BFo7XKRf.js";import{S as cr}from"./SectionHeader-Cw95WE6v.js";import{r as Tt}from"./index-BlEZ3UUJ.js";import{u as Se}from"./useTranslation-BU92q4u0.js";import{T as Lt}from"./trash-2-CA_4oXUn.js";import{u as Rs}from"./useMutation-DGLKUpiW.js";import{P as Qo}from"./Popup-CMper-3M.js";import{u as Xo}from"./useClickOutside-BMt8b8Kn.js";import{T as Ko}from"./tab-bar-DElaXZp5.js";import{S as Jo}from"./square-pen-C8Cmk_7-.js";import{u as Zo}from"./popupStore-E4d8mu6c.js";import{T as ei}from"./Time-Bazugq8u.js";const ti=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ri=xt("badge-plus",ti);const ni=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],si=xt("chevron-down",ni);const oi=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],Is=xt("file-plus-corner",oi);const ii=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ai=xt("grip-vertical",ii);const li=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],ci=xt("image-off",li);const ui=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],di=xt("images",ui);const fi=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],mi=xt("redo-2",fi);const gi=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],pi=xt("undo-2",gi);var ur=e=>e.type==="checkbox",kt=e=>e instanceof Date,De=e=>e==null;const Ds=e=>typeof e=="object";var ce=e=>!De(e)&&!Array.isArray(e)&&Ds(e)&&!kt(e),Ns=e=>ce(e)&&e.target?ur(e.target)?e.target.checked:e.target.value:e,hi=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ts=(e,t)=>e.has(hi(t)),bi=e=>{const t=e.constructor&&e.constructor.prototype;return ce(t)&&t.hasOwnProperty("isPrototypeOf")},An=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ne(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(An&&(e instanceof Blob||n))&&(r||ce(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!bi(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=ne(e[s]));else return e;return t}var Or=e=>/^\w*$/.test(e),re=e=>e===void 0,Vr=e=>Array.isArray(e)?e.filter(Boolean):[],Rn=e=>Vr(e.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(e,t,r)=>{if(!t||!ce(e))return r;const n=(Or(t)?[t]:Rn(t)).reduce((s,o)=>De(s)?s:s[o],e);return re(n)||n===e?re(e[t])?r:e[t]:n},$e=e=>typeof e=="boolean",ee=(e,t,r)=>{let n=-1;const s=Or(t)?[t]:Rn(t),o=s.length,i=o-1;for(;++n<o;){const a=s[n];let c=r;if(n!==i){const u=e[a];c=ce(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const Er={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},We={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},In=w.createContext(null);In.displayName="HookFormContext";const xe=()=>w.useContext(In),vi=e=>{const{children:t,...r}=e;return w.createElement(In.Provider,{value:r},t)};var Fs=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==We.all&&(t._proxyFormState[i]=!n||We.all),r&&(r[i]=!0),e[i]}});return s};const Lr=typeof window<"u"?w.useLayoutEffect:w.useEffect;function yi(e){const t=xe(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,a]=w.useState(r._formState),c=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Lr(()=>r._subscribe({name:s,formState:c.current,exact:o,callback:u=>{!n&&a({...r._formState,...u})}}),[s,n,o]),w.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),w.useMemo(()=>Fs(i,r,c.current,!1),[i,r])}var qe=e=>typeof e=="string",pn=(e,t,r,n,s)=>qe(e)?(n&&t.watch.add(e),D(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),D(r,o))):(n&&(t.watchAll=!0),r),hn=e=>De(e)||!Ds(e);function Xe(e,t,r=new WeakSet){if(hn(e)||hn(t))return Object.is(e,t);if(kt(e)&&kt(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const i=e[o];if(!s.includes(o))return!1;if(o!=="ref"){const a=t[o];if(kt(i)&&kt(a)||ce(i)&&ce(a)||Array.isArray(i)&&Array.isArray(a)?!Xe(i,a,r):!Object.is(i,a))return!1}}return!0}function ie(e){const t=xe(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i,compute:a}=e||{},c=w.useRef(s),u=w.useRef(a),d=w.useRef(void 0),m=w.useRef(r),g=w.useRef(n);u.current=a;const[y,S]=w.useState(()=>{const x=r._getWatch(n,c.current);return u.current?u.current(x):x}),v=w.useCallback(x=>{const C=pn(n,r._names,x||r._formValues,!1,c.current);return u.current?u.current(C):C},[r._formValues,r._names,n]),_=w.useCallback(x=>{if(!o){const C=pn(n,r._names,x||r._formValues,!1,c.current);if(u.current){const A=u.current(C);Xe(A,d.current)||(S(A),d.current=A)}else S(C)}},[r._formValues,r._names,o,n]);Lr(()=>((m.current!==r||!Xe(g.current,n))&&(m.current=r,g.current=n,_()),r._subscribe({name:n,formState:{values:!0},exact:i,callback:x=>{_(x.values)}})),[r,i,n,_]),w.useEffect(()=>r._removeUnmounted());const T=m.current!==r,k=g.current,R=w.useMemo(()=>{if(o)return null;const x=!T&&!Xe(k,n);return T||x?v():null},[o,T,n,k,v]);return R!==null?R:y}function xi(e){const t=xe(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o,defaultValue:i,exact:a=!0}=e,c=Ts(s._names.array,r),u=w.useMemo(()=>D(s._formValues,r,D(s._defaultValues,r,i)),[s,r,i]),d=ie({control:s,name:r,defaultValue:u,exact:a}),m=yi({control:s,name:r,exact:a}),g=w.useRef(e),y=w.useRef(void 0),S=w.useRef(s.register(r,{...e.rules,value:d,...$e(e.disabled)?{disabled:e.disabled}:{}}));g.current=e;const v=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!D(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!D(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!D(m.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!D(m.validatingFields,r)},error:{enumerable:!0,get:()=>D(m.errors,r)}}),[m,r]),_=w.useCallback(x=>S.current.onChange({target:{value:Ns(x),name:r},type:Er.CHANGE}),[r]),T=w.useCallback(()=>S.current.onBlur({target:{value:D(s._formValues,r),name:r},type:Er.BLUR}),[r,s._formValues]),k=w.useCallback(x=>{const C=D(s._fields,r);C&&x&&(C._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:A=>x.setCustomValidity(A),reportValidity:()=>x.reportValidity()})},[s._fields,r]),R=w.useMemo(()=>({name:r,value:d,...$e(n)||m.disabled?{disabled:m.disabled||n}:{},onChange:_,onBlur:T,ref:k}),[r,n,m.disabled,_,T,k,d]);return w.useEffect(()=>{const x=s._options.shouldUnregister||o,C=y.current;C&&C!==r&&!c&&s.unregister(C),s.register(r,{...g.current.rules,...$e(g.current.disabled)?{disabled:g.current.disabled}:{}});const A=(N,E)=>{const P=D(s._fields,N);P&&P._f&&(P._f.mount=E)};if(A(r,!0),x){const N=ne(D(s._options.defaultValues,r,g.current.defaultValue));ee(s._defaultValues,r,N),re(D(s._formValues,r))&&ee(s._formValues,r,N)}return!c&&s.register(r),y.current=r,()=>{(c?x&&!s._state.action:x)?s.unregister(r):A(r,!1)}},[r,s,c,o]),w.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),w.useMemo(()=>({field:R,formState:m,fieldState:v}),[R,m,v])}const Ge=e=>e.render(xi(e));var wi=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ne=e=>Array.isArray(e)?e:[e],Hn=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}};function Ms(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],o=t[n];if(s&&ce(s)&&o){const i=Ms(s,o);ce(i)&&(r[n]=i)}else e[n]&&(r[n]=o)}return r}var je=e=>ce(e)&&!Object.keys(e).length,Dn=e=>e.type==="file",Ke=e=>typeof e=="function",jr=e=>{if(!An)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Os=e=>e.type==="select-multiple",Nn=e=>e.type==="radio",_i=e=>Nn(e)||ur(e),Qr=e=>jr(e)&&e.isConnected;function Ci(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=re(e)?n++:e[t[n++]];return e}function ki(e){for(const t in e)if(e.hasOwnProperty(t)&&!re(e[t]))return!1;return!0}function oe(e,t){const r=Array.isArray(t)?t:Or(t)?[t]:Rn(t),n=r.length===1?e:Ci(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(ce(n)&&je(n)||Array.isArray(n)&&ki(n))&&oe(e,r.slice(0,-1)),e}var Si=e=>{for(const t in e)if(Ke(e[t]))return!0;return!1};function Vs(e){return Array.isArray(e)||ce(e)&&!Si(e)}function bn(e,t={}){for(const r in e){const n=e[r];Vs(n)?(t[r]=Array.isArray(n)?[]:{},bn(n,t[r])):re(n)||(t[r]=!0)}return t}function Nt(e,t,r){r||(r=bn(t));for(const n in e){const s=e[n];if(Vs(s))re(t)||hn(r[n])?r[n]=bn(s,Array.isArray(s)?[]:{}):Nt(s,De(t)?{}:t[n],r[n]);else{const o=t[n];r[n]=!Xe(s,o)}}return r}const Wn={value:!1,isValid:!1},Gn={value:!0,isValid:!0};var Ls=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!re(e[0].attributes.value)?re(e[0].value)||e[0].value===""?Gn:{value:e[0].value,isValid:!0}:Gn:Wn}return Wn},Ps=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>re(e)?e:t?e===""?NaN:e&&+e:r&&qe(e)?new Date(e):n?n(e):e;const Yn={isValid:!1,value:null};var zs=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Yn):Yn;function Qn(e){const t=e.ref;return Dn(t)?t.files:Nn(t)?zs(e.refs).value:Os(t)?[...t.selectedOptions].map(({value:r})=>r):ur(t)?Ls(e.refs).value:Ps(re(t.value)?e.ref.value:t.value,e)}var Ei=(e,t,r,n)=>{const s={};for(const o of e){const i=D(t,o);i&&ee(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Ar=e=>e instanceof RegExp,Jt=e=>re(e)?e:Ar(e)?e.source:ce(e)?Ar(e.value)?e.value.source:e.value:e,Ft=e=>({isOnSubmit:!e||e===We.onSubmit,isOnBlur:e===We.onBlur,isOnChange:e===We.onChange,isOnAll:e===We.all,isOnTouch:e===We.onTouched});const Xn="AsyncFunction";var ji=e=>!!e&&!!e.validate&&!!(Ke(e.validate)&&e.validate.constructor.name===Xn||ce(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Xn)),Ai=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vn=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ot=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=D(e,s);if(o){const{_f:i,...a}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Ot(a,t))break}else if(ce(a)&&Ot(a,t))break}}};function Kn(e,t,r){const n=D(e,r);if(n||Or(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=D(t,o),a=D(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};if(a&&a.root&&a.root.type)return{name:`${o}.root`,error:a.root};s.pop()}return{name:r}}var Ri=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return je(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||We.all))},Ii=(e,t,r)=>!e||!t||e===t||Ne(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Di=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Ni=(e,t)=>!Vr(D(e,t)).length&&oe(e,t),$s=(e,t,r)=>{const n=Ne(D(e,r));return ee(n,"root",t[r]),ee(e,r,n),e};function Jn(e,t,r="validate"){if(qe(e)||Array.isArray(e)&&e.every(qe)||$e(e)&&!e)return{type:r,message:qe(e)?e:"",ref:t}}var It=e=>ce(e)&&!Ar(e)?e:{value:e,message:""},yn=async(e,t,r,n,s,o)=>{const{ref:i,refs:a,required:c,maxLength:u,minLength:d,min:m,max:g,pattern:y,validate:S,name:v,valueAsNumber:_,mount:T}=e._f,k=D(r,v);if(!T||t.has(v))return{};const R=a?a[0]:i,x=z=>{s&&R.reportValidity&&(R.setCustomValidity($e(z)?"":z||""),R.reportValidity())},C={},A=Nn(i),N=ur(i),E=A||N,P=(_||Dn(i))&&re(i.value)&&re(k)||jr(i)&&i.value===""||k===""||Array.isArray(k)&&!k.length,X=wi.bind(null,v,n,C),B=(z,$,H,J=lt.maxLength,K=lt.minLength)=>{const Q=z?$:H;C[v]={type:z?J:K,message:Q,ref:i,...X(z?J:K,Q)}};if(o?!Array.isArray(k)||!k.length:c&&(!E&&(P||De(k))||$e(k)&&!k||N&&!Ls(a).isValid||A&&!zs(a).isValid)){const{value:z,message:$}=qe(c)?{value:!!c,message:c}:It(c);if(z&&(C[v]={type:lt.required,message:$,ref:R,...X(lt.required,$)},!n))return x($),C}if(!P&&(!De(m)||!De(g))){let z,$;const H=It(g),J=It(m);if(!De(k)&&!isNaN(k)){const K=i.valueAsNumber||k&&+k;De(H.value)||(z=K>H.value),De(J.value)||($=K<J.value)}else{const K=i.valueAsDate||new Date(k),Q=Me=>new Date(new Date().toDateString()+" "+Me),V=i.type=="time",fe=i.type=="week";qe(H.value)&&k&&(z=V?Q(k)>Q(H.value):fe?k>H.value:K>new Date(H.value)),qe(J.value)&&k&&($=V?Q(k)<Q(J.value):fe?k<J.value:K<new Date(J.value))}if((z||$)&&(B(!!z,H.message,J.message,lt.max,lt.min),!n))return x(C[v].message),C}if((u||d)&&!P&&(qe(k)||o&&Array.isArray(k))){const z=It(u),$=It(d),H=!De(z.value)&&k.length>+z.value,J=!De($.value)&&k.length<+$.value;if((H||J)&&(B(H,z.message,$.message),!n))return x(C[v].message),C}if(y&&!P&&qe(k)){const{value:z,message:$}=It(y);if(Ar(z)&&!k.match(z)&&(C[v]={type:lt.pattern,message:$,ref:i,...X(lt.pattern,$)},!n))return x($),C}if(S){if(Ke(S)){const z=await S(k,r),$=Jn(z,R);if($&&(C[v]={...$,...X(lt.validate,$.message)},!n))return x($.message),C}else if(ce(S)){let z={};for(const $ in S){if(!je(z)&&!n)break;const H=Jn(await S[$](k,r),R,$);H&&(z={...H,...X($,H.message)},x(H.message),n&&(C[v]=z))}if(!je(z)&&(C[v]={ref:R,...z},!n))return C}}return x(!0),C};const Ti={mode:We.onSubmit,reValidateMode:We.onChange,shouldFocusError:!0};function Fi(e={}){let t={...Ti,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ke(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=ce(t.defaultValues)||ce(t.values)?ne(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:ne(s),i={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...d};const g={array:Hn(),state:Hn()},y=t.criteriaMode===We.all,S=f=>h=>{clearTimeout(u),u=setTimeout(f,h)},v=async f=>{if(!t.disabled&&(d.isValid||m.isValid||f)){const h=t.resolver?je((await N()).errors):await P(n,!0);h!==r.isValid&&g.state.next({isValid:h})}},_=(f,h)=>{!t.disabled&&(d.isValidating||d.validatingFields||m.isValidating||m.validatingFields)&&((f||Array.from(a.mount)).forEach(b=>{b&&(h?ee(r.validatingFields,b,h):oe(r.validatingFields,b))}),g.state.next({validatingFields:r.validatingFields,isValidating:!je(r.validatingFields)}))},T=(f,h=[],b,F,I=!0,j=!0)=>{if(F&&b&&!t.disabled){if(i.action=!0,j&&Array.isArray(D(n,f))){const L=b(D(n,f),F.argA,F.argB);I&&ee(n,f,L)}if(j&&Array.isArray(D(r.errors,f))){const L=b(D(r.errors,f),F.argA,F.argB);I&&ee(r.errors,f,L),Ni(r.errors,f)}if((d.touchedFields||m.touchedFields)&&j&&Array.isArray(D(r.touchedFields,f))){const L=b(D(r.touchedFields,f),F.argA,F.argB);I&&ee(r.touchedFields,f,L)}(d.dirtyFields||m.dirtyFields)&&(r.dirtyFields=Nt(s,o)),g.state.next({name:f,isDirty:B(f,h),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ee(o,f,h)},k=(f,h)=>{ee(r.errors,f,h),g.state.next({errors:r.errors})},R=f=>{r.errors=f,g.state.next({errors:r.errors,isValid:!1})},x=(f,h,b,F)=>{const I=D(n,f);if(I){const j=D(o,f,re(b)?D(s,f):b);re(j)||F&&F.defaultChecked||h?ee(o,f,h?j:Qn(I._f)):H(f,j),i.mount&&!i.action&&v()}},C=(f,h,b,F,I)=>{let j=!1,L=!1;const W={name:f};if(!t.disabled){if(!b||F){(d.isDirty||m.isDirty)&&(L=r.isDirty,r.isDirty=W.isDirty=B(),j=L!==W.isDirty);const Y=Xe(D(s,f),h);L=!!D(r.dirtyFields,f),Y?oe(r.dirtyFields,f):ee(r.dirtyFields,f,!0),W.dirtyFields=r.dirtyFields,j=j||(d.dirtyFields||m.dirtyFields)&&L!==!Y}if(b){const Y=D(r.touchedFields,f);Y||(ee(r.touchedFields,f,b),W.touchedFields=r.touchedFields,j=j||(d.touchedFields||m.touchedFields)&&Y!==b)}j&&I&&g.state.next(W)}return j?W:{}},A=(f,h,b,F)=>{const I=D(r.errors,f),j=(d.isValid||m.isValid)&&$e(h)&&r.isValid!==h;if(t.delayError&&b?(c=S(()=>k(f,b)),c(t.delayError)):(clearTimeout(u),c=null,b?ee(r.errors,f,b):oe(r.errors,f)),(b?!Xe(I,b):I)||!je(F)||j){const L={...F,...j&&$e(h)?{isValid:h}:{},errors:r.errors,name:f};r={...r,...L},g.state.next(L)}},N=async f=>{_(f,!0);const h=await t.resolver(o,t.context,Ei(f||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(f),h},E=async f=>{const{errors:h}=await N(f);if(f)for(const b of f){const F=D(h,b);F?ee(r.errors,b,F):oe(r.errors,b)}else r.errors=h;return h},P=async(f,h,b={valid:!0})=>{for(const F in f){const I=f[F];if(I){const{_f:j,...L}=I;if(j){const W=a.array.has(j.name),Y=I._f&&ji(I._f);Y&&d.validatingFields&&_([j.name],!0);const ve=await yn(I,a.disabled,o,y,t.shouldUseNativeValidation&&!h,W);if(Y&&d.validatingFields&&_([j.name]),ve[j.name]&&(b.valid=!1,h))break;!h&&(D(ve,j.name)?W?$s(r.errors,ve,j.name):ee(r.errors,j.name,ve[j.name]):oe(r.errors,j.name))}!je(L)&&await P(L,h,b)}}return b.valid},X=()=>{for(const f of a.unMount){const h=D(n,f);h&&(h._f.refs?h._f.refs.every(b=>!Qr(b)):!Qr(h._f.ref))&&te(f)}a.unMount=new Set},B=(f,h)=>!t.disabled&&(f&&h&&ee(o,f,h),!Xe(Me(),s)),z=(f,h,b)=>pn(f,a,{...i.mount?o:re(h)?s:qe(f)?{[f]:h}:h},b,h),$=f=>Vr(D(i.mount?o:s,f,t.shouldUnregister?D(s,f,[]):[])),H=(f,h,b={})=>{const F=D(n,f);let I=h;if(F){const j=F._f;j&&(!j.disabled&&ee(o,f,Ps(h,j)),I=jr(j.ref)&&De(h)?"":h,Os(j.ref)?[...j.ref.options].forEach(L=>L.selected=I.includes(L.value)):j.refs?ur(j.ref)?j.refs.forEach(L=>{(!L.defaultChecked||!L.disabled)&&(Array.isArray(I)?L.checked=!!I.find(W=>W===L.value):L.checked=I===L.value||!!I)}):j.refs.forEach(L=>L.checked=L.value===I):Dn(j.ref)?j.ref.value="":(j.ref.value=I,j.ref.type||g.state.next({name:f,values:ne(o)})))}(b.shouldDirty||b.shouldTouch)&&C(f,I,b.shouldTouch,b.shouldDirty,!0),b.shouldValidate&&fe(f)},J=(f,h,b)=>{for(const F in h){if(!h.hasOwnProperty(F))return;const I=h[F],j=f+"."+F,L=D(n,j);(a.array.has(f)||ce(I)||L&&!L._f)&&!kt(I)?J(j,I,b):H(j,I,b)}},K=(f,h,b={})=>{const F=D(n,f),I=a.array.has(f),j=ne(h);ee(o,f,j),I?(g.array.next({name:f,values:ne(o)}),(d.isDirty||d.dirtyFields||m.isDirty||m.dirtyFields)&&b.shouldDirty&&g.state.next({name:f,dirtyFields:Nt(s,o),isDirty:B(f,j)})):F&&!F._f&&!De(j)?J(f,j,b):H(f,j,b),vn(f,a)&&g.state.next({...r,name:f}),g.state.next({name:i.mount?f:void 0,values:ne(o)})},Q=async f=>{i.mount=!0;const h=f.target;let b=h.name,F=!0;const I=D(n,b),j=Y=>{F=Number.isNaN(Y)||kt(Y)&&isNaN(Y.getTime())||Xe(Y,D(o,b,Y))},L=Ft(t.mode),W=Ft(t.reValidateMode);if(I){let Y,ve;const wt=h.type?Qn(I._f):Ns(f),_e=f.type===Er.BLUR||f.type===Er.FOCUS_OUT,br=!Ai(I._f)&&!t.resolver&&!D(r.errors,b)&&!I._f.deps||Di(_e,D(r.touchedFields,b),r.isSubmitted,W,L),Ut=vn(b,a,_e);ee(o,b,wt),_e?(!h||!h.readOnly)&&(I._f.onBlur&&I._f.onBlur(f),c&&c(0)):I._f.onChange&&I._f.onChange(f);const Ht=C(b,wt,_e),Wt=!je(Ht)||Ut;if(!_e&&g.state.next({name:b,type:f.type,values:ne(o)}),br)return(d.isValid||m.isValid)&&(t.mode==="onBlur"?_e&&v():_e||v()),Wt&&g.state.next({name:b,...Ut?{}:Ht});if(!_e&&Ut&&g.state.next({...r}),t.resolver){const{errors:Gt}=await N([b]);if(j(wt),F){const Gr=Kn(r.errors,n,b),Yt=Kn(Gt,n,Gr.name||b);Y=Yt.error,b=Yt.name,ve=je(Gt)}}else _([b],!0),Y=(await yn(I,a.disabled,o,y,t.shouldUseNativeValidation))[b],_([b]),j(wt),F&&(Y?ve=!1:(d.isValid||m.isValid)&&(ve=await P(n,!0)));F&&(I._f.deps&&(!Array.isArray(I._f.deps)||I._f.deps.length>0)&&fe(I._f.deps),A(b,ve,Y,Ht))}},V=(f,h)=>{if(D(r.errors,h)&&f.focus)return f.focus(),1},fe=async(f,h={})=>{let b,F;const I=Ne(f);if(t.resolver){const j=await E(re(f)?f:I);b=je(j),F=f?!I.some(L=>D(j,L)):b}else f?(F=(await Promise.all(I.map(async j=>{const L=D(n,j);return await P(L&&L._f?{[j]:L}:L)}))).every(Boolean),!(!F&&!r.isValid)&&v()):F=b=await P(n);return g.state.next({...!qe(f)||(d.isValid||m.isValid)&&b!==r.isValid?{}:{name:f},...t.resolver||!f?{isValid:b}:{},errors:r.errors}),h.shouldFocus&&!F&&Ot(n,V,f?I:a.mount),F},Me=(f,h)=>{let b={...i.mount?o:s};return h&&(b=Ms(h.dirtyFields?r.dirtyFields:r.touchedFields,b)),re(f)?b:qe(f)?D(b,f):f.map(F=>D(b,F))},et=(f,h)=>({invalid:!!D((h||r).errors,f),isDirty:!!D((h||r).dirtyFields,f),error:D((h||r).errors,f),isValidating:!!D(r.validatingFields,f),isTouched:!!D((h||r).touchedFields,f)}),le=f=>{f&&Ne(f).forEach(h=>oe(r.errors,h)),g.state.next({errors:f?r.errors:{}})},Z=(f,h,b)=>{const F=(D(n,f,{_f:{}})._f||{}).ref,I=D(r.errors,f)||{},{ref:j,message:L,type:W,...Y}=I;ee(r.errors,f,{...Y,...h,ref:F}),g.state.next({name:f,errors:r.errors,isValid:!1}),b&&b.shouldFocus&&F&&F.focus&&F.focus()},se=(f,h)=>Ke(f)?g.state.subscribe({next:b=>"values"in b&&f(z(void 0,h),b)}):z(f,h,!0),Oe=f=>g.state.subscribe({next:h=>{Ii(f.name,h.name,f.exact)&&Ri(h,f.formState||d,hr,f.reRenderRoot)&&f.callback({values:{...o},...r,...h,defaultValues:s})}}).unsubscribe,we=f=>(i.mount=!0,m={...m,...f.formState},Oe({...f,formState:m})),te=(f,h={})=>{for(const b of f?Ne(f):a.mount)a.mount.delete(b),a.array.delete(b),h.keepValue||(oe(n,b),oe(o,b)),!h.keepError&&oe(r.errors,b),!h.keepDirty&&oe(r.dirtyFields,b),!h.keepTouched&&oe(r.touchedFields,b),!h.keepIsValidating&&oe(r.validatingFields,b),!t.shouldUnregister&&!h.keepDefaultValue&&oe(s,b);g.state.next({values:ne(o)}),g.state.next({...r,...h.keepDirty?{isDirty:B()}:{}}),!h.keepIsValid&&v()},Re=({disabled:f,name:h})=>{($e(f)&&i.mount||f||a.disabled.has(h))&&(f?a.disabled.add(h):a.disabled.delete(h))},he=(f,h={})=>{let b=D(n,f);const F=$e(h.disabled)||$e(t.disabled);return ee(n,f,{...b||{},_f:{...b&&b._f?b._f:{ref:{name:f}},name:f,mount:!0,...h}}),a.mount.add(f),b?Re({disabled:$e(h.disabled)?h.disabled:t.disabled,name:f}):x(f,!0,h.value),{...F?{disabled:h.disabled||t.disabled}:{},...t.progressive?{required:!!h.required,min:Jt(h.min),max:Jt(h.max),minLength:Jt(h.minLength),maxLength:Jt(h.maxLength),pattern:Jt(h.pattern)}:{},name:f,onChange:Q,onBlur:Q,ref:I=>{if(I){he(f,h),b=D(n,f);const j=re(I.value)&&I.querySelectorAll&&I.querySelectorAll("input,select,textarea")[0]||I,L=_i(j),W=b._f.refs||[];if(L?W.find(Y=>Y===j):j===b._f.ref)return;ee(n,f,{_f:{...b._f,...L?{refs:[...W.filter(Qr),j,...Array.isArray(D(s,f))?[{}]:[]],ref:{type:j.type,name:f}}:{ref:j}}}),x(f,!1,void 0,j)}else b=D(n,f,{}),b._f&&(b._f.mount=!1),(t.shouldUnregister||h.shouldUnregister)&&!(Ts(a.array,f)&&i.action)&&a.unMount.add(f)}}},U=()=>t.shouldFocusError&&Ot(n,V,a.mount),Qe=f=>{$e(f)&&(g.state.next({disabled:f}),Ot(n,(h,b)=>{const F=D(n,b);F&&(h.disabled=F._f.disabled||f,Array.isArray(F._f.refs)&&F._f.refs.forEach(I=>{I.disabled=F._f.disabled||f}))},0,!1))},be=(f,h)=>async b=>{let F;b&&(b.preventDefault&&b.preventDefault(),b.persist&&b.persist());let I=ne(o);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:j,values:L}=await N();r.errors=j,I=ne(L)}else await P(n);if(a.disabled.size)for(const j of a.disabled)oe(I,j);if(oe(r.errors,"root"),je(r.errors)){g.state.next({errors:{}});try{await f(I,b)}catch(j){F=j}}else h&&await h({...r.errors},b),U(),setTimeout(U);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:je(r.errors)&&!F,submitCount:r.submitCount+1,errors:r.errors}),F)throw F},dt=(f,h={})=>{D(n,f)&&(re(h.defaultValue)?K(f,ne(D(s,f))):(K(f,h.defaultValue),ee(s,f,ne(h.defaultValue))),h.keepTouched||oe(r.touchedFields,f),h.keepDirty||(oe(r.dirtyFields,f),r.isDirty=h.defaultValue?B(f,ne(D(s,f))):B()),h.keepError||(oe(r.errors,f),d.isValid&&v()),g.state.next({...r}))},Be=(f,h={})=>{const b=f?ne(f):s,F=ne(b),I=je(f),j=I?s:F;if(h.keepDefaultValues||(s=b),!h.keepValues){if(h.keepDirtyValues){const L=new Set([...a.mount,...Object.keys(Nt(s,o))]);for(const W of Array.from(L))D(r.dirtyFields,W)?ee(j,W,D(o,W)):K(W,D(j,W))}else{if(An&&re(f))for(const L of a.mount){const W=D(n,L);if(W&&W._f){const Y=Array.isArray(W._f.refs)?W._f.refs[0]:W._f.ref;if(jr(Y)){const ve=Y.closest("form");if(ve){ve.reset();break}}}}if(h.keepFieldsRef)for(const L of a.mount)K(L,D(j,L));else n={}}o=t.shouldUnregister?h.keepDefaultValues?ne(s):{}:ne(j),g.array.next({values:{...j}}),g.state.next({values:{...j}})}a={mount:h.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!h.keepIsValid||!!h.keepDirtyValues||!t.shouldUnregister&&!je(j),i.watch=!!t.shouldUnregister,i.action=!1,h.keepErrors||(r.errors={}),g.state.next({submitCount:h.keepSubmitCount?r.submitCount:0,isDirty:I?!1:h.keepDirty?r.isDirty:!!(h.keepDefaultValues&&!Xe(f,s)),isSubmitted:h.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I?{}:h.keepDirtyValues?h.keepDefaultValues&&o?Nt(s,o):r.dirtyFields:h.keepDefaultValues&&f?Nt(s,f):h.keepDirty?r.dirtyFields:{},touchedFields:h.keepTouched?r.touchedFields:{},errors:h.keepErrors?r.errors:{},isSubmitSuccessful:h.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},it=(f,h)=>Be(Ke(f)?f(o):f,h),ft=(f,h={})=>{const b=D(n,f),F=b&&b._f;if(F){const I=F.refs?F.refs[0]:F.ref;I.focus&&(I.focus(),h.shouldSelect&&Ke(I.select)&&I.select())}},hr=f=>{r={...r,...f}},At={control:{register:he,unregister:te,getFieldState:et,handleSubmit:be,setError:Z,_subscribe:Oe,_runSchema:N,_focusError:U,_getWatch:z,_getDirty:B,_setValid:v,_setFieldArray:T,_setDisabledField:Re,_setErrors:R,_getFieldArray:$,_reset:Be,_resetDefaultValues:()=>Ke(t.defaultValues)&&t.defaultValues().then(f=>{it(f,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:Qe,_subjects:g,_proxyFormState:d,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(f){i=f},get _defaultValues(){return s},get _names(){return a},set _names(f){a=f},get _formState(){return r},get _options(){return t},set _options(f){t={...t,...f}}},subscribe:we,trigger:fe,register:he,handleSubmit:be,watch:se,setValue:K,getValues:Me,reset:it,resetField:dt,clearErrors:le,unregister:te,setError:Z,setFocus:ft,getFieldState:et};return{...At,formControl:At}}var ht=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Xr=(e,t,r={})=>r.shouldFocus||re(r.shouldFocus)?r.focusName||`${e}.${re(r.focusIndex)?t:r.focusIndex}.`:"",Kr=(e,t)=>[...e,...Ne(t)],Jr=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Zr(e,t,r){return[...e.slice(0,t),...Ne(r),...e.slice(t)]}var en=(e,t,r)=>Array.isArray(e)?(re(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],tn=(e,t)=>[...Ne(t),...Ne(e)];function Mi(e,t){let r=0;const n=[...e];for(const s of t)n.splice(s-r,1),r++;return Vr(n).length?n:[]}var rn=(e,t)=>re(t)?[]:Mi(e,Ne(t).sort((r,n)=>r-n)),nn=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Zn=(e,t,r)=>(e[t]=r,e);function dr(e){const t=xe(),{control:r=t.control,name:n,keyName:s="id",shouldUnregister:o,rules:i}=e,[a,c]=w.useState(r._getFieldArray(n)),u=w.useRef(r._getFieldArray(n).map(ht)),d=w.useRef(!1);r._names.array.add(n),w.useMemo(()=>i&&a.length>=0&&r.register(n,i),[r,n,a.length,i]),Lr(()=>r._subjects.array.subscribe({next:({values:x,name:C})=>{if(C===n||!C){const A=D(x,n);Array.isArray(A)&&(c(A),u.current=A.map(ht))}}}).unsubscribe,[r,n]);const m=w.useCallback(x=>{d.current=!0,r._setFieldArray(n,x)},[r,n]),g=(x,C)=>{const A=Ne(ne(x)),N=Kr(r._getFieldArray(n),A);r._names.focus=Xr(n,N.length-1,C),u.current=Kr(u.current,A.map(ht)),m(N),c(N),r._setFieldArray(n,N,Kr,{argA:Jr(x)})},y=(x,C)=>{const A=Ne(ne(x)),N=tn(r._getFieldArray(n),A);r._names.focus=Xr(n,0,C),u.current=tn(u.current,A.map(ht)),m(N),c(N),r._setFieldArray(n,N,tn,{argA:Jr(x)})},S=x=>{const C=rn(r._getFieldArray(n),x);u.current=rn(u.current,x),m(C),c(C),!Array.isArray(D(r._fields,n))&&ee(r._fields,n,void 0),r._setFieldArray(n,C,rn,{argA:x})},v=(x,C,A)=>{const N=Ne(ne(C)),E=Zr(r._getFieldArray(n),x,N);r._names.focus=Xr(n,x,A),u.current=Zr(u.current,x,N.map(ht)),m(E),c(E),r._setFieldArray(n,E,Zr,{argA:x,argB:Jr(C)})},_=(x,C)=>{const A=r._getFieldArray(n);nn(A,x,C),nn(u.current,x,C),m(A),c(A),r._setFieldArray(n,A,nn,{argA:x,argB:C},!1)},T=(x,C)=>{const A=r._getFieldArray(n);en(A,x,C),en(u.current,x,C),m(A),c(A),r._setFieldArray(n,A,en,{argA:x,argB:C},!1)},k=(x,C)=>{const A=ne(C),N=Zn(r._getFieldArray(n),x,A);u.current=[...N].map((E,P)=>!E||P===x?ht():u.current[P]),m(N),c([...N]),r._setFieldArray(n,N,Zn,{argA:x,argB:A},!0,!1)},R=x=>{const C=Ne(ne(x));u.current=C.map(ht),m([...C]),c([...C]),r._setFieldArray(n,[...C],A=>A,{},!0,!1)};return w.useEffect(()=>{if(r._state.action=!1,vn(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!Ft(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Ft(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(x=>{const C=D(x.errors,n),A=D(r._formState.errors,n);(A?!C&&A.type||C&&(A.type!==C.type||A.message!==C.message):C&&C.type)&&(C?ee(r._formState.errors,n,C):oe(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const x=D(r._fields,n);x&&x._f&&!(Ft(r._options.reValidateMode).isOnSubmit&&Ft(r._options.mode).isOnSubmit)&&yn(x,r._names.disabled,r._formValues,r._options.criteriaMode===We.all,r._options.shouldUseNativeValidation,!0).then(C=>!je(C)&&r._subjects.state.next({errors:$s(r._formState.errors,C,n)}))}r._subjects.state.next({name:n,values:ne(r._formValues)}),r._names.focus&&Ot(r._fields,(x,C)=>{if(r._names.focus&&C.startsWith(r._names.focus)&&x.focus)return x.focus(),1}),r._names.focus="",r._setValid(),d.current=!1},[a,n,r]),w.useEffect(()=>(!D(r._formValues,n)&&r._setFieldArray(n),()=>{const x=(C,A)=>{const N=D(r._fields,C);N&&N._f&&(N._f.mount=A)};r._options.shouldUnregister||o?r.unregister(n):x(n,!1)}),[n,r,s,o]),{swap:w.useCallback(_,[m,n,r]),move:w.useCallback(T,[m,n,r]),prepend:w.useCallback(y,[m,n,r]),append:w.useCallback(g,[m,n,r]),remove:w.useCallback(S,[m,n,r]),insert:w.useCallback(v,[m,n,r]),update:w.useCallback(k,[m,n,r]),replace:w.useCallback(R,[m,n,r]),fields:w.useMemo(()=>a.map((x,C)=>({...x,[s]:u.current[C]||ht()})),[a,s])}}function Oi(e={}){const t=w.useRef(void 0),r=w.useRef(void 0),[n,s]=w.useState({isDirty:!1,isValidating:!1,isLoading:Ke(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ke(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Ke(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...a}=Fi(e);t.current={...a,formState:n}}const o=t.current.control;return o._options=e,Lr(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),o._formState.isReady=!0,i},[o]),w.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),w.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),w.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),w.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),w.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),w.useEffect(()=>{var i;e.values&&!Xe(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((i=o._options.resetOptions)===null||i===void 0)&&i.keepIsValid||o._setValid(),r.current=e.values,s(a=>({...a}))):o._resetDefaultValues()},[o,e.values]),w.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=Fs(n,o),t.current}const Vi="_toggleWrap_1yq2y_1",Li="_toggleWrapFull_1yq2y_7",Pi="_disabled_1yq2y_12",zi="_toggleLabel_1yq2y_16",$i="_toggle_1yq2y_1",qi="_toggleActive_1yq2y_31",Bi="_togglePoint_1yq2y_35",_t={toggleWrap:Vi,toggleWrapFull:Li,disabled:Pi,toggleLabel:zi,toggle:$i,toggleActive:qi,togglePoint:Bi},St=({full:e,active:t,disabled:r,label:n,onClick:s})=>l.jsxs("div",{onClick:s,className:ut(_t.toggleWrap,e&&_t.toggleWrapFull,r&&_t.disabled),children:[n&&l.jsx("span",{className:_t.toggleLabel,children:n}),l.jsx("div",{className:ut(_t.toggle,t&&_t.toggleActive),children:l.jsx("div",{className:_t.togglePoint})})]}),es=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ts=ut,Ui=(e,t)=>r=>{var n;if(t?.variants==null)return ts(e,r?.class,r?.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r?.[u],m=o?.[u];if(d===null)return null;const g=es(d)||es(m);return s[u][g]}),a=r&&Object.entries(r).reduce((u,d)=>{let[m,g]=d;return g===void 0||(u[m]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:m,className:g,...y}=d;return Object.entries(y).every(S=>{let[v,_]=S;return Array.isArray(_)?_.includes({...o,...a}[v]):{...o,...a}[v]===_})?[...u,m,g]:u},[]);return ts(e,i,c,r?.class,r?.className)};function rs(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hi(...e){return t=>{let r=!1;const n=e.map(s=>{const o=rs(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():rs(e[s],null)}}}}var Wi=Symbol.for("react.lazy"),Rr=Go[" use ".trim().toString()];function Gi(e){return typeof e=="object"&&e!==null&&"then"in e}function qs(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Wi&&"_payload"in e&&Gi(e._payload)}function Bs(e){const t=Yi(e),r=p.forwardRef((n,s)=>{let{children:o,...i}=n;qs(o)&&typeof Rr=="function"&&(o=Rr(o._payload));const a=p.Children.toArray(o),c=a.find(Xi);if(c){const u=c.props.children,d=a.map(m=>m===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:m);return l.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function Yi(e){const t=p.forwardRef((r,n)=>{let{children:s,...o}=r;if(qs(s)&&typeof Rr=="function"&&(s=Rr(s._payload)),p.isValidElement(s)){const i=Ji(s),a=Ki(o,s.props);return s.type!==p.Fragment&&(a.ref=n?Hi(n,i):i),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qi=Symbol("radix.slottable");function Xi(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qi}function Ki(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function Ji(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Zi=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ea=Zi.reduce((e,t)=>{const r=Bs(`Primitive.${t}`),n=p.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ta="Label",Us=p.forwardRef((e,t)=>l.jsx(ea.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Us.displayName=ta;var ra=Us;const na=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},sa=(e,t)=>({classGroupId:e,validator:t}),Hs=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Ir="-",ns=[],oa="arbitrary..",ia=e=>{const t=la(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return aa(i);const a=i.split(Ir),c=a[0]===""&&a.length>1?1:0;return Ws(a,c,t)},getConflictingClassGroupIds:(i,a)=>{if(a){const c=n[i],u=r[i];return c?u?na(u,c):c:u||ns}return r[i]||ns}}},Ws=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],o=r.nextPart.get(s);if(o){const u=Ws(e,t+1,o);if(u)return u}const i=r.validators;if(i===null)return;const a=t===0?e.join(Ir):e.slice(t).join(Ir),c=i.length;for(let u=0;u<c;u++){const d=i[u];if(d.validator(a))return d.classGroupId}},aa=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?oa+n:void 0})(),la=e=>{const{theme:t,classGroups:r}=e;return ca(r,t)},ca=(e,t)=>{const r=Hs();for(const n in e){const s=e[n];Tn(s,r,n,t)}return r},Tn=(e,t,r,n)=>{const s=e.length;for(let o=0;o<s;o++){const i=e[o];ua(i,t,r,n)}},ua=(e,t,r,n)=>{if(typeof e=="string"){da(e,t,r);return}if(typeof e=="function"){fa(e,t,r,n);return}ma(e,t,r,n)},da=(e,t,r)=>{const n=e===""?t:Gs(t,e);n.classGroupId=r},fa=(e,t,r,n)=>{if(ga(e)){Tn(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(sa(r,e))},ma=(e,t,r,n)=>{const s=Object.entries(e),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];Tn(c,Gs(t,a),r,n)}},Gs=(e,t)=>{let r=e;const n=t.split(Ir),s=n.length;for(let o=0;o<s;o++){const i=n[o];let a=r.nextPart.get(i);a||(a=Hs(),r.nextPart.set(i,a)),r=a}return r},ga=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,pa=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const s=(o,i)=>{r[o]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(o){let i=r[o];if(i!==void 0)return i;if((i=n[o])!==void 0)return s(o,i),i},set(o,i){o in r?r[o]=i:s(o,i)}}},xn="!",ss=":",ha=[],os=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),ba=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const o=[];let i=0,a=0,c=0,u;const d=s.length;for(let v=0;v<d;v++){const _=s[v];if(i===0&&a===0){if(_===ss){o.push(s.slice(c,v)),c=v+1;continue}if(_==="/"){u=v;continue}}_==="["?i++:_==="]"?i--:_==="("?a++:_===")"&&a--}const m=o.length===0?s:s.slice(c);let g=m,y=!1;m.endsWith(xn)?(g=m.slice(0,-1),y=!0):m.startsWith(xn)&&(g=m.slice(1),y=!0);const S=u&&u>c?u-c:void 0;return os(o,y,g,S)};if(t){const s=t+ss,o=n;n=i=>i.startsWith(s)?o(i.slice(s.length)):os(ha,!1,i,void 0,!0)}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},va=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let o=0;o<r.length;o++){const i=r[o],a=i[0]==="[",c=t.has(i);a||c?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(i)):s.push(i)}return s.length>0&&(s.sort(),n.push(...s)),n}},ya=e=>({cache:pa(e.cacheSize),parseClassName:ba(e),sortModifiers:va(e),...ia(e)}),xa=/\s+/,wa=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,i=[],a=e.trim().split(xa);let c="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:m,modifiers:g,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:v}=r(d);if(m){c=d+(c.length>0?" "+c:c);continue}let _=!!v,T=n(_?S.substring(0,v):S);if(!T){if(!_){c=d+(c.length>0?" "+c:c);continue}if(T=n(S),!T){c=d+(c.length>0?" "+c:c);continue}_=!1}const k=g.length===0?"":g.length===1?g[0]:o(g).join(":"),R=y?k+xn:k,x=R+T;if(i.indexOf(x)>-1)continue;i.push(x);const C=s(T,_);for(let A=0;A<C.length;++A){const N=C[A];i.push(R+N)}c=d+(c.length>0?" "+c:c)}return c},_a=(...e)=>{let t=0,r,n,s="";for(;t<e.length;)(r=e[t++])&&(n=Ys(r))&&(s&&(s+=" "),s+=n);return s},Ys=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ys(e[n]))&&(r&&(r+=" "),r+=t);return r},Ca=(e,...t)=>{let r,n,s,o;const i=c=>{const u=t.reduce((d,m)=>m(d),e());return r=ya(u),n=r.cache.get,s=r.cache.set,o=a,a(c)},a=c=>{const u=n(c);if(u)return u;const d=wa(c,r);return s(c,d),d};return o=i,(...c)=>o(_a(...c))},ka=[],me=e=>{const t=r=>r[e]||ka;return t.isThemeGetter=!0,t},Qs=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Xs=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Sa=/^\d+\/\d+$/,Ea=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ja=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Aa=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ra=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ia=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dt=e=>Sa.test(e),q=e=>!!e&&!Number.isNaN(Number(e)),bt=e=>!!e&&Number.isInteger(Number(e)),sn=e=>e.endsWith("%")&&q(e.slice(0,-1)),ct=e=>Ea.test(e),Da=()=>!0,Na=e=>ja.test(e)&&!Aa.test(e),Ks=()=>!1,Ta=e=>Ra.test(e),Fa=e=>Ia.test(e),Ma=e=>!M(e)&&!O(e),Oa=e=>Pt(e,eo,Ks),M=e=>Qs.test(e),Ct=e=>Pt(e,to,Na),on=e=>Pt(e,$a,q),is=e=>Pt(e,Js,Ks),Va=e=>Pt(e,Zs,Fa),vr=e=>Pt(e,ro,Ta),O=e=>Xs.test(e),Zt=e=>zt(e,to),La=e=>zt(e,qa),as=e=>zt(e,Js),Pa=e=>zt(e,eo),za=e=>zt(e,Zs),yr=e=>zt(e,ro,!0),Pt=(e,t,r)=>{const n=Qs.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},zt=(e,t,r=!1)=>{const n=Xs.exec(e);return n?n[1]?t(n[1]):r:!1},Js=e=>e==="position"||e==="percentage",Zs=e=>e==="image"||e==="url",eo=e=>e==="length"||e==="size"||e==="bg-size",to=e=>e==="length",$a=e=>e==="number",qa=e=>e==="family-name",ro=e=>e==="shadow",Ba=()=>{const e=me("color"),t=me("font"),r=me("text"),n=me("font-weight"),s=me("tracking"),o=me("leading"),i=me("breakpoint"),a=me("container"),c=me("spacing"),u=me("radius"),d=me("shadow"),m=me("inset-shadow"),g=me("text-shadow"),y=me("drop-shadow"),S=me("blur"),v=me("perspective"),_=me("aspect"),T=me("ease"),k=me("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...x(),O,M],A=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],E=()=>[O,M,c],P=()=>[Dt,"full","auto",...E()],X=()=>[bt,"none","subgrid",O,M],B=()=>["auto",{span:["full",bt,O,M]},bt,O,M],z=()=>[bt,"auto",O,M],$=()=>["auto","min","max","fr",O,M],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...E()],Q=()=>[Dt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],V=()=>[e,O,M],fe=()=>[...x(),as,is,{position:[O,M]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],et=()=>["auto","cover","contain",Pa,Oa,{size:[O,M]}],le=()=>[sn,Zt,Ct],Z=()=>["","none","full",u,O,M],se=()=>["",q,Zt,Ct],Oe=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[q,sn,as,is],Re=()=>["","none",S,O,M],he=()=>["none",q,O,M],U=()=>["none",q,O,M],Qe=()=>[q,O,M],be=()=>[Dt,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ct],breakpoint:[ct],color:[Da],container:[ct],"drop-shadow":[ct],ease:["in","out","in-out"],font:[Ma],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ct],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ct],shadow:[ct],spacing:["px",q],text:[ct],"text-shadow":[ct],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dt,M,O,_]}],container:["container"],columns:[{columns:[q,M,O,a]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[bt,"auto",O,M]}],basis:[{basis:[Dt,"full","auto",a,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[q,Dt,"auto","initial","none",M]}],grow:[{grow:["",q,O,M]}],shrink:[{shrink:["",q,O,M]}],order:[{order:[bt,"first","last","none",O,M]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[a,"screen",...Q()]}],"min-w":[{"min-w":[a,"screen","none",...Q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",r,Zt,Ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,O,on]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sn,M]}],"font-family":[{font:[La,M,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,O,M]}],"line-clamp":[{"line-clamp":[q,"none",O,on]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",O,M]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",O,M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[q,"from-font","auto",O,Ct]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[q,"auto",O,M]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",O,M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",O,M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:et()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bt,O,M],radial:["",O,M],conic:[bt,O,M]},za,Va]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[q,O,M]}],"outline-w":[{outline:["",q,Zt,Ct]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",d,yr,vr]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",m,yr,vr]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[q,Ct]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",g,yr,vr]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[q,O,M]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[q]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[O,M]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[q]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:et()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",O,M]}],filter:[{filter:["","none",O,M]}],blur:[{blur:Re()}],brightness:[{brightness:[q,O,M]}],contrast:[{contrast:[q,O,M]}],"drop-shadow":[{"drop-shadow":["","none",y,yr,vr]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",q,O,M]}],"hue-rotate":[{"hue-rotate":[q,O,M]}],invert:[{invert:["",q,O,M]}],saturate:[{saturate:[q,O,M]}],sepia:[{sepia:["",q,O,M]}],"backdrop-filter":[{"backdrop-filter":["","none",O,M]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[q,O,M]}],"backdrop-contrast":[{"backdrop-contrast":[q,O,M]}],"backdrop-grayscale":[{"backdrop-grayscale":["",q,O,M]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[q,O,M]}],"backdrop-invert":[{"backdrop-invert":["",q,O,M]}],"backdrop-opacity":[{"backdrop-opacity":[q,O,M]}],"backdrop-saturate":[{"backdrop-saturate":[q,O,M]}],"backdrop-sepia":[{"backdrop-sepia":["",q,O,M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",O,M]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[q,"initial",O,M]}],ease:[{ease:["linear","initial",T,O,M]}],delay:[{delay:[q,O,M]}],animate:[{animate:["none",k,O,M]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,O,M]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:U()}],"scale-x":[{"scale-x":U()}],"scale-y":[{"scale-y":U()}],"scale-z":[{"scale-z":U()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[O,M,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",O,M]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",O,M]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[q,Zt,Ct,on]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ua=Ca(Ba);function Ye(...e){return Ua(ut(e))}function Ha({className:e,...t}){return l.jsx(ra,{"data-slot":"label",className:Ye("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var Wa=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ga=Wa.reduce((e,t)=>{const r=Bs(`Primitive.${t}`),n=p.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ya="Separator",ls="horizontal",Qa=["horizontal","vertical"],no=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=ls,...s}=e,o=Xa(n)?n:ls,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(Ga.div,{"data-orientation":o,...a,...s,ref:t})});no.displayName=Ya;function Xa(e){return Qa.includes(e)}var Ka=no;function Ja({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return l.jsx(Ka,{"data-slot":"separator",decorative:r,orientation:t,className:Ye("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}function Et({className:e,...t}){return l.jsx("fieldset",{"data-slot":"field-set",className:Ye("flex flex-col gap-6","has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3",e),...t})}function so({className:e,variant:t="legend",...r}){return l.jsx("legend",{"data-slot":"field-legend","data-variant":t,className:Ye("mb-3 font-medium","data-[variant=legend]:text-base","data-[variant=label]:text-sm",e),...r})}const jt=p.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,"data-slot":"field-group",className:Ye("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4",e),...t}));jt.displayName="FieldGroup";const Za=Ui("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function ae({className:e,orientation:t="vertical",...r}){return l.jsx("div",{role:"group","data-slot":"field","data-orientation":t,className:Ye(Za({orientation:t}),e),...r})}function Te({className:e,...t}){return l.jsx(Ha,{"data-slot":"field-label",className:Ye("font-extrabold group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",e),...t})}function ue({className:e,...t}){return l.jsx("p",{"data-slot":"field-description",className:Ye("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",e),...t})}function Mt({children:e,className:t,...r}){return l.jsxs("div",{"data-slot":"field-separator","data-content":!!e,className:Ye("relative opacity-[0.3] -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2",t),...r,children:[l.jsx(Ja,{className:"absolute inset-0 top-1/2"}),e&&l.jsx("span",{className:"bg-background text-muted-foreground relative mx-auto block w-fit px-2","data-slot":"field-separator-content",children:e})]})}function de({className:e,children:t,errors:r,...n}){const s=p.useMemo(()=>{if(t)return t;if(!r?.length)return null;const o=[...new Map(r.map(i=>[i?.message,i])).values()];return o?.length==1?o[0]?.message:l.jsx("ul",{className:"ml-4 flex list-disc flex-col gap-1",children:o.map((i,a)=>i?.message&&l.jsx("li",{children:i.message},a))})},[t,r]);return s?l.jsx("div",{role:"alert","data-slot":"field-error",className:Ye("text-destructive text-sm font-normal",e),...n,children:s}):null}const ke=[];for(let e=0;e<256;++e)ke.push((e+256).toString(16).slice(1));function el(e,t=0){return(ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]).toLowerCase()}let an;const tl=new Uint8Array(16);function rl(){if(!an){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");an=crypto.getRandomValues.bind(crypto)}return an(tl)}const nl=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cs={randomUUID:nl};function sl(e,t,r){e=e||{};const n=e.random??e.rng?.()??rl();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,el(n)}function ol(e,t,r){return cs.randomUUID&&!e?cs.randomUUID():sl(e)}function Pr({className:e,type:t,...r}){return l.jsx("input",{type:t,"data-slot":"input",className:Ye("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-lg border bg-transparent px-3 py-6 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}const il=()=>{const{t:e}=Se(),{control:t,register:r,trigger:n,formState:{errors:s}}=xe(),{fields:o,append:i,remove:a}=dr({control:t,name:"questionCategories"}),c=async()=>{await n("questionCategories")&&i({text:"",id:ol()})},u=s?.questionCategories;return l.jsxs(Et,{children:[l.jsxs(jt,{children:[l.jsx(cr,{className:"mt-5",title:" ",description:" ,      .           ,      ."}),o.map((d,m)=>l.jsxs(ae,{children:[l.jsxs("div",{className:"flex gap-[1rem]",children:[l.jsx(Pr,{className:"h-[3.2rem]",placeholder:" ...",...r(`questionCategories.${m}.text`,{required:e("validation.required"),maxLength:{value:30,message:e("validation.min_length",{value:30})}})}),l.jsx(Ae,{style:"icon",className:"w-[3.2rem] h-[3.2rem] max-h-[3.2rem] min-w-[3.2rem]",onClick:()=>a(m),type:"button",children:l.jsx(Lt,{})})]}),u?.[m]?.text?.message&&l.jsx(de,{children:u[m].text.message})]},d.id))]}),l.jsx(Ae,{style:"white",size:"sm",disabled:!!u,onClick:c,children:" "})]})},al=()=>{const{control:e}=xe(),t=ie({name:"scoringAlgorithm",control:e}),n=!!ie({name:"questions",control:e})?.length,s=t==="PERSONALITY_TEST";return l.jsxs(l.Fragment,{children:[l.jsxs(jt,{className:"mb-5",children:[l.jsx(cr,{title:" ",description:"      ,    ,     .        ."}),l.jsx(Ge,{name:"scoringAlgorithm",defaultValue:"STRICT_MATCH",control:e,render:({field:o})=>l.jsxs("div",{className:"relative",children:[n&&l.jsxs("div",{className:"absolute text-center h-full flex items-center justify-center",children:[" . ",l.jsx("br",{}),"   ,      ."]}),l.jsxs(jt,{className:n?"opacity-10":"",children:[l.jsxs(ae,{children:[l.jsx(St,{full:!0,disabled:n,active:o.value==="STRICT_MATCH",label:"  ( / )",onClick:()=>o.onChange("STRICT_MATCH")}),l.jsx(ue,{children:"       (  ),   .     ."})]}),l.jsxs(ae,{children:[l.jsx(St,{full:!0,disabled:n,active:o.value==="WEIGHTED_SCALE",label:"  ( )",onClick:()=>o.onChange("WEIGHTED_SCALE")}),l.jsx(ue,{children:"      (,  0  3 ).        ."})]}),l.jsxs(ae,{children:[l.jsx(St,{full:!0,disabled:n,active:o.value==="PERSONALITY_TEST",label:"  ",onClick:()=>o.onChange("PERSONALITY_TEST")}),l.jsx(ue,{children:"      (, , ).         ."})]})]})]})})]}),s&&l.jsx(il,{})]})},oo=({min:e,max:t},r)=>(n="")=>{if(!n)return r("validation.required");if(n.length<e)return r("validation.min_length",{value:e});const s=n.replace(/<[^>]*>?/gm,"").replace(/\n\s*\n/g,`
`).length;return s>t?r("validation.length_limit",{value:s-t}):!0},ln=e=>{let t="";if(e){const r=e.split("/");t=r[r.length-1]}return t},ll=e=>({optionPopup:{isOpen:!1,optionIndex:0,questionIndex:0},title:e.title,description:e.description,loadedImg:e.poster,poster:ln(e.poster),scoringAlgorithm:e.scoringAlgorithm||"STRICT_MATCH",timeLimit:e.timeLimit,timeLimitChoice:e.timeLimitChoice,results:e.results,resultNotice:e.resultNotice,resultPositive:e.resultPositive,questionCategories:e.questionCategories,categoriesCounts:e.categoriesCounts,questions:e.questions.map(t=>({order:t.order,image:ln(t.image),text:t.text,loadedImg:t.image,type:t.type||"SINGLE_CHOICE",field:t.field||"TEXT",options:t.options.map(r=>({text:r.text,image:ln(r.image),weight:r.weight,loadedImg:r.image,isCorrect:r.isCorrect,category:r.category}))}))}),cl=async e=>(await Mr.post("/quiz",e))?.data,ul=()=>{const e=js();return Rs({mutationFn:cl,onSuccess:()=>{e.invalidateQueries({queryKey:["getQuizList",{type:"my"}]})}})},dl=async(e,t)=>(await Mr.patch(`/quiz/${e}`,t))?.data,fl=e=>{const t=js();return Rs({mutationFn:r=>dl(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["getQuiz",e]}),t.invalidateQueries({queryKey:["getQuizList",{type:"my"}]})}})},ml=(e,t)=>{const{mutateAsync:r}=ul(),{mutateAsync:n}=fl(e?.id),s=Oi({reValidateMode:"onChange",mode:"onBlur",defaultValues:e?ll(e):{}}),o=async i=>{try{if(t){const c=await n(i);Un(`/quiz/${c.id}`);return}const a=await r(i);Un(`/quiz/${a.id}`)}catch(a){console.error("  /  ",a)}};return{...s,onSubmit:s.handleSubmit(o)}},gl="_footer_1eaut_1",pl="_footerShow_1eaut_18",hl="_button_1eaut_22",cn={footer:gl,footerShow:pl,button:hl},bl=e=>{const[t,r]=p.useState(!0);return p.useEffect(()=>{const n=()=>{const o=document.activeElement?.tagName==="INPUT"&&document.activeElement?.getAttribute("type")!=="file",i=document.activeElement?.tagName==="TEXTAREA",a=e.current&&(o||i)&&e.current.contains(document.activeElement);r(!a)},s=e.current;return s&&(s.addEventListener("focusin",n),s.addEventListener("focusout",n)),()=>{s&&(s.removeEventListener("focusin",n),s.removeEventListener("focusout",n))}},[]),{isShow:t}},vl=document.getElementById("footer"),yl=({isEdit:e,formRef:t,isDisabled:r,isLoading:n,onSubmit:s})=>{const{t:o}=Se(),{isShow:i}=bl(t);return Tt.createPortal(l.jsxs("div",{className:ut(cn.footer,i&&cn.footerShow),children:[r&&l.jsx(de,{className:"text-center",children:o("create_page.check_fields")}),l.jsx(Ae,{className:cn.button,loading:n,disabled:r,type:"submit",onClick:s,after:l.jsx(ri,{}),children:e?" ":o("common.create")})]}),vl)},st=e=>({title:{required:e("validation.required"),minLength:{value:7,message:e("validation.min_length",{value:7})},maxLength:{value:50,message:e("validation.max_length",{value:50})}},description:{required:e("validation.required"),minLength:{value:100,message:e("validation.min_length",{value:100})}},time_limit:{max:{value:420,message:e("validation.time_limit")}},questions:{required:e("validation.questions.required"),minLength:{value:2,message:e("validation.questions.min_length",{value:2})}},question:{required:e("validation.required"),minLength:{value:7,message:e("validation.min_length",{value:7})},maxLength:{value:200,message:e("validation.max_length",{value:200})}},options:{required:e("validation.options.required"),minLength:{value:2,message:e("validation.options.min_length",{value:2})}},option:{maxLength:{value:100,message:e("validation.max_length",{value:100})}},results:{number:{required:e("validation.options.required")},text:{required:e("validation.options.required")}}});var pe=function(){return pe=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},pe.apply(this,arguments)};function zr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function us(e){if(e){var t=e.textContent,r=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;e.style.direction=t&&r.test(t[0])?"rtl":"ltr"}}function io(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(" ")}function xl(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0).startContainer.parentNode||void 0}function ds(e){return typeof e=="string"?e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(e)}function wl(e){var t=document.createTextNode("");e.appendChild(t);var r=document.activeElement===e;if(t!==null&&t.nodeValue!==null&&r){var n=window.getSelection();if(n!==null){var s=document.createRange();s.setStart(t,t.nodeValue.length),s.collapse(!0),n.removeAllRanges(),n.addRange(s)}e instanceof HTMLElement&&e.focus()}}function ao(e,t){typeof t=="function"?t(e):typeof t=="object"&&t&&(t.current=e)}var _l=w.memo(w.forwardRef(function(t,r){var n=t.className,s=t.disabled,o=t.tagName,i=t.value,a=i===void 0?"":i,c=t.placeholder,u=zr(t,["className","disabled","tagName","value","placeholder"]),d=w.useRef(null),m=w.useRef(a),g=w.useRef(u);return w.useEffect(function(){g.current=u;var y=d.current;y&&ds(m.current)!==ds(a)&&(m.current=a,y.innerHTML=a,wl(y))}),w.useMemo(function(){function y(_){d.current=_,us(_),ao(_,r)}function S(_){var T,k,R=d.current;if(R){var x=R.innerHTML;x!==m.current&&((k=(T=g.current).onChange)===null||k===void 0||k.call(T,pe(pe({},_),{target:{value:x,name:u.name}}))),us(R),m.current=x}}var v=io("rsw-ce",n);return w.createElement(o||"div",pe(pe({},u),{className:v,contentEditable:!s,dangerouslySetInnerHTML:{__html:a},onBlur:function(_){return(g.current.onBlur||S)(_)},onInput:S,onKeyDown:function(_){return(g.current.onKeyDown||S)(_)},onKeyUp:function(_){return(g.current.onKeyUp||S)(_)},placeholder:c,ref:y}))},[n,s,c,o])})),lo=w.createContext(void 0);function Cl(e){var t=e.children,r=w.useState({htmlMode:!1,update:o}),n=r[0],s=r[1];function o(i){s(function(a){return pe(pe({},a),i)})}return w.createElement(lo.Provider,{value:n},t)}function fr(){var e=w.useContext(lo);if(!e)throw new Error("You should wrap your component by EditorProvider");return e}var fs=[],er=[];function kl(e,t){if(e&&typeof document<"u"){var r,n=t.prepend===!0?"prepend":"append",s=t.singleTag===!0,o=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(s){var i=fs.indexOf(o);i===-1&&(i=fs.push(o)-1,er[i]={}),r=er[i]&&er[i][n]?er[i][n]:er[i][n]=a()}else r=a();e.charCodeAt(0)===65279&&(e=e.substring(1)),r.styleSheet?r.styleSheet.cssText+=e:r.appendChild(document.createTextNode(e))}function a(){var c=document.createElement("style");if(c.setAttribute("type","text/css"),t.attributes)for(var u=Object.keys(t.attributes),d=0;d<u.length;d++)c.setAttribute(u[d],t.attributes[u[d]]);var m=n==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(m,c),c}}var Sl=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";kl(Sl,{});var El=w.forwardRef(function(t,r){var n=t.autoFocus,s=t.children,o=t.containerProps,i=t.onSelect,a=zr(t,["autoFocus","children","containerProps","onSelect"]),c=fr();w.useEffect(function(){return document.addEventListener("click",u),function(){return document.removeEventListener("click",u)}});function u(y){var S;y.target!==c.$el&&(!((S=c.$el)===null||S===void 0)&&S.contains(y.target)||c.update({$selection:void 0}))}function d(y){i?.(y),c.update({$selection:xl()})}function m(y){c.update({$el:y}),ao(y,r),n&&y&&c.$el===void 0&&y.focus()}var g=io("rsw-editor",o?.className);return c.htmlMode?w.createElement("div",pe({},o,{className:g}),s,w.createElement("textarea",pe({},a,{className:"rsw-ce rsw-html"}))):w.createElement("div",pe({},o,{className:g}),s,w.createElement(_l,pe({},a,{ref:m,onSelect:d})))});function jl(){return w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},w.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function Al(){return w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},w.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var co=Ze("Bold","","bold"),uo=Ze("Bullet list",w.createElement(Al,null),"insertUnorderedList"),Rl=Ze("Clear formatting","T","removeFormat"),Il=Ze("Italic","","italic"),fo=Ze("Strike through",w.createElement("s",null,"ab"),"strikeThrough"),Dl=Ze("Link","",function(e){var t=e.$selection;t?.nodeName==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),mo=Ze("Numbered list",w.createElement(jl,null),"insertOrderedList"),go=Ze("Redo","","redo"),po=Ze("Underline",w.createElement("span",{style:{textDecoration:"underline"}},""),"underline"),ho=Ze("Undo","","undo");function Ze(e,t,r){return n.displayName=e.replace(/\s/g,""),n;function n(s){var o=fr(),i=o.$el,a=function(){return!!i?.contains(document.activeElement)},c=!1;typeof r=="string"&&(c=a()&&document.queryCommandState(r));function u(d){d.preventDefault(),a()||i?.focus(),typeof r=="function"?r(o):document.execCommand(r)}return o.htmlMode?null:w.createElement("button",pe({className:"rsw-btn","data-active":c,onMouseDown:u,tabIndex:-1,title:e,type:"button"},s),t)}}var Nl=Tl("Styles",[["Normal","formatBlock","DIV"],[" ","formatBlock","H1"],["Header 2","formatBlock","H2"],["","formatBlock","PRE"]]);function Tl(e,t){return r.displayName=e,r;function r(n){var s=fr(),o=s.$el,i=s.$selection,a=s.htmlMode;if(a)return null;var c=t.findIndex(function(d){return d[1]==="formatBlock"&&i?.nodeName===d[2]});return w.createElement(Fl,pe({},n,{items:t,onChange:u,selected:c,tabIndex:-1,title:e}));function u(d){var m=d.target,g=m.value,y=parseInt(g,10),S=t[y]||[],v=S[1],_=S[2];d.preventDefault(),document.activeElement!==o&&o?.focus(),typeof v=="function"?v(s):v&&document.execCommand(v,!1,_),setTimeout(function(){return m.value=g},10)}}}function Fl(e){var t=e.items,r=e.selected,n=zr(e,["items","selected"]);return w.createElement("select",pe({className:"rsw-dd"},n,{value:r}),w.createElement("option",{hidden:!0},n.title),t.map(function(s,o){return w.createElement("option",{key:s[2],value:o},s[0])}))}function Ml(e){var t=zr(e,[]),r=fr();function n(){r.update({htmlMode:!r.htmlMode})}return w.createElement("button",pe({className:"rsw-btn","data-active":r.htmlMode,onClick:n,tabIndex:-1,title:"HTML mode",type:"button"},t),"</>")}function xr(e){var t=fr();return t.htmlMode?null:w.createElement("div",pe({className:"rsw-separator"},e))}function bo(e){return w.createElement("div",pe({className:"rsw-toolbar"},e))}var Ol=w.forwardRef(function(t,r){return w.createElement(Cl,null,w.createElement(El,pe({},t,{ref:r}),t.children||w.createElement(bo,null,w.createElement(ho,null),w.createElement(go,null),w.createElement(xr,null),w.createElement(co,null),w.createElement(Il,null),w.createElement(po,null),w.createElement(fo,null),w.createElement(xr,null),w.createElement(mo,null),w.createElement(uo,null),w.createElement(xr,null),w.createElement(Dl,null),w.createElement(Rl,null),w.createElement(Ml,null),w.createElement(xr,null),w.createElement(Nl,null))))});const Vl="_editor_12u52_1",Ll="_editorHeader_12u52_12",Pl="_editorBtnWrap_12u52_25",zl="_editorBtn_12u52_25",$l="_editorBtnIcon_12u52_34",Ie={editor:Vl,editorHeader:Ll,editorBtnWrap:Pl,editorBtn:zl,editorBtnIcon:$l},vo=({value:e,onChange:t,placeholder:r})=>{const n=Ze("Align center","","justifyCenter");return l.jsx(l.Fragment,{children:l.jsx("div",{className:Ie.editor,children:l.jsx(Ol,{value:e,onChange:s=>t(s.target.value),placeholder:r,children:l.jsxs(bo,{className:Ie.editorHeader,children:[l.jsxs("div",{className:Ie.editorBtnWrap,children:[l.jsx(pi,{className:Ie.editorBtnIcon}),l.jsx(ho,{className:Ie.editorBtn})]}),l.jsxs("div",{className:Ie.editorBtnWrap,children:[l.jsx(mi,{className:Ie.editorBtnIcon}),l.jsx(go,{className:Ie.editorBtn})]}),l.jsx(co,{className:Ie.editorBtn}),l.jsx(n,{className:Ie.editorBtn}),l.jsx(po,{className:Ie.editorBtn}),l.jsx(fo,{className:Ie.editorBtn}),l.jsx(uo,{className:Ie.editorBtn}),l.jsx(mo,{className:Ie.editorBtn})]})})})})};function $r({className:e,...t}){return l.jsx("textarea",{"data-slot":"textarea",className:Ye("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-32 w-full rounded-lg border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const ql=async e=>(await Mr.post("/files/delete",{fileName:e}))?.data,Bl=async(e,{signal:t,onProgress:r})=>(await Mr.post("/files",e,{signal:t,onUploadProgress:s=>{r&&s.total&&r(Math.round(s.loaded*100/s.total))},headers:{"Content-Type":"multipart/form-data"}}))?.data,Ul="_uploadInput_4aok2_1",Hl="_uploadInputContent_4aok2_6",Wl="_uploadInputPreview_4aok2_26",Gl="_uploadInputIcon_4aok2_40",Yl="_uploadInputImage_4aok2_50",Ql="_uploadInputImageError_4aok2_55",Xl="_uploadInputProgress_4aok2_80",Kl="_uploadInputDelete_4aok2_104",vt={uploadInput:Ul,uploadInputContent:Hl,uploadInputPreview:Wl,uploadInputIcon:Gl,uploadInputImage:Yl,uploadInputImageError:Ql,uploadInputProgress:Xl,uploadInputDelete:Kl},Jl=({src:e})=>{const[t,r]=p.useState("");return t?l.jsxs("div",{className:vt.uploadInputImageError,children:[l.jsx(ci,{}),l.jsxs("p",{children:["      . ",l.jsx("br",{}),"    ."]})]}):l.jsx("img",{className:vt.uploadInputImage,src:e,onError:()=>r("error"),alt:"uploaded image"})},Zl=({id:e,loadedImage:t,name:r,onDelete:n,onChange:s})=>{const{t:o}=Se(),i=p.useRef(null),[a,c]=p.useState(null),[u,d]=p.useState(0),m=()=>{i.current?.value&&(i.current.value=""),c(null),d(0),n?.()},g=()=>{d(0)},y=v=>{d(0);const _=v.target.files?.[0],T=new FileReader;_&&(T.onload=function(k){k.target?.result&&c(k.target.result)},T.readAsDataURL(_),s(_,{onProgress:d,onLoaded:g}))},S=a||t?kr(t):null;return l.jsxs("div",{className:vt.uploadInput,children:[l.jsxs("div",{className:vt.uploadInputContent,children:[l.jsx("input",{id:e,type:"file",name:r,disabled:!!S,ref:i,onChange:y,accept:"image/png, image/jpeg, image/jpg"}),l.jsxs("div",{className:vt.uploadInputPreview,children:[l.jsx(di,{className:vt.uploadInputIcon}),l.jsx("p",{children:o("shared.load_image")})]}),S&&l.jsx(Jl,{src:S}),!!u&&l.jsxs("div",{className:vt.uploadInputProgress,children:[l.jsxs("p",{children:[" ",u," %"]}),l.jsx("span",{style:{width:`${u}%`}})]})]}),S&&l.jsx(Ae,{size:"sm",after:l.jsx(Lt,{}),className:vt.uploadInputDelete,onClick:m,children:o("shared.delete_image")})]})},ec="_content_7q73c_1",tc={content:ec},rc=1048576,nc=["image/png","image/jpeg","image/jpg"],sc=(e,t)=>e.size>rc?t("errors.image.size",{value:1}):nc.includes(e.type)?!1:t("errors.image.format"),Fn=({id:e,type:t="poster",onChange:r,loadedImg:n=null,clearError:s,setError:o})=>{const{t:i}=Se(),a=p.useRef(null),[c,u]=p.useState(n),d=(g,{onLoaded:y,onProgress:S})=>{s();const v=sc(g,i);if(v){o(v);return}const _=new FormData;_.append("file",g),_.append("type",t),a.current=new AbortController;const T=a.current.signal;Bl(_,{signal:T,onProgress:S}).then(k=>{r(k.fileName),u(k.tempPath)}).catch(k=>{k.response?.data?.message?o(k.response?.data?.message):o(i("errors.image.load"))}).finally(()=>{y(),a.current=null})},m=async()=>{if(r(null),u(null),a.current)return a.current.abort();c&&ql(c)};return l.jsx("div",{className:tc.content,children:l.jsx(Zl,{id:e,loadedImage:c,onDelete:m,onChange:d})})},oc=()=>{const{t:e}=Se(),{control:t,register:r,watch:n,setError:s,clearErrors:o,formState:{errors:i}}=xe(),a=n("loadedImg");return l.jsx(Et,{className:"mb-5",children:l.jsxs(jt,{children:[l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:"quiz-title",children:e("create_page.main.title")}),l.jsx($r,{id:"quiz-title",placeholder:e("create_page.main.title_placeholder"),...r("title",st(e).title)}),i.title?.message?l.jsx(de,{children:i.title.message}):l.jsx(ue,{children:st(e).title.minLength.message})]}),l.jsxs(ae,{children:[l.jsx(Te,{children:e("create_page.main.description")}),l.jsx(Ge,{name:"description",control:t,rules:{validate:oo({min:10,max:5e3},e)},render:({field:c})=>l.jsx(vo,{id:"quiz-description",value:c.value,onChange:c.onChange,placeholder:e("create_page.main.description_placeholder")})}),i.description?.message?l.jsx(de,{children:i.description?.message}):l.jsx(ue,{children:st(e).description.minLength.message})]}),l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:"quiz-poster",children:e("create_page.main.poster")}),l.jsx(Ge,{name:"poster",control:t,rules:{required:e("validation.required")},render:({field:c})=>l.jsx(Fn,{id:"quiz-poster",type:"poster",loadedImg:a,clearError:()=>o("poster"),setError:u=>s("poster",{message:u}),onChange:c.onChange})}),i.poster?.message?l.jsx(de,{children:i.poster?.message}):l.jsx(ue,{children:e("create_page.main.poster_placeholder")})]})]})})},ic=(e,{max:t,onInput:r})=>{const n=e.target,s=n.value.replace(/[eE-]/g,"");s!=="e"&&(n.value=s,s.length>3&&(n.value=s.slice(0,3)),s>t&&(n.value=t),r?.(e))},wn=({max:e=999,onInput:t,inputProps:r})=>l.jsx(Pr,{id:"quiz-title",type:"number",...r,onInput:n=>ic(n,{max:e,onInput:t})}),ac="_select_1kmde_1",lc="_selectPlaceholder_1kmde_7",cc="_icon_1kmde_30",uc="_iconRotate_1kmde_39",dc="_selectList_1kmde_43",fc="_selectListOpen_1kmde_62",mc="_selectListContent_1kmde_68",gc="_selectEmpty_1kmde_74",pc="_selectItem_1kmde_79",hc="_selectItemActive_1kmde_86",nt={select:ac,selectPlaceholder:lc,icon:cc,iconRotate:uc,selectList:dc,selectListOpen:fc,selectListContent:mc,selectEmpty:gc,selectItem:pc,selectItemActive:hc},yo=({value:e,onChange:t,placeholder:r=" ",options:n})=>{const s=p.useRef(null),[o,i]=p.useState(!1);Xo({ref:s,onClickOutside:()=>i(!1)});const a=u=>{i(!1),t(u)},c=n?.find(u=>u.value===e)?.label;return l.jsxs("div",{ref:s,className:nt.select,children:[l.jsxs("button",{type:"button",onClick:()=>i(u=>!u),className:nt.selectPlaceholder,children:[l.jsx("p",{children:c||r}),l.jsx(si,{className:ut(nt.icon,o&&nt.iconRotate)})]}),l.jsx("div",{className:ut(nt.selectList,o&&nt.selectListOpen),children:l.jsx("div",{className:nt.selectListContent,children:n.length?n.map(u=>l.jsx("button",{type:"button",className:ut(nt.selectItem,e===u.value&&nt.selectItemActive),onClick:()=>a(u.value),children:u.label},u.value)):l.jsx("p",{className:nt.selectEmpty,children:" "})})})]})},bc="_popup_tqsr8_1",vc="_header_tqsr8_7",yc="_label_tqsr8_15",xc="_weight_tqsr8_19",wc="_button_tqsr8_36",tr={popup:bc,header:vc,label:yc,weight:xc,button:wc},_c=()=>{const{t:e}=Se(),{control:t,register:r,clearErrors:n,setError:s,setValue:o,formState:{errors:i}}=xe(),{isOpen:a,optionIndex:c=0,questionIndex:u=0}=ie({control:t,name:"optionPopup",defaultValue:{isOpen:!1,optionIndex:0,questionIndex:0}}),d=ie({control:t,name:"scoringAlgorithm"}),m=ie({control:t,name:`questions.${u}.field`}),g=ie({control:t,name:"questionCategories"}),y=p.useDeferredValue(g),S=i?.questions?.[u]?.options?.[c]?.image?.message,v=()=>{o("optionPopup",{isOpen:!1,optionIndex:c,questionIndex:u})};return a?l.jsx(Qo,{isOpen:a,onClose:v,children:l.jsxs("div",{className:tr.popup,children:[l.jsxs("div",{className:tr.header,children:[l.jsx(Te,{className:tr.label,htmlFor:`option-field-${c}`,children:e("create_page.options.title",{value:c+1})}),d==="WEIGHTED_SCALE"&&l.jsxs("div",{className:tr.weight,children:[l.jsx("span",{children:""}),l.jsx(wn,{max:100,inputProps:{...r(`questions.${u}.options.${c}.weight`)}})]}),d==="STRICT_MATCH"&&l.jsx(Ge,{name:`questions.${u}.options.${c}.isCorrect`,control:t,render:({field:_})=>l.jsx(St,{active:_.value,onClick:()=>_.onChange(!_.value),label:e("create_page.options.right")})}),d==="PERSONALITY_TEST"&&y&&l.jsx(Ge,{name:`questions.${u}.options.${c}.category`,control:t,render:({field:_})=>l.jsx(yo,{value:_.value,onChange:_.onChange,options:y.map(T=>({label:T.text,value:T.id}))})})]}),m==="TEXT"&&l.jsx($r,{id:`option-field-${c}`,placeholder:e("create_page.options.placeholder"),...r(`questions.${u}.options.${c}.text`)}),m==="IMAGE"&&l.jsx(Ge,{name:`questions.${u}.options.${c}.image`,control:t,render:({field:_})=>l.jsx(Fn,{id:`option-field-${c}`,type:"question",clearError:()=>n(`questions.${u}.options.${c}.image`),setError:T=>s(`questions.${u}.options.${c}.image`,{message:T}),onChange:T=>_.onChange(T)})}),S&&l.jsx(de,{children:S}),l.jsx(Ae,{type:"button",className:tr.button,onClick:v,children:""})]})}):null};function Cc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const qr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $t(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Mn(e){return"nodeType"in e}function Fe(e){var t,r;return e?$t(e)?e:Mn(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function On(e){const{Document:t}=Fe(e);return e instanceof t}function mr(e){return $t(e)?!1:e instanceof Fe(e).HTMLElement}function xo(e){return e instanceof Fe(e).SVGElement}function qt(e){return e?$t(e)?e.document:Mn(e)?On(e)?e:mr(e)||xo(e)?e.ownerDocument:document:document:document}const ot=qr?p.useLayoutEffect:p.useEffect;function Vn(e){const t=p.useRef(e);return ot(()=>{t.current=e}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function kc(){const e=p.useRef(null),t=p.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function or(e,t){t===void 0&&(t=[e]);const r=p.useRef(e);return ot(()=>{r.current!==e&&(r.current=e)},t),r}function gr(e,t){const r=p.useRef();return p.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Dr(e){const t=Vn(e),r=p.useRef(null),n=p.useCallback(s=>{s!==r.current&&t?.(s,r.current),r.current=s},[]);return[r,n]}function _n(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let un={};function pr(e,t){return p.useMemo(()=>{if(t)return t;const r=un[e]==null?0:un[e]+1;return un[e]=r,e+"-"+r},[e,t])}function wo(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((o,i)=>{const a=Object.entries(i);for(const[c,u]of a){const d=o[c];d!=null&&(o[c]=d+e*u)}return o},{...t})}}const Vt=wo(1),ir=wo(-1);function Sc(e){return"clientX"in e&&"clientY"in e}function Ln(e){if(!e)return!1;const{KeyboardEvent:t}=Fe(e.target);return t&&e instanceof t}function Ec(e){if(!e)return!1;const{TouchEvent:t}=Fe(e.target);return t&&e instanceof t}function Cn(e){if(Ec(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Sc(e)?{x:e.clientX,y:e.clientY}:null}const ar=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[ar.Translate.toString(e),ar.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),ms="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function jc(e){return e.matches(ms)?e:e.querySelector(ms)}const Ac={display:"none"};function Rc(e){let{id:t,value:r}=e;return w.createElement("div",{id:t,style:Ac},r)}function Ic(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return w.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function Dc(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const _o=p.createContext(null);function Nc(e){const t=p.useContext(_o);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Tc(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:s,event:o}=n;e.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[e]),t]}const Fc={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Mc={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Oc(e){let{announcements:t=Mc,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=Fc}=e;const{announce:o,announcement:i}=Dc(),a=pr("DndLiveRegion"),[c,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),Nc(p.useMemo(()=>({onDragStart(m){let{active:g}=m;o(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:y}=m;t.onDragMove&&o(t.onDragMove({active:g,over:y}))},onDragOver(m){let{active:g,over:y}=m;o(t.onDragOver({active:g,over:y}))},onDragEnd(m){let{active:g,over:y}=m;o(t.onDragEnd({active:g,over:y}))},onDragCancel(m){let{active:g,over:y}=m;o(t.onDragCancel({active:g,over:y}))}}),[o,t])),!c)return null;const d=w.createElement(w.Fragment,null,w.createElement(Rc,{id:n,value:s.draggable}),w.createElement(Ic,{id:a,announcement:i}));return r?Tt.createPortal(d,r):d}var ge;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ge||(ge={}));function Nr(){}function dn(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Vc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Je=Object.freeze({x:0,y:0});function Co(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ko(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function Lc(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function gs(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function So(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function ps(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const Pc=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=ps(t,t.left,t.top),o=[];for(const i of n){const{id:a}=i,c=r.get(a);if(c){const u=Co(ps(c),s);o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(ko)},zc=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=gs(t),o=[];for(const i of n){const{id:a}=i,c=r.get(a);if(c){const u=gs(c),d=s.reduce((g,y,S)=>g+Co(u[S],y),0),m=Number((d/4).toFixed(4));o.push({id:a,data:{droppableContainer:i,value:m}})}}return o.sort(ko)};function $c(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-n,a=o-r;if(n<s&&r<o){const c=t.width*t.height,u=e.width*e.height,d=i*a,m=d/(c+u-d);return Number(m.toFixed(4))}return 0}const qc=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=[];for(const o of n){const{id:i}=o,a=r.get(i);if(a){const c=$c(a,t);c>0&&s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(Lc)};function Bc(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Eo(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Je}function Uc(e){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...r})}}const Hc=Uc(1);function Wc(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Gc(e,t,r){const n=Wc(t);if(!n)return e;const{scaleX:s,scaleY:o,x:i,y:a}=n,c=e.left-i-(1-s)*parseFloat(r),u=e.top-a-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),d=s?e.width/s:e.width,m=o?e.height/o:e.height;return{width:d,height:m,top:u,right:c+d,bottom:u+m,left:c}}const Yc={ignoreTransform:!1};function Bt(e,t){t===void 0&&(t=Yc);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Fe(e).getComputedStyle(e);u&&(r=Gc(r,u,d))}const{top:n,left:s,width:o,height:i,bottom:a,right:c}=r;return{top:n,left:s,width:o,height:i,bottom:a,right:c}}function hs(e){return Bt(e,{ignoreTransform:!0})}function Qc(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Xc(e,t){return t===void 0&&(t=Fe(e).getComputedStyle(e)),t.position==="fixed"}function Kc(e,t){t===void 0&&(t=Fe(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?r.test(o):!1})}function Br(e,t){const r=[];function n(s){if(t!=null&&r.length>=t||!s)return r;if(On(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!mr(s)||xo(s)||r.includes(s))return r;const o=Fe(e).getComputedStyle(s);return s!==e&&Kc(s,o)&&r.push(s),Xc(s,o)?r:n(s.parentNode)}return e?n(e):r}function jo(e){const[t]=Br(e,1);return t??null}function fn(e){return!qr||!e?null:$t(e)?e:Mn(e)?On(e)||e===qt(e).scrollingElement?window:mr(e)?e:null:null}function Ao(e){return $t(e)?e.scrollX:e.scrollLeft}function Ro(e){return $t(e)?e.scrollY:e.scrollTop}function kn(e){return{x:Ao(e),y:Ro(e)}}var ye;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ye||(ye={}));function Io(e){return!qr||!e?!1:e===document.scrollingElement}function Do(e){const t={x:0,y:0},r=Io(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:n,minScroll:t}}const Jc={x:.2,y:.2};function Zc(e,t,r,n,s){let{top:o,left:i,right:a,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=Jc);const{isTop:u,isBottom:d,isLeft:m,isRight:g}=Do(e),y={x:0,y:0},S={x:0,y:0},v={height:t.height*s.y,width:t.width*s.x};return!u&&o<=t.top+v.height?(y.y=ye.Backward,S.y=n*Math.abs((t.top+v.height-o)/v.height)):!d&&c>=t.bottom-v.height&&(y.y=ye.Forward,S.y=n*Math.abs((t.bottom-v.height-c)/v.height)),!g&&a>=t.right-v.width?(y.x=ye.Forward,S.x=n*Math.abs((t.right-v.width-a)/v.width)):!m&&i<=t.left+v.width&&(y.x=ye.Backward,S.x=n*Math.abs((t.left+v.width-i)/v.width)),{direction:y,speed:S}}function eu(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function No(e){return e.reduce((t,r)=>Vt(t,kn(r)),Je)}function tu(e){return e.reduce((t,r)=>t+Ao(r),0)}function ru(e){return e.reduce((t,r)=>t+Ro(r),0)}function nu(e,t){if(t===void 0&&(t=Bt),!e)return;const{top:r,left:n,bottom:s,right:o}=t(e);jo(e)&&(s<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const su=[["x",["left","right"],tu],["y",["top","bottom"],ru]];class Pn{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Br(r),s=No(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,a]of su)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=a(n),d=s[o]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class rr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var s;(s=this.target)==null||s.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function ou(e){const{EventTarget:t}=Fe(e);return e instanceof t?e:qt(e)}function mn(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var He;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(He||(He={}));function bs(e){e.preventDefault()}function iu(e){e.stopPropagation()}var G;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(G||(G={}));const To={start:[G.Space,G.Enter],cancel:[G.Esc],end:[G.Space,G.Enter,G.Tab]},au=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case G.Right:return{...r,x:r.x+25};case G.Left:return{...r,x:r.x-25};case G.Down:return{...r,y:r.y+25};case G.Up:return{...r,y:r.y-25}}};class zn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new rr(qt(r)),this.windowListeners=new rr(Fe(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(He.Resize,this.handleCancel),this.windowListeners.add(He.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(He.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&nu(n),r(Je)}handleKeyDown(t){if(Ln(t)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:o=To,coordinateGetter:i=au,scrollBehavior:a="smooth"}=s,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:Je;this.referenceCoordinates||(this.referenceCoordinates=d);const m=i(t,{active:r,context:n.current,currentCoordinates:d});if(m){const g=ir(m,d),y={x:0,y:0},{scrollableAncestors:S}=n.current;for(const v of S){const _=t.code,{isTop:T,isRight:k,isLeft:R,isBottom:x,maxScroll:C,minScroll:A}=Do(v),N=eu(v),E={x:Math.min(_===G.Right?N.right-N.width/2:N.right,Math.max(_===G.Right?N.left:N.left+N.width/2,m.x)),y:Math.min(_===G.Down?N.bottom-N.height/2:N.bottom,Math.max(_===G.Down?N.top:N.top+N.height/2,m.y))},P=_===G.Right&&!k||_===G.Left&&!R,X=_===G.Down&&!x||_===G.Up&&!T;if(P&&E.x!==m.x){const B=v.scrollLeft+g.x,z=_===G.Right&&B<=C.x||_===G.Left&&B>=A.x;if(z&&!g.y){v.scrollTo({left:B,behavior:a});return}z?y.x=v.scrollLeft-B:y.x=_===G.Right?v.scrollLeft-C.x:v.scrollLeft-A.x,y.x&&v.scrollBy({left:-y.x,behavior:a});break}else if(X&&E.y!==m.y){const B=v.scrollTop+g.y,z=_===G.Down&&B<=C.y||_===G.Up&&B>=A.y;if(z&&!g.x){v.scrollTo({top:B,behavior:a});return}z?y.y=v.scrollTop-B:y.y=_===G.Down?v.scrollTop-C.y:v.scrollTop-A.y,y.y&&v.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(t,Vt(ir(m,this.referenceCoordinates),y))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}zn.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=To,onActivation:s}=t,{active:o}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function vs(e){return!!(e&&"distance"in e)}function ys(e){return!!(e&&"delay"in e)}class $n{constructor(t,r,n){var s;n===void 0&&(n=ou(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:o}=t,{target:i}=o;this.props=t,this.events=r,this.document=qt(i),this.documentListeners=new rr(this.document),this.listeners=new rr(n),this.windowListeners=new rr(Fe(i)),this.initialCoordinates=(s=Cn(o))!=null?s:Je,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(He.Resize,this.handleCancel),this.windowListeners.add(He.DragStart,bs),this.windowListeners.add(He.VisibilityChange,this.handleCancel),this.windowListeners.add(He.ContextMenu,bs),this.documentListeners.add(He.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ys(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(vs(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(He.Click,iu,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(He.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const c=(r=Cn(t))!=null?r:Je,u=ir(s,c);if(!n&&a){if(vs(a)){if(a.tolerance!=null&&mn(u,a.tolerance))return this.handleCancel();if(mn(u,a.distance))return this.handleStart()}if(ys(a)&&mn(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===G.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const lu={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qn extends $n{constructor(t){const{event:r}=t,n=qt(r.target);super(t,lu,n)}}qn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const cu={move:{name:"mousemove"},end:{name:"mouseup"}};var Sn;(function(e){e[e.RightClick=2]="RightClick"})(Sn||(Sn={}));class uu extends $n{constructor(t){super(t,cu,qt(t.event.target))}}uu.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Sn.RightClick?!1:(n?.({event:r}),!0)}}];const gn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Fo extends $n{constructor(t){super(t,gn)}static setup(){return window.addEventListener(gn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(gn.move.name,t)};function t(){}}}Fo.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:s}=r;return s.length>1?!1:(n?.({event:r}),!0)}}];var nr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(nr||(nr={}));var Tr;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Tr||(Tr={}));function du(e){let{acceleration:t,activator:r=nr.Pointer,canScroll:n,draggingRect:s,enabled:o,interval:i=5,order:a=Tr.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:m,threshold:g}=e;const y=mu({delta:m,disabled:!o}),[S,v]=kc(),_=p.useRef({x:0,y:0}),T=p.useRef({x:0,y:0}),k=p.useMemo(()=>{switch(r){case nr.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case nr.DraggableRect:return s}},[r,s,c]),R=p.useRef(null),x=p.useCallback(()=>{const A=R.current;if(!A)return;const N=_.current.x*T.current.x,E=_.current.y*T.current.y;A.scrollBy(N,E)},[]),C=p.useMemo(()=>a===Tr.TreeOrder?[...u].reverse():u,[a,u]);p.useEffect(()=>{if(!o||!u.length||!k){v();return}for(const A of C){if(n?.(A)===!1)continue;const N=u.indexOf(A),E=d[N];if(!E)continue;const{direction:P,speed:X}=Zc(A,E,k,t,g);for(const B of["x","y"])y[B][P[B]]||(X[B]=0,P[B]=0);if(X.x>0||X.y>0){v(),R.current=A,S(x,i),_.current=X,T.current=P;return}}_.current={x:0,y:0},T.current={x:0,y:0},v()},[t,x,n,v,o,i,JSON.stringify(k),JSON.stringify(y),S,u,C,d,JSON.stringify(g)])}const fu={x:{[ye.Backward]:!1,[ye.Forward]:!1},y:{[ye.Backward]:!1,[ye.Forward]:!1}};function mu(e){let{delta:t,disabled:r}=e;const n=_n(t);return gr(s=>{if(r||!n||!s)return fu;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[ye.Backward]:s.x[ye.Backward]||o.x===-1,[ye.Forward]:s.x[ye.Forward]||o.x===1},y:{[ye.Backward]:s.y[ye.Backward]||o.y===-1,[ye.Forward]:s.y[ye.Forward]||o.y===1}}},[r,t,n])}function gu(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return gr(s=>{var o;return t==null?null:(o=n??s)!=null?o:null},[n,t])}function pu(e,t){return p.useMemo(()=>e.reduce((r,n)=>{const{sensor:s}=n,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,n)}));return[...r,...o]},[]),[e,t])}var lr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(lr||(lr={}));var En;(function(e){e.Optimized="optimized"})(En||(En={}));const xs=new Map;function hu(e,t){let{dragging:r,dependencies:n,config:s}=t;const[o,i]=p.useState(null),{frequency:a,measure:c,strategy:u}=s,d=p.useRef(e),m=_(),g=or(m),y=p.useCallback(function(T){T===void 0&&(T=[]),!g.current&&i(k=>k===null?T:k.concat(T.filter(R=>!k.includes(R))))},[g]),S=p.useRef(null),v=gr(T=>{if(m&&!r)return xs;if(!T||T===xs||d.current!==e||o!=null){const k=new Map;for(let R of e){if(!R)continue;if(o&&o.length>0&&!o.includes(R.id)&&R.rect.current){k.set(R.id,R.rect.current);continue}const x=R.node.current,C=x?new Pn(c(x),x):null;R.rect.current=C,C&&k.set(R.id,C)}return k}return T},[e,o,r,m,c]);return p.useEffect(()=>{d.current=e},[e]),p.useEffect(()=>{m||y()},[r,m]),p.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),p.useEffect(()=>{m||typeof a!="number"||S.current!==null||(S.current=setTimeout(()=>{y(),S.current=null},a))},[a,m,y,...n]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:o!=null};function _(){switch(u){case lr.Always:return!1;case lr.BeforeDragging:return r;default:return!r}}}function Mo(e,t){return gr(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function bu(e,t){return Mo(e,t)}function vu(e){let{callback:t,disabled:r}=e;const n=Vn(t),s=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return p.useEffect(()=>()=>s?.disconnect(),[s]),s}function Ur(e){let{callback:t,disabled:r}=e;const n=Vn(t),s=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return p.useEffect(()=>()=>s?.disconnect(),[s]),s}function yu(e){return new Pn(Bt(e),e)}function ws(e,t,r){t===void 0&&(t=yu);const[n,s]=p.useState(null);function o(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=vu({callback(c){if(e)for(const u of c){const{type:d,target:m}=u;if(d==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),a=Ur({callback:o});return ot(()=>{o(),e?(a?.observe(e),i?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),i?.disconnect())},[e]),n}function xu(e){const t=Mo(e);return Eo(e,t)}const _s=[];function wu(e){const t=p.useRef(e),r=gr(n=>e?n&&n!==_s&&e&&t.current&&e.parentNode===t.current.parentNode?n:Br(e):_s,[e]);return p.useEffect(()=>{t.current=e},[e]),r}function _u(e){const[t,r]=p.useState(null),n=p.useRef(e),s=p.useCallback(o=>{const i=fn(o.target);i&&r(a=>a?(a.set(i,kn(i)),new Map(a)):null)},[]);return p.useEffect(()=>{const o=n.current;if(e!==o){i(o);const a=e.map(c=>{const u=fn(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,kn(u)]):null}).filter(c=>c!=null);r(a.length?new Map(a):null),n.current=e}return()=>{i(e),i(o)};function i(a){a.forEach(c=>{const u=fn(c);u?.removeEventListener("scroll",s)})}},[s,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>Vt(o,i),Je):No(e):Je,[e,t])}function Cs(e,t){t===void 0&&(t=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},t),p.useEffect(()=>{const n=e!==Je;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?ir(e,r.current):Je}function Cu(e){p.useEffect(()=>{if(!qr)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function ku(e,t){return p.useMemo(()=>e.reduce((r,n)=>{let{eventName:s,handler:o}=n;return r[s]=i=>{o(i,t)},r},{}),[e,t])}function Oo(e){return p.useMemo(()=>e?Qc(e):null,[e])}const ks=[];function Su(e,t){t===void 0&&(t=Bt);const[r]=e,n=Oo(r?Fe(r):null),[s,o]=p.useState(ks);function i(){o(()=>e.length?e.map(c=>Io(c)?n:new Pn(t(c),c)):ks)}const a=Ur({callback:i});return ot(()=>{a?.disconnect(),i(),e.forEach(c=>a?.observe(c))},[e]),s}function Eu(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return mr(t)?t:e}function ju(e){let{measure:t}=e;const[r,n]=p.useState(null),s=p.useCallback(u=>{for(const{target:d}of u)if(mr(d)){n(m=>{const g=t(d);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),o=Ur({callback:s}),i=p.useCallback(u=>{const d=Eu(u);o?.disconnect(),d&&o?.observe(d),n(d?t(d):null)},[t,o]),[a,c]=Dr(i);return p.useMemo(()=>({nodeRef:a,rect:r,setRef:c}),[r,a,c])}const Au=[{sensor:qn,options:{}},{sensor:zn,options:{}}],Ru={current:{}},Sr={draggable:{measure:hs},droppable:{measure:hs,strategy:lr.WhileDragging,frequency:En.Optimized},dragOverlay:{measure:Bt}};class sr extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Iu={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new sr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Nr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Sr,measureDroppableContainers:Nr,windowRect:null,measuringScheduled:!1},Du={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Nr,draggableNodes:new Map,over:null,measureDroppableContainers:Nr},Hr=p.createContext(Du),Vo=p.createContext(Iu);function Nu(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new sr}}}function Tu(e,t){switch(t.type){case ge.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ge.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ge.DragEnd:case ge.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ge.RegisterDroppable:{const{element:r}=t,{id:n}=r,s=new sr(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case ge.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const i=new sr(e.droppable.containers);return i.set(r,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case ge.UnregisterDroppable:{const{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const o=new sr(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Fu(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=p.useContext(Hr),o=_n(n),i=_n(r?.id);return p.useEffect(()=>{if(!t&&!n&&o&&i!=null){if(!Ln(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const m=jc(d);if(m){m.focus();break}}})}},[n,t,s,i,o]),null}function Mu(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...n}),r):r}function Ou(e){return p.useMemo(()=>({draggable:{...Sr.draggable,...e?.draggable},droppable:{...Sr.droppable,...e?.droppable},dragOverlay:{...Sr.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Vu(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const o=p.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;ot(()=>{if(!i&&!a||!t){o.current=!1;return}if(o.current||!n)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const d=r(u),m=Eo(d,n);if(i||(m.x=0),a||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=jo(u);g&&g.scrollBy({top:m.y,left:m.x})}},[t,i,a,n,r])}const Lo=p.createContext({...Je,scaleX:1,scaleY:1});var yt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(yt||(yt={}));const Lu=p.memo(function(t){var r,n,s,o;let{id:i,accessibility:a,autoScroll:c=!0,children:u,sensors:d=Au,collisionDetection:m=qc,measuring:g,modifiers:y,...S}=t;const v=p.useReducer(Tu,void 0,Nu),[_,T]=v,[k,R]=Tc(),[x,C]=p.useState(yt.Uninitialized),A=x===yt.Initialized,{draggable:{active:N,nodes:E,translate:P},droppable:{containers:X}}=_,B=N!=null?E.get(N):null,z=p.useRef({initial:null,translated:null}),$=p.useMemo(()=>{var Ee;return N!=null?{id:N,data:(Ee=B?.data)!=null?Ee:Ru,rect:z}:null},[N,B]),H=p.useRef(null),[J,K]=p.useState(null),[Q,V]=p.useState(null),fe=or(S,Object.values(S)),Me=pr("DndDescribedBy",i),et=p.useMemo(()=>X.getEnabled(),[X]),le=Ou(g),{droppableRects:Z,measureDroppableContainers:se,measuringScheduled:Oe}=hu(et,{dragging:A,dependencies:[P.x,P.y],config:le.droppable}),we=gu(E,N),te=p.useMemo(()=>Q?Cn(Q):null,[Q]),Re=Wo(),he=bu(we,le.draggable.measure);Vu({activeNode:N!=null?E.get(N):null,config:Re.layoutShiftCompensation,initialRect:he,measure:le.draggable.measure});const U=ws(we,le.draggable.measure,he),Qe=ws(we?we.parentElement:null),be=p.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:X,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),dt=X.getNodeFor((r=be.current.over)==null?void 0:r.id),Be=ju({measure:le.dragOverlay.measure}),it=(n=Be.nodeRef.current)!=null?n:we,ft=A?(s=Be.rect)!=null?s:U:null,hr=!!(Be.nodeRef.current&&Be.rect),Wr=xu(hr?null:U),At=Oo(it?Fe(it):null),f=wu(A?dt??we:null),h=Su(f),b=Mu(y,{transform:{x:P.x-Wr.x,y:P.y-Wr.y,scaleX:1,scaleY:1},activatorEvent:Q,active:$,activeNodeRect:U,containerNodeRect:Qe,draggingNodeRect:ft,over:be.current.over,overlayNodeRect:Be.rect,scrollableAncestors:f,scrollableAncestorRects:h,windowRect:At}),F=te?Vt(te,P):null,I=_u(f),j=Cs(I),L=Cs(I,[U]),W=Vt(b,j),Y=ft?Hc(ft,b):null,ve=$&&Y?m({active:$,collisionRect:Y,droppableRects:Z,droppableContainers:et,pointerCoordinates:F}):null,wt=So(ve,"id"),[_e,br]=p.useState(null),Ut=hr?b:Vt(b,L),Ht=Bc(Ut,(o=_e?.rect)!=null?o:null,U),Wt=p.useRef(null),Gt=p.useCallback((Ee,Ve)=>{let{sensor:Le,options:mt}=Ve;if(H.current==null)return;const Ue=E.get(H.current);if(!Ue)return;const Pe=Ee.nativeEvent,tt=new Le({active:H.current,activeNode:Ue,event:Pe,options:mt,context:be,onAbort(Ce){if(!E.get(Ce))return;const{onDragAbort:rt}=fe.current,at={id:Ce};rt?.(at),k({type:"onDragAbort",event:at})},onPending(Ce,gt,rt,at){if(!E.get(Ce))return;const{onDragPending:Xt}=fe.current,pt={id:Ce,constraint:gt,initialCoordinates:rt,offset:at};Xt?.(pt),k({type:"onDragPending",event:pt})},onStart(Ce){const gt=H.current;if(gt==null)return;const rt=E.get(gt);if(!rt)return;const{onDragStart:at}=fe.current,Qt={activatorEvent:Pe,active:{id:gt,data:rt.data,rect:z}};Tt.unstable_batchedUpdates(()=>{at?.(Qt),C(yt.Initializing),T({type:ge.DragStart,initialCoordinates:Ce,active:gt}),k({type:"onDragStart",event:Qt}),K(Wt.current),V(Pe)})},onMove(Ce){T({type:ge.DragMove,coordinates:Ce})},onEnd:Rt(ge.DragEnd),onCancel:Rt(ge.DragCancel)});Wt.current=tt;function Rt(Ce){return async function(){const{active:rt,collisions:at,over:Qt,scrollAdjustedTranslate:Xt}=be.current;let pt=null;if(rt&&Xt){const{cancelDrop:Kt}=fe.current;pt={activatorEvent:Pe,active:rt,collisions:at,delta:Xt,over:Qt},Ce===ge.DragEnd&&typeof Kt=="function"&&await Promise.resolve(Kt(pt))&&(Ce=ge.DragCancel)}H.current=null,Tt.unstable_batchedUpdates(()=>{T({type:Ce}),C(yt.Uninitialized),br(null),K(null),V(null),Wt.current=null;const Kt=Ce===ge.DragEnd?"onDragEnd":"onDragCancel";if(pt){const Yr=fe.current[Kt];Yr?.(pt),k({type:Kt,event:pt})}})}}},[E]),Gr=p.useCallback((Ee,Ve)=>(Le,mt)=>{const Ue=Le.nativeEvent,Pe=E.get(mt);if(H.current!==null||!Pe||Ue.dndKit||Ue.defaultPrevented)return;const tt={active:Pe};Ee(Le,Ve.options,tt)===!0&&(Ue.dndKit={capturedBy:Ve.sensor},H.current=mt,Gt(Le,Ve))},[E,Gt]),Yt=pu(d,Gr);Cu(d),ot(()=>{U&&x===yt.Initializing&&C(yt.Initialized)},[U,x]),p.useEffect(()=>{const{onDragMove:Ee}=fe.current,{active:Ve,activatorEvent:Le,collisions:mt,over:Ue}=be.current;if(!Ve||!Le)return;const Pe={active:Ve,activatorEvent:Le,collisions:mt,delta:{x:W.x,y:W.y},over:Ue};Tt.unstable_batchedUpdates(()=>{Ee?.(Pe),k({type:"onDragMove",event:Pe})})},[W.x,W.y]),p.useEffect(()=>{const{active:Ee,activatorEvent:Ve,collisions:Le,droppableContainers:mt,scrollAdjustedTranslate:Ue}=be.current;if(!Ee||H.current==null||!Ve||!Ue)return;const{onDragOver:Pe}=fe.current,tt=mt.get(wt),Rt=tt&&tt.rect.current?{id:tt.id,rect:tt.rect.current,data:tt.data,disabled:tt.disabled}:null,Ce={active:Ee,activatorEvent:Ve,collisions:Le,delta:{x:Ue.x,y:Ue.y},over:Rt};Tt.unstable_batchedUpdates(()=>{br(Rt),Pe?.(Ce),k({type:"onDragOver",event:Ce})})},[wt]),ot(()=>{be.current={activatorEvent:Q,active:$,activeNode:we,collisionRect:Y,collisions:ve,droppableRects:Z,draggableNodes:E,draggingNode:it,draggingNodeRect:ft,droppableContainers:X,over:_e,scrollableAncestors:f,scrollAdjustedTranslate:W},z.current={initial:ft,translated:Y}},[$,we,ve,Y,E,it,ft,Z,X,_e,f,W]),du({...Re,delta:P,draggingRect:Y,pointerCoordinates:F,scrollableAncestors:f,scrollableAncestorRects:h});const Uo=p.useMemo(()=>({active:$,activeNode:we,activeNodeRect:U,activatorEvent:Q,collisions:ve,containerNodeRect:Qe,dragOverlay:Be,draggableNodes:E,droppableContainers:X,droppableRects:Z,over:_e,measureDroppableContainers:se,scrollableAncestors:f,scrollableAncestorRects:h,measuringConfiguration:le,measuringScheduled:Oe,windowRect:At}),[$,we,U,Q,ve,Qe,Be,E,X,Z,_e,se,f,h,le,Oe,At]),Ho=p.useMemo(()=>({activatorEvent:Q,activators:Yt,active:$,activeNodeRect:U,ariaDescribedById:{draggable:Me},dispatch:T,draggableNodes:E,over:_e,measureDroppableContainers:se}),[Q,Yt,$,U,T,Me,E,_e,se]);return w.createElement(_o.Provider,{value:R},w.createElement(Hr.Provider,{value:Ho},w.createElement(Vo.Provider,{value:Uo},w.createElement(Lo.Provider,{value:Ht},u)),w.createElement(Fu,{disabled:a?.restoreFocus===!1})),w.createElement(Oc,{...a,hiddenTextDescribedById:Me}));function Wo(){const Ee=J?.autoScrollEnabled===!1,Ve=typeof c=="object"?c.enabled===!1:c===!1,Le=A&&!Ee&&!Ve;return typeof c=="object"?{...c,enabled:Le}:{enabled:Le}}}),Pu=p.createContext(null),Ss="button",zu="Draggable";function $u(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const o=pr(zu),{activators:i,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:m,over:g}=p.useContext(Hr),{role:y=Ss,roleDescription:S="draggable",tabIndex:v=0}=s??{},_=c?.id===t,T=p.useContext(_?Lo:Pu),[k,R]=Dr(),[x,C]=Dr(),A=ku(i,t),N=or(r);ot(()=>(m.set(t,{id:t,key:o,node:k,activatorNode:x,data:N}),()=>{const P=m.get(t);P&&P.key===o&&m.delete(t)}),[m,t]);const E=p.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":n,"aria-pressed":_&&y===Ss?!0:void 0,"aria-roledescription":S,"aria-describedby":d.draggable}),[n,y,v,_,S,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:E,isDragging:_,listeners:n?void 0:A,node:k,over:g,setNodeRef:R,setActivatorNodeRef:C,transform:T}}function qu(){return p.useContext(Vo)}const Bu="Droppable",Uu={timeout:25};function Hu(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const o=pr(Bu),{active:i,dispatch:a,over:c,measureDroppableContainers:u}=p.useContext(Hr),d=p.useRef({disabled:r}),m=p.useRef(!1),g=p.useRef(null),y=p.useRef(null),{disabled:S,updateMeasurementsFor:v,timeout:_}={...Uu,...s},T=or(v??n),k=p.useCallback(()=>{if(!m.current){m.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(T.current)?T.current:[T.current]),y.current=null},_)},[_]),R=Ur({callback:k,disabled:S||!i}),x=p.useCallback((E,P)=>{R&&(P&&(R.unobserve(P),m.current=!1),E&&R.observe(E))},[R]),[C,A]=Dr(x),N=or(t);return p.useEffect(()=>{!R||!C.current||(R.disconnect(),m.current=!1,R.observe(C.current))},[C,R]),p.useEffect(()=>(a({type:ge.RegisterDroppable,element:{id:n,key:o,disabled:r,node:C,rect:g,data:N}}),()=>a({type:ge.UnregisterDroppable,key:o,id:n})),[n]),p.useEffect(()=>{r!==d.current.disabled&&(a({type:ge.SetDroppableDisabled,id:n,key:o,disabled:r}),d.current.disabled=r)},[n,o,r,a]),{active:i,rect:g,isOver:c?.id===n,node:C,over:c,setNodeRef:A}}function Bn(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Wu(e,t){return e.reduce((r,n,s)=>{const o=t.get(n);return o&&(r[s]=o),r},Array(e.length))}function wr(e){return e!==null&&e>=0}function Gu(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Yu(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Po=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e;const o=Bn(t,n,r),i=t[s],a=o[s];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},_r={scaleX:1,scaleY:1},Qu=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:s,rects:o,overIndex:i}=e;const a=(t=o[r])!=null?t:n;if(!a)return null;if(s===r){const u=o[i];return u?{x:0,y:r<i?u.top+u.height-(a.top+a.height):u.top-a.top,..._r}:null}const c=Xu(o,s,r);return s>r&&s<=i?{x:0,y:-a.height-c,..._r}:s<r&&s>=i?{x:0,y:a.height+c,..._r}:{x:0,y:0,..._r}};function Xu(e,t,r){const n=e[t],s=e[t-1],o=e[t+1];return n?r<t?s?n.top-(s.top+s.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const zo="Sortable",$o=w.createContext({activeIndex:-1,containerId:zo,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Po,disabled:{draggable:!1,droppable:!1}});function Ku(e){let{children:t,id:r,items:n,strategy:s=Po,disabled:o=!1}=e;const{active:i,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=qu(),m=pr(zo,r),g=a.rect!==null,y=p.useMemo(()=>n.map(A=>typeof A=="object"&&"id"in A?A.id:A),[n]),S=i!=null,v=i?y.indexOf(i.id):-1,_=u?y.indexOf(u.id):-1,T=p.useRef(y),k=!Gu(y,T.current),R=_!==-1&&v===-1||k,x=Yu(o);ot(()=>{k&&S&&d(y)},[k,y,S,d]),p.useEffect(()=>{T.current=y},[y]);const C=p.useMemo(()=>({activeIndex:v,containerId:m,disabled:x,disableTransforms:R,items:y,overIndex:_,useDragOverlay:g,sortedRects:Wu(y,c),strategy:s}),[v,m,x.draggable,x.droppable,R,y,_,c,g,s]);return w.createElement($o.Provider,{value:C},t)}const Ju=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return Bn(r,n,s).indexOf(t)},Zu=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:o,newIndex:i,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!n||a!==o&&s===i?!1:r?!0:i!==s&&t===c},ed={duration:200,easing:"ease"},qo="transform",td=ar.Transition.toString({property:qo,duration:0,easing:"linear"}),rd={roleDescription:"sortable"};function nd(e){let{disabled:t,index:r,node:n,rect:s}=e;const[o,i]=p.useState(null),a=p.useRef(r);return ot(()=>{if(!t&&r!==a.current&&n.current){const c=s.current;if(c){const u=Bt(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}r!==a.current&&(a.current=r)},[t,r,n,s]),p.useEffect(()=>{o&&i(null)},[o]),o}function sd(e){let{animateLayoutChanges:t=Zu,attributes:r,disabled:n,data:s,getNewIndex:o=Ju,id:i,strategy:a,resizeObserverConfig:c,transition:u=ed}=e;const{items:d,containerId:m,activeIndex:g,disabled:y,disableTransforms:S,sortedRects:v,overIndex:_,useDragOverlay:T,strategy:k}=p.useContext($o),R=od(n,y),x=d.indexOf(i),C=p.useMemo(()=>({sortable:{containerId:m,index:x,items:d},...s}),[m,s,x,d]),A=p.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:N,node:E,isOver:P,setNodeRef:X}=Hu({id:i,data:C,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:B,activatorEvent:z,activeNodeRect:$,attributes:H,setNodeRef:J,listeners:K,isDragging:Q,over:V,setActivatorNodeRef:fe,transform:Me}=$u({id:i,data:C,attributes:{...rd,...r},disabled:R.draggable}),et=Cc(X,J),le=!!B,Z=le&&!S&&wr(g)&&wr(_),se=!T&&Q,Oe=se&&Z?Me:null,te=Z?Oe??(a??k)({rects:v,activeNodeRect:$,activeIndex:g,overIndex:_,index:x}):null,Re=wr(g)&&wr(_)?o({id:i,items:d,activeIndex:g,overIndex:_}):x,he=B?.id,U=p.useRef({activeId:he,items:d,newIndex:Re,containerId:m}),Qe=d!==U.current.items,be=t({active:B,containerId:m,isDragging:Q,isSorting:le,id:i,index:x,items:d,newIndex:U.current.newIndex,previousItems:U.current.items,previousContainerId:U.current.containerId,transition:u,wasDragging:U.current.activeId!=null}),dt=nd({disabled:!be,index:x,node:E,rect:N});return p.useEffect(()=>{le&&U.current.newIndex!==Re&&(U.current.newIndex=Re),m!==U.current.containerId&&(U.current.containerId=m),d!==U.current.items&&(U.current.items=d)},[le,Re,m,d]),p.useEffect(()=>{if(he===U.current.activeId)return;if(he!=null&&U.current.activeId==null){U.current.activeId=he;return}const it=setTimeout(()=>{U.current.activeId=he},50);return()=>clearTimeout(it)},[he]),{active:B,activeIndex:g,attributes:H,data:C,rect:N,index:x,newIndex:Re,items:d,isOver:P,isSorting:le,isDragging:Q,listeners:K,node:E,overIndex:_,over:V,setNodeRef:et,setActivatorNodeRef:fe,setDroppableNodeRef:X,setDraggableNodeRef:J,transform:dt??te,transition:Be()};function Be(){if(dt||Qe&&U.current.newIndex===x)return td;if(!(se&&!Ln(z)||!u)&&(le||be))return ar.Transition.toString({...u,property:qo})}}function od(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function Fr(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const id=[G.Down,G.Right,G.Up,G.Left],ad=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:o,over:i,scrollableAncestors:a}}=t;if(id.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];o.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=s.get(m.id);if(g)switch(e.code){case G.Down:n.top<g.top&&c.push(m);break;case G.Up:n.top>g.top&&c.push(m);break;case G.Left:n.left>g.left&&c.push(m);break;case G.Right:n.left<g.left&&c.push(m);break}});const u=zc({collisionRect:n,droppableRects:s,droppableContainers:c});let d=So(u,"id");if(d===i?.id&&u.length>1&&(d=u[1].id),d!=null){const m=o.get(r.id),g=o.get(d),y=g?s.get(g.id):null,S=g?.node.current;if(S&&y&&m&&g){const _=Br(S).some((A,N)=>a[N]!==A),T=Bo(m,g),k=ld(m,g),R=_||!T?{x:0,y:0}:{x:k?n.width-y.width:0,y:k?n.height-y.height:0},x={x:y.left,y:y.top};return R.x&&R.y?x:ir(x,R)}}}};function Bo(e,t){return!Fr(e)||!Fr(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function ld(e,t){return!Fr(e)||!Fr(t)||!Bo(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const cd=({items:e,render:t,move:r,setItems:n})=>{const s=Vc(dn(qn),dn(Fo),dn(zn,{coordinateGetter:ad})),o=({active:i,over:a})=>{if(i.id!==a.id){const c=e.findIndex(d=>d.id===i.id),u=e.findIndex(d=>d.id===a.id);if(r)return r(c,u);n&&n(d=>Bn(d,c,u))}};return l.jsx(Lu,{sensors:s,collisionDetection:Pc,onDragEnd:o,children:l.jsx(Ku,{items:e,strategy:Qu,children:e.map((i,a)=>l.jsx(ud,{id:i.id,render:c=>t({item:i,index:a,listeners:c})},i.id))})})},ud=({id:e,render:t})=>{const{attributes:r,listeners:n,setNodeRef:s,transform:o,transition:i}=sd({id:e}),a={transform:ar.Transform.toString(o),transition:i};return l.jsx("div",{ref:s,style:a,...r,children:t(n)})},dd="_item_s21ug_3",fd="_itemStrict_s21ug_10",md="_itemCorrect_s21ug_14",gd="_itemHeaderText_s21ug_18",pd="_itemGrab_s21ug_24",hd="_itemHeader_s21ug_18",bd="_actions_s21ug_49",vd="_itemNumber_s21ug_54",yd="_itemRight_s21ug_59",xd="_itemLabel_s21ug_66",wd="_itemText_s21ug_74",_d="_itemImage_s21ug_79",ze={item:dd,itemStrict:fd,itemCorrect:md,itemHeaderText:gd,itemGrab:pd,itemHeader:hd,actions:bd,itemNumber:vd,itemRight:yd,itemLabel:xd,itemText:wd,itemImage:_d},Cd=(e,t)=>t&&e&&t.includes(e)?kr(t):e?kr("uploads/temp",e):t?kr(t):null,kd=p.memo(({index:e,questionIndex:t,editOption:r,removeOption:n,dragListeners:s,onTouchDrag:o,imageError:i,textError:a,fieldType:c,questionCategories:u,scoringAlgorithm:d})=>{const{t:m}=Se(),g=ie({name:`questions.${t}.options.${e}`}),y=Cd(g.image,g.loadedImg),S=u?.length?u.find(v=>v.id===g?.category):null;return l.jsxs("div",{className:ut(ze.item,d==="STRICT_MATCH"&&ze.itemStrict,d==="STRICT_MATCH"&&g.isCorrect&&ze.itemCorrect),children:[l.jsxs("div",{className:ze.itemHeader,children:[l.jsxs("div",{className:ze.itemHeaderText,children:[l.jsx("button",{className:ze.itemGrab,...s,onTouchStart:()=>o(!0),onTouchEnd:()=>o(!1),type:"button",children:l.jsx(ai,{})}),l.jsx("p",{className:ze.itemNumber,children:e+1}),d==="STRICT_MATCH"&&g.isCorrect&&l.jsx("span",{className:ze.itemRight,children:m("create_page.options.right")}),d==="WEIGHTED_SCALE"&&l.jsxs("p",{className:ze.itemLabel,children:[": ",g.weight]}),d==="PERSONALITY_TEST"&&S&&l.jsx("p",{className:ze.itemLabel,children:S.text})]}),l.jsxs("div",{className:ze.actions,children:[l.jsx(Ae,{style:"icon",size:"sm",onClick:r,type:"button",children:l.jsx(Jo,{})}),l.jsx(Ae,{style:"icon",size:"sm",onClick:n,type:"button",children:l.jsx(Lt,{})})]})]}),c==="IMAGE"&&y?l.jsxs(l.Fragment,{children:[l.jsx("img",{className:ze.itemImage,src:y,alt:""}),i&&l.jsx(de,{children:i})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:ze.itemText,children:g.text}),a&&l.jsx(de,{children:a})]})]})}),Sd=({questionIndex:e,translate:t})=>{const r=Yo(R=>R.setSwipeRedirectCallback),{control:n,register:s,setValue:o,getValues:i,watch:a,formState:{errors:c}}=xe(),u=R=>i(`questions.${e}.options.${R}`),{remove:d,fields:m,append:g,move:y}=dr({control:n,name:`questions.${e}.options`,rules:st(t).options}),S=R=>{o("optionPopup",{isOpen:!0,questionIndex:e,optionIndex:R})},v=()=>{const R=i("scoringAlgorithm");g({text:"",image:null,category:null,weight:R==="WEIGHTED_SCALE"?0:null,loadedImg:null,isCorrect:!m.length},{shouldFocus:!1}),S(m.length)},_=R=>{d(R),m.length>1&&u(R)?.isCorrect&&o(`questions.${e}.options.0.isCorrect`,!0,{shouldDirty:!0})},T=R=>{r(R?null:"default")},k=a("optionPopup");return p.useEffect(()=>{if(k?.questionIndex===e&&!k.isOpen){const R=u(k.optionIndex);!R?.text&&!R?.image&&d(k.optionIndex)}},[k,e]),{control:n,register:s,fields:m,handleTouchDrag:T,addOption:v,removeOption:_,move:y,editOption:S,errors:c?.questions?.[e]}},Ed=[{value:"TEXT",label:""},{value:"IMAGE",label:""}],jd=({questionIndex:e})=>{const{t}=Se(),{control:r,fields:n,errors:s,addOption:o,removeOption:i,move:a,handleTouchDrag:c,editOption:u}=Sd({questionIndex:e,translate:t}),d=s?.options?.root?.message,m=ie({control:r,name:`questions.${e}.field`}),g=ie({control:r,name:"questionCategories"}),y=ie({control:r,name:"scoringAlgorithm"}),S=p.useDeferredValue(g);return l.jsxs(l.Fragment,{children:[!n.length&&l.jsxs(l.Fragment,{children:[l.jsx(ue,{children:t("create_page.options.type_description")}),l.jsx(Ge,{name:`questions.${e}.field`,control:r,render:({field:v})=>l.jsx(Ko,{value:v.value,onChange:v.onChange,options:Ed})})]}),!!n.length&&l.jsx(l.Fragment,{children:l.jsx(cd,{items:n,move:a,render:({item:v,index:_,listeners:T})=>{const k=s?.options?.[_];return l.jsx(kd,{index:_,questionIndex:e,dragListeners:T,scoringAlgorithm:y,onTouchDrag:c,textError:k?.text?.message,imageError:k?.image?.message,editOption:()=>u(_),removeOption:()=>i(_),questionCategories:S,fieldType:m},v.id)}})}),l.jsx(ae,{children:l.jsx(Ae,{type:"button",style:"white",size:"sm",onClick:o,children:t("create_page.options.add")})}),d&&l.jsx(de,{className:"text-center",children:d})]})},Ad=({index:e})=>{const{t}=Se(),{control:r,register:n,setError:s,clearErrors:o,formState:{errors:i}}=xe(),a=ie({control:r,name:`questions.${e}.loadedImg`}),c=i?.questions?.[e],u=c?.text?.message,d=c?.image?.message;return l.jsxs(l.Fragment,{children:[l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`question-text-${e}`,children:t("create_page.question.field_title")}),l.jsx($r,{id:`question-text-${e}`,placeholder:t("create_page.question.field_placeholder"),...n(`questions.${e}.text`,st(t).question)}),u?l.jsx(de,{children:u}):l.jsx(ue,{children:t("validation.min_length",{value:7})})]}),l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`question-image-${e}`,children:t("create_page.question.image")}),l.jsx(Ge,{name:`questions.${e}.image`,control:r,render:({field:m})=>l.jsx(Fn,{id:`question-image-${e}`,type:"question",loadedImg:a,clearError:()=>o(`questions.${e}.image`),setError:g=>s(`questions.${e}.image`,{message:g}),onChange:m.onChange})}),d?l.jsx(de,{children:d}):l.jsx(ue,{children:t("create_page.question.image_placeholder")})]})]})},Rd="_question_1pza9_1",Id={question:Rd},Dd=({id:e,index:t,removeQuestion:r})=>{const n=p.useRef(null),{t:s}=Se();return l.jsxs("div",{id:e,ref:n,className:Id.question,children:[l.jsxs(so,{className:"flex items-center justify-between",children:[l.jsx("p",{className:"w-full",children:s("create_page.question.title",{value:t+1})}),l.jsx("div",{className:"w-fit",children:l.jsx(Ae,{size:"sm",onClick:r,after:l.jsx(Lt,{className:"w-4"}),children:s("create_page.question.delete")})})]}),l.jsx(Ad,{index:t}),l.jsx(Mt,{}),l.jsx(jd,{questionIndex:t})]})},Nd=()=>{const{control:e,setValue:t}=xe(),r=ie({control:e,name:"questions"}),n=p.useMemo(()=>{const s={};return r?.forEach(o=>{o?.options?.forEach(i=>{const a=i?.category;a&&(s[a]=(s[a]||0)+1)})}),s},[r]);return p.useEffect(()=>{Object.keys(n).length>0&&t("categoriesCounts",n)},[n,t]),null},Td=({onClick:e})=>{const{t}=Se(),{control:r,formState:{errors:n,isSubmitting:s}}=xe(),o=ie({control:r,name:"questions"}),i=ie({control:r,name:"scoringAlgorithm"}),a=ie({control:r,name:"questionCategories"}),u=p.useDeferredValue(a)?.filter(y=>y.text?.trim()).length??0,d=i==="PERSONALITY_TEST"&&u<2,m=o?.[o.length-1],g=!!m&&(!m?.text||(m?.options?.length||0)<2);return l.jsxs(l.Fragment,{children:[l.jsx(Ae,{disabled:g||s||d,type:"button",onClick:e,after:l.jsx(Is,{}),children:t("create_page.questions.add_question")}),d&&l.jsx(de,{className:"text-center",children:"  2  "}),g&&l.jsx(de,{className:"text-center",children:"-  ,  "}),n?.questions?.root?.message&&l.jsx(de,{className:"text-center",children:n?.questions?.root?.message})]})},Fd=({translate:e})=>{const{control:t}=xe(),{fields:r,append:n,remove:s}=dr({control:t,name:"questions",rules:st(e).questions});return{addQuestion:()=>{const i=`question-item-${(r.length||0)+1}`;n({containerId:i,text:"",image:null,loadedImg:null,field:"TEXT",options:[],type:"SINGLE_CHOICE",order:r?.length||0},{shouldFocus:!1}),requestAnimationFrame(()=>{const a=document.getElementById(i);a&&requestAnimationFrame(()=>{a.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})})})},removeQuestion:s,fields:r}},Md=()=>{const{t:e}=Se(),{fields:t,addQuestion:r,removeQuestion:n}=Fd({translate:e});return l.jsxs(Et,{className:"mb-5",children:[l.jsx(cr,{title:e("create_page.questions.title"),description:e("create_page.questions.description")}),t.map((s,o)=>l.jsx(Dd,{id:s.containerId,index:o,removeQuestion:()=>n(o)},s.id)),l.jsx(Nd,{}),l.jsx(Td,{onClick:r})]})},Od=(e,{max:t,onInput:r})=>{const n=e.target,s=n.value.replace(/[eE-]/g,"");s!=="e"&&(s.length>3&&(n.value=s.slice(0,3)),s>t&&(n.value=t),r?.(e))},jn=({max:e=999,onInput:t,inputProps:r})=>l.jsx(Pr,{id:"quiz-title",type:"number",onInput:n=>Od(n,{max:e,onInput:t}),...r}),Vd="_container_pp3ga_1",Ld={container:Vd},Pd=(e,t)=>{const{control:r,register:n,getValues:s,setError:o,clearErrors:i,formState:{errors:a}}=xe(),c=a?.results?.[e];return{errors:c,control:r,register:n,handleChangeInput:()=>{setTimeout(()=>{const d=s(`results.${e}`);d&&(Number(d.from)>Number(d.to)&&!c?.from&&o(`results.${e}.from`,{message:t("validation.result_feedbacks.from_greater_than_to")}),Number(d.from)<=Number(d.to)&&c?.from&&i(`results.${e}.from`))},0)}}},zd=({categoriesCounts:e,resultIndex:t,categoryList:r,remove:n,index:s})=>{const{control:o,register:i}=xe(),a=ie({control:o,name:`results.${t}.conditions.${s}`}),c=e?.[a?.category||""]||100;return l.jsx(p.Fragment,{children:l.jsxs(jt,{className:"bg-[rgba(255,255,255,0.05)] p-[1rem] rounded-[1rem]",children:[l.jsxs(ae,{className:"flex flex-row items-center",children:[l.jsx(Ge,{name:`results.${t}.conditions.${s}.category`,control:o,render:({field:u})=>l.jsx(yo,{placeholder:" ",value:u.value,onChange:u.onChange,options:r})}),l.jsx(Ae,{className:"h-[3.2rem_!important] w-[3.2rem_!important] min-w-[3.2rem]",type:"button",style:"icon",onClick:n,children:l.jsx(Lt,{})})]}),l.jsxs("div",{className:"flex items-center gap-[1rem]",children:[l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`condition-more-${s}`,children:" || "}),l.jsx(wn,{max:c,inputProps:{id:`condition-more-${s}`,placeholder:"...",...i(`results.${t}.conditions.${s}.moreOrEqual`)}}),l.jsxs(ue,{children:[". ",c]})]}),l.jsx("p",{className:"relative",children:"&"}),l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`condition-less-${s}`,children:" || "}),l.jsx(wn,{max:c,inputProps:{id:`condition-less-${s}`,placeholder:"...",...i(`results.${t}.conditions.${s}.lessOrEqual`)}}),l.jsxs(ue,{children:[". ",c]})]})]})]})})},$d=({categoriesCounts:e,categoryList:t,resultIndex:r})=>{const{append:n,fields:s,remove:o}=dr({name:`results.${r}.conditions`}),i=()=>{n({category:"",moreOrEqual:null,lessOrEqual:null})};return l.jsxs(Et,{children:[l.jsxs(Et,{children:[l.jsx(ue,{children:" , c  - (     ),    ."}),s.map((a,c)=>l.jsx(zd,{index:c,remove:()=>o(c),resultIndex:r,categoryList:t,categoriesCounts:e},a.id))]}),l.jsx(Ae,{type:"button",style:"white",size:"sm",onClick:i,children:" "})]})},qd=({description:e,remove:t,index:r})=>{const{t:n}=Se();return l.jsxs(l.Fragment,{children:[l.jsxs(so,{className:"flex items-center justify-between",children:[l.jsx("p",{className:"w-full",children:n("create_page.result_feedbacks.result_title",{value:r+1})}),l.jsx("div",{className:"w-fit",children:l.jsx(Ae,{size:"sm",onClick:t,after:l.jsx(Lt,{className:"w-4"}),children:n("create_page.question.delete")})})]}),e&&l.jsx(ue,{children:n(e)})]})},Bd={STRICT_MATCH:"create_page.result_feedbacks.result_description.strict",WEIGHTED_SCALE:"create_page.result_feedbacks.result_description.weighted",PERSONALITY_TEST:"create_page.result_feedbacks.result_description.personality"},Cr=1e3,Ud=p.memo(({index:e,remove:t,algorithm:r="STRICT_MATCH",categoryList:n})=>{const{t:s}=Se(),{control:o,register:i,errors:a,handleChangeInput:c}=Pd(e,s),u=a?.text?.message,d=a?.title?.message,m=a?.from?.message,g=Bd[r],y=As.includes(r),S=ie({control:o,name:"categoriesCounts"});return l.jsxs("div",{className:Ld.container,children:[l.jsx(qd,{description:g,remove:t,index:e}),l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`result-feedback-title-${e}`,children:" "}),l.jsx(Pr,{id:`result-feedback-title-${e}`,placeholder:" ...",...i(`results.${e}.title`,{required:s("validation.required"),minLength:{value:5,message:s("validation.min_length",{value:5})}})}),d&&l.jsx(de,{children:d})]}),r==="PERSONALITY_TEST"&&n&&l.jsxs(l.Fragment,{children:[l.jsx($d,{resultIndex:e,categoryList:n,categoriesCounts:S}),l.jsx(Mt,{})]}),y&&l.jsxs("div",{className:"flex items-center justify-between gap-5",children:[l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`result-feedback-from-${e}`,children:s("create_page.result_feedbacks.label_from")}),l.jsx(jn,{max:Cr,onInput:c,inputProps:{id:`result-feedback-from-${e}`,type:"number",...i(`results.${e}.from`,st(s).results.number)}}),l.jsxs(ue,{children:[": ",Cr]})]}),l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`result-feedback-to-${e}`,children:s("create_page.result_feedbacks.label_to")}),l.jsx(jn,{max:Cr,onInput:c,inputProps:{id:`result-feedback-to-${e}`,type:"number",...i(`results.${e}.to`,st(s).results.number)}}),l.jsxs(ue,{children:[": ",Cr]})]})]}),m&&l.jsx(de,{children:m}),l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:`result-feedback-${e}`,children:s("create_page.result_feedbacks.field_title")}),l.jsx(Ge,{name:`results.${e}.text`,control:o,rules:{validate:oo({min:10,max:5e3},s)},render:({field:v})=>l.jsx(vo,{id:`result-feedback-${e}`,value:v.value,onChange:v.onChange,placeholder:s("create_page.result_feedbacks.field_placeholder")})}),u?l.jsx(de,{children:u}):l.jsx(ue,{children:s("validation.min_length",{value:7})})]})]})}),Hd="/quiz-land/assets/noticeExample-Db46C65N.png",Wd=({isAlgorithmWithScore:e})=>{const t=Zo(a=>a.openPopup),{t:r}=Se(),{control:n,register:s,formState:{errors:o}}=xe(),i=a=>{t("defaultPopup",c=>({title:"    ",render:l.jsxs(l.Fragment,{children:[l.jsx("img",{className:"rounded-[1rem] mb-[1rem] aspect-[1/1.56]",src:Hd,alt:"notice example"}),l.jsx(Ae,{onClick:c,children:""})]})})),a.preventDefault()};return l.jsxs(jt,{children:[e&&l.jsxs(ae,{children:[l.jsx(Ge,{name:"resultPositive",defaultValue:!0,control:n,render:({field:a})=>l.jsx(St,{full:!0,active:a.value,label:"  ",onClick:()=>a.onChange(!a.value)})}),l.jsx(ue,{children:"  ,    (,   IQ,  )."})]}),l.jsxs(ae,{children:[l.jsxs(Te,{htmlFor:"quiz-notice",children:[r("create_page.result_feedbacks.notice_label"),l.jsx("span",{className:"text-blue-300 font-bold underline",onClick:i,children:". "})]}),l.jsx($r,{id:"quiz-notice",placeholder:r("create_page.result_feedbacks.notice_placeholder"),...s("resultNotice")}),o.resultNotice?.message?l.jsx(de,{children:o.resultNotice.message}):l.jsx(ue,{children:"    "})]})]})},Gd=e=>{if(e.length<2)return!1;const t=[...e].toSorted((r,n)=>typeof n.from=="number"&&typeof r.to=="number"?r.to-n.from:1);for(let r=0;r<t.length-1;r++){const n=t[r],s=t[r+1];if(Number(n.to)>Number(s.from))return"  ,     ."}return!1},Yd=({error:e,setError:t,clearErrors:r})=>{const n=ie({name:"results"});return p.useEffect(()=>{if(n?.length>1){const s=Gd(n);s&&!e&&t("results",{message:s}),!s&&e&&r("results")}},[n,t,r,e]),e?l.jsx(de,{children:e}):null},Qd={STRICT_MATCH:"create_page.result_feedbacks.description.strict",WEIGHTED_SCALE:"create_page.result_feedbacks.description.weighted",PERSONALITY_TEST:"create_page.result_feedbacks.description.personality"},Xd=()=>{const{t:e}=Se(),{control:t,setError:r,clearErrors:n,getValues:s,formState:{isSubmitting:o,errors:i}}=xe(),{fields:a,append:c,remove:u}=dr({control:t,name:"results"}),d=ie({control:t,name:"scoringAlgorithm"})||"STRICT_MATCH",m=ie({control:t,name:"questionCategories"}),g=As.includes(d),y=()=>{if(g){const v=s(`results.${a.length-1}.to`),_=v?Number(v)+1:0;c({text:"",from:_,to:_+1});return}c({text:""})},S=m?.map(v=>({label:v.text,value:v.id}));return l.jsxs(Et,{className:"mb-5",children:[l.jsx(cr,{title:e("create_page.result_feedbacks.title"),description:e(Qd[d])}),l.jsx(Wd,{isAlgorithmWithScore:g}),a.map((v,_)=>l.jsx(Ud,{index:_,algorithm:d,categoryList:S,remove:()=>u(_)},v.id)),l.jsx(Yd,{error:i?.results?.message,setError:r,clearErrors:n}),l.jsx(Ae,{disabled:o,type:"button",onClick:y,after:l.jsx(Is,{}),children:e("create_page.result_feedbacks.add")})]})},Kd="_input_1ejve_1",Jd="_time_1ejve_5",Es={input:Kd,time:Jd},Zd=()=>{const{t:e}=Se(),{watch:t,control:r,register:n,setValue:s,formState:{errors:o,defaultValues:i}}=xe(),[a,c]=p.useState(!!i?.timeLimit),u=t("timeLimit");return p.useEffect(()=>{!a&&u&&(s("timeLimit",0),s("timeLimitChoice",!1))},[u,a,s]),l.jsxs(Et,{children:[l.jsx(cr,{title:e("create_page.time_limit.title"),description:e("create_page.time_limit.description")}),l.jsx(St,{active:a,label:e("create_page.time_limit.toggle_label"),onClick:()=>c(!a)}),a&&l.jsxs(l.Fragment,{children:[l.jsxs(ae,{children:[l.jsx(Te,{htmlFor:"time-limit",children:e("create_page.time_limit.input_label")}),l.jsxs("div",{className:Es.input,children:[l.jsx(jn,{inputProps:{id:"time-limit",type:"number",...n("timeLimit",st(e).time_limit)}}),l.jsx(ei,{className:Es.time,seconds:u?u*60:0})]}),o.timeLimit?.message?l.jsx(de,{children:o.timeLimit.message}):l.jsx(ue,{children:st(e).time_limit.max.message})]}),l.jsxs(ae,{children:[l.jsx(ue,{children:e("create_page.time_limit.choice_description")}),l.jsx(Ge,{name:"timeLimitChoice",control:r,defaultValue:!1,render:({field:d})=>l.jsx(St,{active:d.value,label:e("create_page.time_limit.choice_label"),onClick:()=>d.onChange(!d.value)})})]})]})]})},mf=({isEdit:e,data:t})=>{const r=p.useRef(null),n=ml(t,e),s=!!Object.keys(n.formState.errors).length;return l.jsxs(vi,{...n,children:[l.jsxs("form",{ref:r,onSubmit:n.onSubmit,children:[l.jsx(oc,{}),l.jsx(Mt,{className:"my-7"}),l.jsx(Zd,{}),l.jsx(Mt,{className:"my-7"}),l.jsx(al,{}),l.jsx(Mt,{className:"my-7"}),l.jsx(Md,{}),l.jsx(Mt,{className:"my-7"}),l.jsx(Xd,{}),l.jsx(yl,{formRef:r,isDisabled:s,isEdit:e,isLoading:n.formState.isSubmitting,onSubmit:n.onSubmit})]}),l.jsx(_c,{})]})};export{mf as C};
