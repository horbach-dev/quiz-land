import{k as Q,h as r,l as e,o as S,B as H,m as A,P as D}from"./index-C9xRGfKS.js";import{B as q}from"./Button-Cy7TXtY5.js";import{S as M,I as o,Q as G}from"./iq-DveQ9CAG.js";const J=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],K=Q("funnel",J);const U=[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],V=Q("search-check",U);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("._overlay_ued7t_1{position:fixed;inset:0;background:#00000080;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}._overlayOpen_ued7t_11{opacity:1;pointer-events:all}._sheet_ued7t_16{position:fixed;left:0;right:0;bottom:0;max-height:calc(100vh - 32px);background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -2px 12px #00000026;display:flex;flex-direction:column;z-index:20;transform:translateY(100%);touch-action:none}._sheetOpen_ued7t_33{transform:translateY(0)}._header_ued7t_37{padding:16px;border-bottom:1px solid #eee;text-align:center;cursor:grab;-webkit-user-select:none;user-select:none}._handle_ued7t_45{width:50px;height:4px;background:#ccc;border-radius:4px;margin:0 auto}._content_ued7t_53{overflow-y:auto;flex:1}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const W="_overlay_ued7t_1",X="_overlayOpen_ued7t_11",Z="_sheet_ued7t_16",ee="_sheetOpen_ued7t_33",te="_header_ued7t_37",ne="_handle_ued7t_45",se="_content_ued7t_53",l={overlay:W,overlayOpen:X,sheet:Z,sheetOpen:ee,header:te,handle:ne,content:se},re=120;function ie({isOpen:t,onClose:n,header:s,children:c,threshold:_=re,overlayClassName:f="",headerClassName:y="",sheetClassName:v="",contentClassName:T=""}){const a=r.useRef(null),h=r.useRef(null),d=r.useRef(null),g=r.useRef(null),k=r.useRef(0),x=r.useRef(0),[z,j]=r.useState(!1),[$,L]=r.useState(!1);r.useEffect(()=>(t?(p(0),document.body.style.overflow="hidden"):(p(100),document.body.style.overflow=""),()=>{document.body.style.overflow="",b()}),[t]);const b=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",E)},w=()=>{x.current>_?(p(100),n()):p(0),x.current=0},C=i=>{const u=i-k.current;u>0&&(x.current=u,p(u/(d.current?.offsetHeight||0)*100))},p=i=>{d.current&&a.current&&(a.current.style.opacity=`${1-i/100}`,d.current.style.transform=`translateY(${i}%)`)},O=({clientY:i})=>{j(!0),k.current=i,x.current=0,document.addEventListener("mousemove",I),document.addEventListener("mouseup",E)},F=({touches:i})=>{const u=i[0].clientY;L(()=>{if(!g.current||!h.current)return!1;if(g.current.scrollTop===0)return!0;const{top:B,height:P}=h.current.getBoundingClientRect();return B+P>u}),j(!0),k.current=u,x.current=0},I=({clientY:i})=>{C(i)},R=({touches:i})=>{!z||!$||C(i[0].clientY)},E=()=>{j(!1),b(),w()},Y=()=>{j(!1),$&&w()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:a,className:`${l.overlay} ${t?l.overlayOpen:""} ${f}`,style:{transition:z?"none":"opacity 0.3s ease"},onClick:n}),e.jsxs("div",{ref:d,className:`${l.sheet} ${t?l.sheetOpen:""} ${v}`,style:{transition:z?"none":"transform 0.3s ease"},onTouchStart:F,onTouchMove:R,onTouchEnd:Y,children:[e.jsx("div",{ref:h,onMouseDown:O,className:`${l.header} ${y}`,children:s||e.jsx("div",{className:l.handle})}),e.jsx("div",{ref:g,className:`${l.content} ${T}`,children:c})]})]})}const oe="_container_3r5aa_1",ce="_overlay_3r5aa_7",ae="_header_3r5aa_11",le="_content_3r5aa_17",de="_actions_3r5aa_27",m={container:oe,overlay:ce,header:ae,content:le,actions:de},ue=document.getElementById("modals"),he=({isOpen:t,onClose:n,children:s,actions:c})=>S.createPortal(e.jsxs(ie,{overlayClassName:m.overlay,sheetClassName:m.container,headerClassName:m.header,isOpen:t,onClose:n,children:[e.jsx(H,{absolute:!0}),e.jsxs("div",{className:m.content,children:[s,e.jsx("div",{className:m.actions,children:c})]})]}),ue),xe=({isOpen:t,onClose:n})=>{const s=()=>{n()};return e.jsxs(he,{isOpen:t,onClose:n,actions:e.jsx(q,{onClick:s,after:e.jsx(V,{}),children:"Поиск"}),children:[e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"})]})},pe=(t,n=500)=>{let s=!0;return(...c)=>{s&&(t(...c),s=!1,setTimeout(()=>{s=!0,t(...c)},n))}},me=()=>{const[t,n]=r.useState(0);return r.useEffect(()=>{const s=pe(()=>n(window.pageYOffset),300);return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]),t},_e="_header_w3tsd_1",je="_content_w3tsd_10",fe="_headerFill_w3tsd_27",N={header:_e,content:je,headerFill:fe},ye=document.getElementById("header"),ve=({actions:t,title:n})=>{const s=me();return S.createPortal(e.jsx("div",{className:N.header,children:e.jsx("div",{className:A(N.content,s>20&&N.headerFill),children:e.jsx(M,{title:n,actions:t})})}),ye)},Te="_container_16mqt_1",ge={container:Te},ke=[{id:1,title:"IQ тест",image:o,link:"/quiz/1"},{id:2,title:"IQ тест",image:o,link:"/quiz/1"},{id:3,title:"Тест на уровень лени",image:o,link:"/quiz/1"},{id:4,title:"IQ тест",image:o,link:"/quiz/1"},{id:5,title:"IQ тест",image:o,link:"/quiz/1"},{id:6,title:"IQ тест",image:o,link:"/quiz/1"},{id:7,title:"IQ тест",image:o,link:"/quiz/1"},{id:8,title:"IQ тест",image:o,link:"/quiz/1"},{id:9,title:"IQ тест",image:o,link:"/quiz/1"},{id:10,title:"IQ тест",image:o,link:"/quiz/1"}];function be(){const[t,n]=r.useState(!1),[s,c]=r.useState(!1),[_,f]=r.useState(ke),y=()=>{n(!0)},v=()=>{n(!1)},T=()=>{_.length>50||(c(!0),f(a=>[...a,...a.map((h,d)=>({...h,id:a[a.length-1].id+1+d}))]),setTimeout(()=>{c(!1)},100))};return e.jsxs(D,{children:[e.jsx(ve,{title:"Библиотека квизов",actions:e.jsx(q,{size:"sm",after:e.jsx(K,{}),onClick:y,children:"Поиск"})}),e.jsx("div",{className:ge.container,children:e.jsx(G,{data:_,isLoading:s,handleLoadMore:T})}),e.jsx(xe,{isOpen:t,onClose:v})]})}export{be as default};
