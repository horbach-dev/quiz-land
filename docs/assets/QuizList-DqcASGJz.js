import{v as he,w as ze,x as We,r as h,j as v,c as K,M as Ae,d as Fe,L as Qe}from"./index-BViiGnCv.js";import{n as He}from"./Button-uA8O_c__.js";import{Q as De,u as qe}from"./useBaseQuery-Cn-GaRnJ.js";var Ue=class extends De{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:he()})}getOptimisticResult(t){return t.behavior=he(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:n}=t,s=super.createResult(t,e),{isFetching:i,isRefetching:o,isError:r,isRefetchError:c}=s,a=n.fetchMeta?.fetchMore?.direction,f=r&&a==="forward",l=i&&a==="forward",m=r&&a==="backward",u=i&&a==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:We(e,n.data),hasPreviousPage:ze(e,n.data),isFetchNextPageError:f,isFetchingNextPage:l,isFetchPreviousPageError:m,isFetchingPreviousPage:u,isRefetchError:c&&!f&&!m,isRefetching:o&&!l&&!u}}};function Be(t,e){return qe(t,Ue)}const Ke="_container_19fma_1",$e="_card_19fma_16",Ye="_row_19fma_25",Ve="_imageWrap_19fma_30",Je="_skeletonTitle_19fma_36",Xe="_image_19fma_30",Ze="_move_19fma_1",Ge="_imageLoaded_19fma_81",et="_title_19fma_89",tt="_linkOverlay_19fma_101",nt="_action_19fma_109",st="_author_19fma_117",it="_authorAvatar_19fma_123",ot="_authorNick_19fma_130",_={container:Ke,card:$e,row:Ye,imageWrap:Ve,skeletonTitle:Je,image:Xe,move:Ze,imageLoaded:Ge,title:et,linkOverlay:tt,action:nt,author:st,authorAvatar:it,authorNick:ot},me=new Set,rt=({title:t,image:e})=>{const[n,s]=h.useState(!me.has(e));return v.jsx("div",{className:K(_.image,!n&&_.imageLoaded),children:v.jsx("img",{alt:t,src:e,loading:"lazy",onLoad:()=>{me.add(e),s(!1)},onError:()=>s(!1)})})},hn=({link:t,title:e,view:n="column",image:s,actions:i})=>v.jsxs("div",{className:K(_.container,_.card,_[n]),children:[v.jsxs("div",{className:_.content,children:[v.jsx("div",{className:_.imageWrap,children:v.jsx(rt,{title:e,image:s})}),v.jsx("p",{className:_.title,children:e}),v.jsx("div",{className:_.linkOverlay,onClick:()=>He(t)})]}),i]}),D=()=>v.jsxs("div",{className:K(_.container,_.skeleton),children:[v.jsx("div",{className:_.imageWrap}),v.jsx("div",{className:_.content,children:v.jsx("p",{className:K(_.title,_.skeletonTitle),children:"."})})]}),w=0,P=1,ct=2,at=0,se=1;function lt(t,e,n){let s=t.list,i;for(;s;){if(s.index===n)return!1;if(e>s.high)break;i=s,s=s.next}return i||(t.list={index:n,high:e,next:s}),i&&(i.next={index:n,high:e,next:i.next}),!0}function ut(t,e){let n=t.list;if(n.index===e)return n.next===null?at:(t.list=n.next,se);let s=n;for(n=n.next;n!==null;){if(n.index===e)return s.next=n.next,se;s=n,n=n.next}}const g={low:0,max:0,high:0,C:ct,P:void 0,R:void 0,L:void 0,list:void 0};g.P=g;g.L=g;g.R=g;function E(t){const e=t.high;t.L===g&&t.R===g?t.max=e:t.L===g?t.max=Math.max(t.R.max,e):t.R===g?t.max=Math.max(t.L.max,e):t.max=Math.max(Math.max(t.L.max,t.R.max),e)}function q(t){let e=t;for(;e.P!==g;)E(e.P),e=e.P}function k(t,e){if(e.R===g)return;const n=e.R;e.R=n.L,n.L!==g&&(n.L.P=e),n.P=e.P,e.P===g?t.root=n:e===e.P.L?e.P.L=n:e.P.R=n,n.L=e,e.P=n,E(e),E(n)}function z(t,e){if(e.L===g)return;const n=e.L;e.L=n.R,n.R!==g&&(n.R.P=e),n.P=e.P,e.P===g?t.root=n:e===e.P.R?e.P.R=n:e.P.L=n,n.R=e,e.P=n,E(e),E(n)}function U(t,e,n){e.P===g?t.root=n:e===e.P.L?e.P.L=n:e.P.R=n,n.P=e.P}function ft(t,e){let n;for(;e!==g&&e.C===P;)e===e.P.L?(n=e.P.R,n.C===w&&(n.C=P,e.P.C=w,k(t,e.P),n=e.P.R),n.L.C===P&&n.R.C===P?(n.C=w,e=e.P):(n.R.C===P&&(n.L.C=P,n.C=w,z(t,n),n=e.P.R),n.C=e.P.C,e.P.C=P,n.R.C=P,k(t,e.P),e=t.root)):(n=e.P.L,n.C===w&&(n.C=P,e.P.C=w,z(t,e.P),n=e.P.L),n.R.C===P&&n.L.C===P?(n.C=w,e=e.P):(n.L.C===P&&(n.R.C=P,n.C=w,k(t,n),n=e.P.L),n.C=e.P.C,e.P.C=P,n.L.C=P,z(t,e.P),e=t.root));e.C=P}function dt(t){for(;t.L!==g;)t=t.L;return t}function ht(t,e){let n;for(;e.P.C===w;)e.P===e.P.P.L?(n=e.P.P.R,n.C===w?(e.P.C=P,n.C=P,e.P.P.C=w,e=e.P.P):(e===e.P.R&&(e=e.P,k(t,e)),e.P.C=P,e.P.P.C=w,z(t,e.P.P))):(n=e.P.P.L,n.C===w?(e.P.C=P,n.C=P,e.P.P.C=w,e=e.P.P):(e===e.P.L&&(e=e.P,z(t,e)),e.P.C=P,e.P.P.C=w,k(t,e.P.P)));t.root.C=P}function mt(){const t={root:g,size:0},e={};return{insert(n,s,i){let o=t.root,r=g;for(;o!==g&&(r=o,n!==r.low);)n<o.low?o=o.L:o=o.R;if(n===r.low&&r!==g){if(!lt(r,s,i))return;r.high=Math.max(r.high,s),E(r),q(r),e[i]=r,t.size++;return}const c={low:n,high:s,max:s,C:w,P:r,L:g,R:g,list:{index:i,high:s,next:null}};r===g?t.root=c:(c.low<r.low?r.L=c:r.R=c,q(c)),ht(t,c),e[i]=c,t.size++},remove(n){const s=e[n];if(s===void 0)return;delete e[n];const i=ut(s,n);if(i===void 0)return;if(i===se){s.high=s.list.high,E(s),q(s),t.size--;return}let o=s,r=o.C,c;s.L===g?(c=s.R,U(t,s,s.R)):s.R===g?(c=s.L,U(t,s,s.L)):(o=dt(s.R),r=o.C,c=o.R,o.P===s?c.P=o:(U(t,o,o.R),o.R=s.R,o.R.P=o),U(t,s,o),o.L=s.L,o.L.P=o,o.C=s.C),E(c),q(c),r===P&&ft(t,c),t.size--},search(n,s,i){const o=[t.root];for(;o.length!==0;){const r=o.pop();if(!(r===g||n>r.max)&&(r.L!==g&&o.push(r.L),r.R!==g&&o.push(r.R),r.low<=s&&r.high>=n)){let c=r.list;for(;c!==null;)c.high>=n&&i(c.index,r.low),c=c.next}}},get size(){return t.size}}}const Y=t=>{const e=h.useRef(t);return h.useEffect(()=>{e.current=t}),e},gt=(t,e=100,n=!1)=>{const s=Y(t),i=h.useRef(),o=[e,n,s];function r(){i.current&&clearTimeout(i.current),i.current=void 0}h.useEffect(()=>r,o);function c(){i.current=void 0}return h.useCallback(function(){const a=arguments,{current:f}=i;if(f===void 0&&n)return i.current=setTimeout(c,e),s.current.apply(null,a);f&&clearTimeout(f),i.current=setTimeout(()=>{i.current=void 0,s.current.apply(null,a)},e)},o)},vt=(t,e,n)=>{const s=h.useState(t);return[s[0],gt(s[1],e,n)]};function W(t,e,n,s){const i=h.useRef(n),o=h.useRef(s);h.useEffect(()=>{i.current=n,o.current=s}),h.useEffect(()=>{const r=t&&"current"in t?t.current:t;if(!r)return;let c=0;function a(...l){c||i.current.apply(this,l)}r.addEventListener(e,a);const f=o.current;return()=>{c=1,r.removeEventListener(e,a),f&&f()}},[t,e])}const pt={},A=typeof window>"u"?null:window,Pt=A&&typeof A.visualViewport<"u"?A.visualViewport:null,ge=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],yt=function(t){t===void 0&&(t=pt);const{wait:e,leading:n,initialWidth:s=0,initialHeight:i=0}=t,[o,r]=vt(typeof document>"u"?[s,i]:ge,e,n),c=()=>r(ge);return W(A,"resize",c),W(Pt,"resize",c),W(A,"orientationchange",c),o},V=(t,e)=>{const n=e||Rt;let s,i;return function(){return s&&n(arguments,s)?i:i=t.apply(null,s=arguments)}},Rt=(t,e)=>t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3];class ve{constructor(){this.set=void 0,this.get=void 0;let e,n;this.get=s=>s===e?n:void 0,this.set=(s,i)=>{e=s,n=i}}}const ne=t=>{try{return new t}catch{const n={};return{set(s,i){n[s]=i},get(s){return n[s]}}}},Ct=t=>{const e=t.length,n=ne(t[0]);let s,i,o,r;const c=e===1,a=u=>(s=n.get(u[0]))===void 0||c?s:s.get(u[1]),f=(u,d)=>(c?n.set(u[0],d):(s=n.get(u[0]))===void 0?(i=ne(t[1]),i.set(u[1],d),n.set(u[0],i)):s.set(u[1],d),d),l=u=>{for(r=n,o=0;o<e;o++)if((r=r.get(u[o]))===void 0)return;return r},m=(u,d)=>{for(r=n,o=0;o<e-1;o++)(i=r.get(u[o]))===void 0&&(i=ne(t[o+1]),r.set(u[o],i)),r=i;return r.set(u[e-1],d),d};return e<3?{g:a,s:f}:{g:l,s:m}},be=(t,e)=>{let n;const{g:s,s:i}=Ct(t);return function(){return(n=s(arguments))===void 0?i(arguments,e.apply(null,arguments)):n}},ie=new WeakMap;function Le(){const t=h.useState(wt)[1];return h.useRef(()=>t({})).current}const wt={},B=h.createElement;function _t(t){let{positioner:e,resizeObserver:n,items:s,as:i="div",id:o,className:r,style:c,role:a="grid",tabIndex:f=0,containerRef:l,itemAs:m="div",itemStyle:u,itemHeightEstimate:d=300,itemKey:R=xt,overscanBy:p=2,scrollTop:y,isScrolling:b,height:C,render:x,onRender:J}=t,j=0,I;const Me=Le(),ce=Et(e,n),X=s.length,{columnWidth:F,columnCount:Se,range:je,estimateHeight:Ne,size:Oe,shortestColumn:ke}=e,Q=Oe(),ae=ke(),Z=[],le=a==="list"?"listitem":a==="grid"?"gridcell":void 0,G=Y(J);p=C*p;const ue=y+p,ee=ae<ue&&Q<X;if(je(Math.max(0,y-p/2),ue,(L,T,H)=>{const N=s[L],te=R(N,L),de={top:H,left:T,width:F,writingMode:"horizontal-tb",position:"absolute"};Z.push(B(m,{key:te,ref:ce(L),role:le,style:typeof u=="object"&&u!==null?Object.assign({},de,u):de},Pe(x,L,N,F))),I===void 0?(j=L,I=L):(j=Math.min(j,L),I=Math.max(I,L))}),ee){const L=Math.min(X-Q,Math.ceil((y+p-ae)/d*Se));let T=Q;const H=Tt(F);for(;T<Q+L;T++){const N=s[T],te=R(N,T);Z.push(B(m,{key:te,ref:ce(T),role:le,style:typeof u=="object"?Object.assign({},H,u):H},Pe(x,T,N,F)))}}h.useEffect(()=>{typeof G.current=="function"&&I!==void 0&&G.current(j,I,s),pe="1"},[j,I,s,G]),h.useEffect(()=>{ee&&Me()},[ee,e]);const fe=bt(b,Ne(X,d));return B(i,{ref:l,key:pe,id:o,role:a,className:r,tabIndex:f,style:typeof c=="object"?Lt(fe,c):fe,children:Z})}let pe="0";const Pe=be([ve,{},WeakMap,ve],(t,e,n,s)=>B(t,{index:e,data:n,width:s})),bt=V((t,e)=>({position:"relative",width:"100%",maxWidth:"100%",height:Math.ceil(e),maxHeight:Math.ceil(e),willChange:t?"contents":void 0,pointerEvents:t?"none":void 0})),xe=(t,e)=>t[0]===e[0]&&t[1]===e[1],Lt=V((t,e)=>Object.assign({},t,e),xe);function xt(t,e){return e}const Tt=V(t=>({width:t,zIndex:-1e3,visibility:"hidden",position:"absolute",writingMode:"horizontal-tb"}),(t,e)=>t[0]===e[0]),Et=V((t,e)=>n=>s=>{s!==null&&(e&&(e.observe(s),ie.set(s,n)),t.get(n)===void 0&&t.set(n,s.offsetHeight))},xe);let Te="undefined",S=typeof window!==Te?window:{},It=typeof performance!==Te?performance:Date,oe=()=>It.now(),Ee="AnimationFrame",ye="cancel"+Ee,Re="request"+Ee,$=S[Re]&&S[Re].bind(S),re=S[ye]&&S[ye].bind(S);function Mt(t){return clearTimeout(t)}if(!$||!re){let t=0;$=e=>{let n=oe(),s=Math.max(t+1e3/60,n);return setTimeout(()=>{e(t=s)},s-n)},re=Mt}const St=t=>{re(t.v||-1)},jt=(t,e)=>{const n=oe(),s={},i=()=>{oe()-n>=e?t.call(null):s.v=$(i)};return s.v=$(i),s},Nt=typeof performance<"u"?performance:Date,Ot=()=>Nt.now();function Ie(t,e=30,n=!1){const s=Y(t),i=1e3/e,o=h.useRef(0),r=h.useRef(),c=()=>r.current&&clearTimeout(r.current),a=[e,n,s];function f(){o.current=0,c()}return h.useEffect(()=>f,a),h.useCallback(function(){const l=arguments,m=Ot(),u=()=>{o.current=m,c(),s.current.apply(null,l)},d=o.current;if(n&&d===0)return u();if(m-d>i){if(d>0)return u();o.current=m}c(),r.current=setTimeout(()=>{u(),o.current=0},i)},a)}function kt(t,e,n){const s=h.useState(t);return[s[0],Ie(s[1],e,n)]}const O=typeof window>"u"?null:window,Ce=()=>O.scrollY!==void 0?O.scrollY:O.pageYOffset===void 0?0:O.pageYOffset,zt=(t=30)=>{const e=kt(typeof window>"u"?0:Ce,t,!0);return W(O,"scroll",()=>e[1](Ce())),e[0]};function Wt(t,e){t===void 0&&(t=0),e===void 0&&(e=12);const n=zt(e),[s,i]=h.useState(!1),o=h.useRef(0);return h.useEffect(()=>{o.current===1&&i(!0);let r=!1;const c=jt(()=>{r||i(!1)},40+1e3/e);return o.current=1,()=>{r=!0,St(c)}},[e,n]),{scrollTop:Math.max(0,n-t),isScrolling:s}}function At(t){const{scrollTop:e,isScrolling:n}=Wt(t.offset,t.scrollFps);return _t({scrollTop:e,isScrolling:n,positioner:t.positioner,resizeObserver:t.resizeObserver,items:t.items,onRender:t.onRender,as:t.as,id:t.id,className:t.className,style:t.style,role:t.role,tabIndex:t.tabIndex,containerRef:t.containerRef,itemAs:t.itemAs,itemStyle:t.itemStyle,itemHeightEstimate:t.itemHeightEstimate,itemKey:t.itemKey,overscanBy:t.overscanBy,height:t.height,render:t.render})}const Ft=Ae[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"];function Qt(t,e){e===void 0&&(e=Ht);const[n,s]=h.useState({offset:0,width:0});return Ft(()=>{const{current:i}=t;if(i!==null){let o=0,r=i;do o+=r.offsetTop||0,r=r.offsetParent;while(r);(o!==n.offset||i.offsetWidth!==n.width)&&s({offset:o,width:i.offsetWidth})}},e),n}const Ht=[];function Dt(t,e){let{width:n,columnWidth:s=200,columnGutter:i=0,rowGutter:o,columnCount:r,maxColumnCount:c,maxColumnWidth:a}=t;e===void 0&&(e=Kt);const f=()=>{const[p,y]=Bt(n,s,i,r,c,a);return qt(y,p,i,o??i)},l=h.useRef();l.current===void 0&&(l.current=f());const m=h.useRef(e),u=[n,s,i,o,r,c,a],d=h.useRef(u),R=!u.every((p,y)=>d.current[y]===p);if(R||!e.every((p,y)=>m.current[y]===p)){const p=l.current,y=f();if(m.current=e,d.current=u,R){const b=p.size();for(let C=0;C<b;C++){const x=p.get(C);y.set(C,x!==void 0?x.height:0)}}l.current=y}return l.current}const qt=function(t,e,n,s){n===void 0&&(n=0),s===void 0&&(s=n);const i=mt(),o=new Array(t),r=[],c=new Array(t);for(let a=0;a<t;a++)o[a]=0,c[a]=[];return{columnCount:t,columnWidth:e,set:function(a,f){f===void 0&&(f=0);let l=0;for(let u=1;u<o.length;u++)o[u]<o[l]&&(l=u);const m=o[l]||0;o[l]=m+f+s,c[l].push(a),r[a]={left:l*(e+n),top:m,height:f,column:l},i.insert(m,m+f,a)},get:a=>r[a],update:a=>{const f=new Array(t);let l=0,m=0;for(;l<a.length-1;l++){const u=a[l],d=r[u];d.height=a[++l],i.remove(u),i.insert(d.top,d.top+d.height,u),f[d.column]=f[d.column]===void 0?u:Math.min(u,f[d.column])}for(l=0;l<f.length;l++){if(f[l]===void 0)continue;const u=c[l],d=Ut(u,f[l]),R=c[l][d],p=r[R];for(o[l]=p.top+p.height+s,m=d+1;m<u.length;m++){const y=u[m],b=r[y];b.top=o[l],o[l]=b.top+b.height+s,i.remove(y),i.insert(b.top,b.top+b.height,y)}}},range:(a,f,l)=>i.search(a,f,(m,u)=>l(m,r[m].left,u)),estimateHeight:(a,f)=>{const l=Math.max(0,Math.max.apply(null,o));return a===i.size?l:l+Math.ceil((a-i.size)/t)*f},shortestColumn:()=>o.length>1?Math.min.apply(null,o):o[0]||0,size(){return i.size},all(){return r}}},Ut=(t,e)=>{let n=0,s=t.length-1;for(;n<=s;){const i=n+s>>>1,o=t[i];if(o===e)return i;o<=e?n=i+1:s=i-1}return-1},Bt=function(t,e,n,s,i,o){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=8),s=s||Math.min(Math.floor((t+n)/(e+n)),i||1/0)||1;let r=Math.floor((t-n*(s-1))/s);return o!==void 0&&r>o&&(r=o),[r,s]},Kt=[];var we=function(e){var n=[],s=null,i=function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];n=c,!s&&(s=requestAnimationFrame(function(){s=null,e.apply(void 0,n)}))};return i.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},i};function $t(t){const e=Le(),n=Vt(t,e);function s(){return n.disconnect()}return h.useEffect(()=>s,[n]),n}function Yt(t){t.cancel()}const Vt=be([WeakMap],(t,e)=>{const n=[],s=we(()=>{n.length>0&&(t.update(n),e(n)),n.length=0}),i=f=>{const l=f.offsetHeight;if(l>0){const m=ie.get(f);if(m!==void 0){const u=t.get(m);u!==void 0&&l!==u.height&&n.push(m,l)}}s()},o=new Map,r=f=>{let l=0;for(;l<f.length;l++){const m=f[l],u=ie.get(m.target);if(u===void 0)continue;let d=o.get(u);d||(d=we(i),o.set(u,d)),d(m.target)}},c=new ResizeObserver(r),a=c.disconnect.bind(c);return c.disconnect=()=>{a(),o.forEach(Yt)},c});function Jt(t,e){var n;const{align:s="top",element:i=typeof window<"u"&&window,offset:o=0,height:r=typeof window<"u"?window.innerHeight:0}=e,c=Y({positioner:t,element:i,align:s,offset:o,height:r}),a=h.useRef(()=>{const d=c.current.element;return d&&"current"in d?d.current:d}).current,[f,l]=h.useReducer((d,R)=>{const p={position:d.position,index:d.index,prevTop:d.prevTop};if(R.type==="scrollToIndex"){var y;return{position:c.current.positioner.get((y=R.value)!==null&&y!==void 0?y:-1),index:R.value,prevTop:void 0}}else if(R.type==="setPosition")p.position=R.value;else if(R.type==="setPrevTop")p.prevTop=R.value;else if(R.type==="reset")return _e;return p},_e),m=Ie(l,15);W(a(),"scroll",()=>{if(!f.position&&f.index){const d=c.current.positioner.get(f.index);d&&l({type:"setPosition",value:d})}});const u=f.index!==void 0&&((n=c.current.positioner.get(f.index))===null||n===void 0?void 0:n.top);return h.useEffect(()=>{const d=a();if(!d)return;const{height:R,align:p,offset:y,positioner:b}=c.current;if(f.position){let C=f.position.top;p==="bottom"?C=C-R+f.position.height:p==="center"&&(C-=(R-f.position.height)/2),d.scrollTo(0,Math.max(0,C+=y));let x=!1;const J=setTimeout(()=>!x&&l({type:"reset"}),400);return()=>{x=!0,clearTimeout(J)}}else if(f.index!==void 0){let C=b.shortestColumn()/b.size()*f.index;f.prevTop&&(C=Math.max(C,f.prevTop+R)),d.scrollTo(0,C),m({type:"setPrevTop",value:C})}},[u,f,c,a,m]),h.useRef(d=>{l({type:"scrollToIndex",value:d})}).current}const _e={index:void 0,position:void 0,prevTop:void 0},Xt=h.createElement;function Zt(t){const e=h.useRef(null),n=yt({initialWidth:t.ssrWidth,initialHeight:t.ssrHeight}),s=Qt(e,n),i=Object.assign({offset:s.offset,width:s.width||n[0],height:n[1],containerRef:e},t);i.positioner=Dt(i),i.resizeObserver=$t(i.positioner);const o=Jt(i.positioner,{height:i.height,offset:s.offset,align:typeof t.scrollToIndex=="object"?t.scrollToIndex.align:void 0}),r=t.scrollToIndex&&(typeof t.scrollToIndex=="number"?t.scrollToIndex:t.scrollToIndex.index);return h.useEffect(()=>{r!==void 0&&o(r)},[r,o]),Xt(At,i)}const Gt=async({pageParam:t,limit:e,type:n})=>(await Fe.get("/quiz",{params:{type:n,page:t,limit:e??15}}))?.data;function en(t){const e=t?.limit??15;return Be({queryKey:["getQuizList",t],queryFn:({pageParam:n})=>Gt({pageParam:n,limit:e,type:t.type}),initialPageParam:1,getNextPageParam:(n,s)=>{if(n.length)return s.length+1}})}function tn(t={threshold:.1}){const e=h.useRef(null),[n,s]=h.useState(!1);return h.useEffect(()=>{const i=e.current;if(!i)return;const o=new IntersectionObserver(r=>s(r[0]?.isIntersecting??!1),t);return o.observe(i),()=>o.disconnect()},[t]),{ref:e,isIntersecting:n}}const nn=({children:t,options:e,onVisible:n})=>{const{ref:s,isIntersecting:i}=tn(e);return h.useEffect(()=>{i&&n()},[i,n]),v.jsx("div",{ref:s,children:t})},sn="_container_3oit3_1",on="_loader_3oit3_7",rn="_list_3oit3_15",cn="_empty_3oit3_19",an="_emptyImage_3oit3_29",ln="_emptyTitle_3oit3_41",M={container:sn,loader:on,list:rn,empty:cn,emptyImage:an,emptyTitle:ln},mn=({listKey:t,params:e={type:"public"},renderItem:n})=>{const{isLoading:s,data:i,isFetchingNextPage:o,fetchNextPage:r,hasNextPage:c}=en(e),a=h.useMemo(()=>i?.pages?.flat()||[],[i]),f=h.useCallback(()=>{if(c&&!(s||o))return r()},[r,c,o,s]),l=s&&!a.length,m=!!a?.length&&!s&&!o,u=!a?.length&&!s&&!o;return v.jsxs("div",{className:M.list,children:[!!a?.length&&v.jsx(Zt,{items:a,columnGutter:16,columnWidth:120,columnCount:2,overscanBy:5,render:n},t),l&&v.jsxs("div",{className:M.container,children:[v.jsx(D,{}),v.jsx(D,{}),v.jsx(D,{}),v.jsx(D,{})]}),o&&v.jsx("div",{className:M.loader,children:v.jsx(Qe,{global:!1})}),m&&v.jsx(nn,{options:{rootMargin:"100px"},onVisible:f,children:v.jsx("div",{style:{height:1}})}),u&&v.jsxs("div",{className:M.empty,children:[v.jsx("div",{className:M.emptyImage}),v.jsx("p",{className:M.emptyTitle,children:"Ничего не найдено"})]})]})};export{mn as Q,hn as a,_ as s};
