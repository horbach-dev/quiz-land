import{r as t,j as r}from"./index-Cj3bWOIb.js";(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode("._overlay_ued7t_1{position:fixed;inset:0;background:#00000080;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}._overlayOpen_ued7t_11{opacity:1;pointer-events:all}._sheet_ued7t_16{position:fixed;left:0;right:0;bottom:0;max-height:calc(100vh - 32px);background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -2px 12px #00000026;display:flex;flex-direction:column;z-index:20;transform:translateY(100%);touch-action:none}._sheetOpen_ued7t_33{transform:translateY(0)}._header_ued7t_37{padding:16px;border-bottom:1px solid #eee;text-align:center;cursor:grab;-webkit-user-select:none;user-select:none}._handle_ued7t_45{width:50px;height:4px;background:#ccc;border-radius:4px;margin:0 auto}._content_ued7t_53{overflow-y:auto;flex:1}")),document.head.appendChild(n)}}catch(c){console.error("vite-plugin-css-injected-by-js",c)}})();const H="_overlay_ued7t_1",M="_overlayOpen_ued7t_11",q="_sheet_ued7t_16",A="_sheetOpen_ued7t_33",B="_header_ued7t_37",D="_handle_ued7t_45",F="_content_ued7t_53",o={overlay:H,overlayOpen:M,sheet:q,sheetOpen:A,header:B,handle:D,content:F},G=120;function J({isOpen:n,onClose:c,header:$,children:j,threshold:C=G,overlayClassName:E="",headerClassName:N="",sheetClassName:O="",contentClassName:w=""}){const i=t.useRef(null),h=t.useRef(null),d=t.useRef(null),p=t.useRef(null),f=t.useRef(0),a=t.useRef(0),[m,l]=t.useState(!1),[_,R]=t.useState(!1);t.useEffect(()=>(n?(u(0),document.body.style.overflow="hidden"):(u(100),document.body.style.overflow=""),()=>{document.body.style.overflow="",x()}),[n]);const x=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",b)},v=()=>{a.current>C?(u(100),c()):u(0),a.current=0},y=e=>{const s=e-f.current;s>0&&(a.current=s,u(s/(d.current?.offsetHeight||0)*100))},u=e=>{d.current&&i.current&&(i.current.style.opacity=`${1-e/100}`,d.current.style.transform=`translateY(${e}%)`)},Y=({clientY:e})=>{l(!0),f.current=e,a.current=0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",b)},k=({touches:e})=>{const s=e[0].clientY;R(()=>{if(!p.current||!h.current)return!1;if(p.current.scrollTop===0)return!0;const{top:S,height:z}=h.current.getBoundingClientRect();return S+z>s}),l(!0),f.current=s,a.current=0},g=({clientY:e})=>{y(e)},T=({touches:e})=>{!m||!_||y(e[0].clientY)},b=()=>{l(!1),x(),v()},L=()=>{l(!1),_&&v()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:i,className:`${o.overlay} ${n?o.overlayOpen:""} ${E}`,style:{transition:m?"none":"opacity 0.3s ease"},onClick:c}),r.jsxs("div",{ref:d,className:`${o.sheet} ${n?o.sheetOpen:""} ${O}`,style:{transition:m?"none":"transform 0.3s ease"},onTouchStart:k,onTouchMove:T,onTouchEnd:L,children:[r.jsx("div",{ref:h,onMouseDown:Y,className:`${o.header} ${N}`,children:$||r.jsx("div",{className:o.handle})}),r.jsx("div",{ref:p,className:`${o.content} ${w}`,children:j})]})]})}export{J as V};
