import{c as w,r,g as O,j as e,h as M,b as f,B as z,d as D,P as G}from"./index-CxWIOCeG.js";import{u as J,Q as K}from"./useQuizListQuery-cHVZzd-X.js";import{S as U,T as V}from"./create-quiz-form-CGiPw1gx.js";const X=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],W=w("funnel",X);const Z=[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ee=w("search-check",Z),te="_header_1uldu_1",ne="_content_1uldu_10",E={header:te,content:ne},se=document.getElementById("header"),re=({actions:t,title:n})=>{const s=r.useRef(null);return r.useLayoutEffect(()=>{s?.current?.offsetHeight&&document.documentElement.style.setProperty("--quizzes-page-header-height",s.current.offsetHeight+"px")},[]),O.createPortal(e.jsx("div",{ref:s,className:E.header,children:e.jsx("div",{className:E.content,children:e.jsx(U,{title:n,actions:t})})}),se)};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("._overlay_ued7t_1{position:fixed;inset:0;background:#00000080;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}._overlayOpen_ued7t_11{opacity:1;pointer-events:all}._sheet_ued7t_16{position:fixed;left:0;right:0;bottom:0;max-height:calc(100vh - 32px);background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -2px 12px #00000026;display:flex;flex-direction:column;z-index:20;transform:translateY(100%);touch-action:none}._sheetOpen_ued7t_33{transform:translateY(0)}._header_ued7t_37{padding:16px;border-bottom:1px solid #eee;text-align:center;cursor:grab;-webkit-user-select:none;user-select:none}._handle_ued7t_45{width:50px;height:4px;background:#ccc;border-radius:4px;margin:0 auto}._content_ued7t_53{overflow-y:auto;flex:1}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const ae="_overlay_ued7t_1",ce="_overlayOpen_ued7t_11",oe="_sheet_ued7t_16",le="_sheetOpen_ued7t_33",ie="_header_ued7t_37",de="_handle_ued7t_45",ue="_content_ued7t_53",d={overlay:ae,overlayOpen:ce,sheet:oe,sheetOpen:le,header:ie,handle:de,content:ue},he=120;function xe({isOpen:t,onClose:n,header:s,children:o,threshold:l=he,overlayClassName:a="",headerClassName:v="",sheetClassName:q="",contentClassName:H=""}){const j=r.useRef(null),y=r.useRef(null),_=r.useRef(null),b=r.useRef(null),g=r.useRef(0),h=r.useRef(0),[T,p]=r.useState(!1),[B,L]=r.useState(!1);r.useEffect(()=>(t?(x(0),document.body.style.overflow="hidden"):(x(100),document.body.style.overflow=""),()=>{document.body.style.overflow="",N()}),[t]);const N=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",A)},k=()=>{h.current>l?(x(100),n()):x(0),h.current=0},$=c=>{const u=c-g.current;u>0&&(h.current=u,x(u/(_.current?.offsetHeight||0)*100))},x=c=>{_.current&&j.current&&(j.current.style.opacity=`${1-c/100}`,_.current.style.transform=`translateY(${c}%)`)},S=({clientY:c})=>{p(!0),g.current=c,h.current=0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",A)},F=({touches:c})=>{const u=c[0].clientY;L(()=>{if(!b.current||!y.current)return!1;if(b.current.scrollTop===0)return!0;const{top:Q,height:Y}=y.current.getBoundingClientRect();return Q+Y>u}),p(!0),g.current=u,h.current=0},C=({clientY:c})=>{$(c)},R=({touches:c})=>{!T||!B||$(c[0].clientY)},A=()=>{p(!1),N(),k()},P=()=>{p(!1),B&&k()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:j,className:`${d.overlay} ${t?d.overlayOpen:""} ${a}`,style:{transition:T?"none":"opacity 0.3s ease"},onClick:n}),e.jsxs("div",{ref:_,className:`${d.sheet} ${t?d.sheetOpen:""} ${q}`,style:{transition:T?"none":"transform 0.3s ease"},onTouchStart:F,onTouchMove:R,onTouchEnd:P,children:[e.jsx("div",{ref:y,onMouseDown:S,className:`${d.header} ${v}`,children:s||e.jsx("div",{className:d.handle})}),e.jsx("div",{ref:b,className:`${d.content} ${H}`,children:o})]})]})}const _e="_container_2e1k5_1",pe="_overlay_2e1k5_8",me="_header_2e1k5_12",fe="_filterHeader_2e1k5_19",ve="_filterTitle_2e1k5_25",je="_filterAction_2e1k5_32",ye="_content_2e1k5_36",be="_actions_2e1k5_46",i={container:_e,overlay:pe,header:me,filterHeader:fe,filterTitle:ve,filterAction:je,content:ye,actions:be},ge=document.getElementById("modals"),Te=({isOpen:t,onClose:n,children:s,title:o,clearButton:l,searchButton:a})=>O.createPortal(e.jsxs(xe,{overlayClassName:i.overlay,sheetClassName:i.container,headerClassName:i.header,header:e.jsxs("div",{className:i.filterHeader,children:[e.jsx("span",{className:i.filterTitle,children:o}),e.jsx("div",{className:i.filterAction,children:l})]}),isOpen:t,onClose:n,children:[e.jsx(M,{absolute:!0}),e.jsxs("div",{className:i.content,children:[s,e.jsx("div",{className:i.actions,children:a})]})]}),ge),ze=({isOpen:t,onClose:n})=>{const{t:s}=f(),o=()=>{n()},l=()=>{};return e.jsxs(Te,{isOpen:t,onClose:n,title:s("filter.title"),clearButton:e.jsx(z,{size:"sm",style:"white",disabled:!0,onClick:l,after:e.jsx(V,{}),children:s("filter.clear")}),searchButton:e.jsx(z,{onClick:o,after:e.jsx(ee,{}),children:s("filter.search")}),children:[e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),"Ñ‘"]})},Be=()=>{const{t}=f(),[n,s]=r.useState(!1),o=()=>{s(!0)},l=()=>{s(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(z,{size:"sm",after:e.jsx(W,{}),onClick:o,children:t("quizzes_page.search")}),e.jsx(ze,{isOpen:n,onClose:l})]})},Ne="_tabBar_np5dw_1",ke="_tabBarItem_np5dw_10",$e="_tabBarItemActive_np5dw_24",Ce="_tabBarActive_np5dw_28",m={tabBar:Ne,tabBarItem:ke,tabBarItemActive:$e,tabBarActive:Ce},Ae=({options:t,value:n,onChange:s})=>{const{t:o}=f(),l=t.findIndex(a=>a.value===n);return e.jsxs("div",{className:m.tabBar,children:[t.map(a=>e.jsx("button",{onClick:()=>s(a.value),className:D(m.tabBarItem,a.value===n&&m.tabBarItemActive),children:o(a.label)},a.value)),e.jsx("div",{className:m.tabBarActive,children:e.jsx("span",{style:{transform:`translateX(${l*100}%)`}})})]})},Ee="_container_q1gzs_1",Ie="_tabBar_q1gzs_10",I={container:Ee,tabBar:Ie},we=[{label:"quizzes_page.tab.public",value:"public"},{label:"quizzes_page.tab.my",value:"my"},{label:"quizzes_page.tab.friends",value:"friends"}];function Le(){const{t}=f(),[n,s]=r.useState({type:"public"}),{isLoading:o,data:l}=J(n);return e.jsxs(G,{children:[e.jsx(re,{title:t("quizzes_page.title"),actions:e.jsx(Be,{})}),e.jsxs("div",{className:I.container,children:[e.jsx("div",{className:I.tabBar,children:e.jsx(Ae,{value:n.type,options:we,onChange:a=>{s(v=>({...v,type:a}))}})}),e.jsx(K,{data:l,isLoading:o})]})]})}export{Le as default};
