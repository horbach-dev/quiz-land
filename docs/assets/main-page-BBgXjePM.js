import{c as n,a as u,v as d,u as _,r as m,j as s,B as c,S as h,K as j,A as x,C as p,P as S}from"./index-DG1__StV.js";import{S as q}from"./SectionHeader-PoBU_nAM.js";import{u as v,Q as y}from"./useQuizListQuery-CcNg4-8T.js";const z=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],o=n("chevron-right",z);const f=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g=n("circle-user-round",f);const N=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],L=n("square-pen",N),w=async e=>(await u.get(`/user/${e.id}`)).data;function D(){const{tgWebAppData:e}=d(),t={id:String(e?.user?.id||""),language:e?.user?.language_code||"ru",first_name:e?.user?.first_name||"",last_name:e?.user?.last_name||"",username:e?.user?.username||"",avatar:e?.user?.photo_url||""};return _({queryKey:["getUserData",t.id],queryFn:()=>w(t),refetchOnMount:!1})}const I="_avatar_gqlys_1",k={avatar:I},A=({image:e})=>{const[t,l]=m.useState(!1);return s.jsxs("div",{className:k.avatar,children:[(!t||!e)&&s.jsx(g,{}),e&&s.jsx("img",{src:e,alt:"avatar",style:{opacity:t?1:0},onLoad:()=>l(!0)})]})},b="_userWelcome_1hj2l_1",B="_userInfo_1hj2l_6",C="_welcome_1hj2l_13",Q="_welcomeDesc_1hj2l_23",U="_userStatistic_1hj2l_28",P="_userStatisticItem_1hj2l_38",W="_userStatisticBtn_1hj2l_46",a={userWelcome:b,userInfo:B,welcome:C,welcomeDesc:Q,userStatistic:U,userStatisticItem:P,userStatisticBtn:W},$=()=>{const{data:e}=D(),t=e?.first_name||e?.username;return s.jsxs("div",{className:a.userWelcome,children:[s.jsxs("div",{className:a.userInfo,children:[s.jsx(A,{image:e?.avatar}),s.jsxs("p",{className:a.welcome,children:["Привет ",t&&s.jsxs("span",{children:[t,"!"]})]}),s.jsx("p",{className:a.welcomeDesc,children:"Время создать или пройти квиз!"})]}),s.jsxs("div",{className:a.userStatistic,children:[s.jsxs("p",{className:a.userStatisticItem,children:["Пройдено ",s.jsx("br",{})," квизов",s.jsx("span",{children:e?.quizzes_completed||0})]}),s.jsxs("p",{className:a.userStatisticItem,children:["Создано ",s.jsx("br",{})," квизов",s.jsx("span",{children:e?.quizzes_created||0})]}),s.jsxs("div",{className:a.userStatisticBtn,children:[s.jsx("span",{children:"В профиль"}),s.jsx("button",{type:"button",title:"в профиль",children:s.jsx(o,{})})]})]})]})},M="Приложение для прохождения и создания квизов!",R=()=>{const e=()=>{j(x,M)};return s.jsx(c,{onClick:e,after:s.jsx(h,{}),children:"Поделиться"})},K="_quizSection_367iu_1",E="_quizList_367iu_35",H="_quizAll_367iu_40",r={quizSection:K,quizList:E,quizAll:H},F=()=>{const{data:e,isLoading:t}=v();return s.jsxs("div",{className:r.quizSection,children:[s.jsx("div",{className:r.quizList,children:s.jsx(y,{view:"column",isLoading:t,data:e})}),s.jsx("div",{className:r.quizAll,children:s.jsx(c,{to:"/quizzes",after:s.jsx(p,{}),children:"Все квизы"})})]})},O="_container_13cq9_1",G="_userData_13cq9_5",J="_actions_13cq9_9",i={container:O,userData:G,actions:J};function Y(){return s.jsx(S,{back:!1,children:s.jsxs("div",{className:i.container,children:[s.jsx("div",{className:i.userData,children:s.jsx($,{})}),s.jsxs("div",{className:i.actions,children:[s.jsx(c,{to:"/create",after:s.jsx(L,{}),children:"Создать квиз"}),s.jsx(R,{})]}),s.jsx(q,{title:"Популярные тесты",actions:s.jsx(c,{style:"white",size:"sm",to:"/quizzes",after:s.jsx(o,{color:"#333"}),children:"Cм. все"})}),s.jsx(F,{})]})})}export{Y as default};
