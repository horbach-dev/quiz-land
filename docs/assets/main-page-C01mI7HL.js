import{c as l,a as m,v as d,u as _,r as h,j as e,b as r,B as n,S as x,K as j,A as p,C as f,P as q}from"./index-qEGUONQz.js";import{S as z}from"./create-quiz-form-BsoV4I8D.js";import{u as S,Q as v}from"./useQuizListQuery-Bbb9SniV.js";const y=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],u=l("chevron-right",y);const g=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N=l("circle-user-round",g);const w=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],L=l("square-pen",w),D=async s=>(await m.get(`/user/${s.id}`)).data;function I(){const{tgWebAppData:s}=d(),t={id:String(s?.user?.id||""),language:s?.user?.language_code||"ru",first_name:s?.user?.first_name||"",last_name:s?.user?.last_name||"",username:s?.user?.username||"",avatar:s?.user?.photo_url||""};return _({queryKey:["getUserData",t.id],queryFn:()=>D(t),refetchOnMount:!1})}const k="_avatar_gqlys_1",A={avatar:k},B=({image:s})=>{const[t,c]=h.useState(!1);return e.jsxs("div",{className:A.avatar,children:[(!t||!s)&&e.jsx(N,{}),s&&e.jsx("img",{src:s,alt:"avatar",style:{opacity:t?1:0},onLoad:()=>c(!0)})]})},b="_userWelcome_1c50f_1",Q="_userInfo_1c50f_6",U="_welcome_1c50f_13",C="_welcomeDesc_1c50f_24",P="_userStatistic_1c50f_29",W="_userStatisticItem_1c50f_43",$="_userStatisticBtn_1c50f_51",a={userWelcome:b,userInfo:Q,welcome:U,welcomeDesc:C,userStatistic:P,userStatisticItem:W,userStatisticBtn:$},M=()=>{const{t:s}=r(),{data:t}=I(),c=t?.first_name||t?.username;return e.jsxs("div",{className:a.userWelcome,children:[e.jsxs("div",{className:a.userInfo,children:[e.jsx(B,{image:t?.avatar}),e.jsxs("p",{className:a.welcome,children:[s("welcome.hello")," ",c&&e.jsxs("span",{children:[c,"!"]})]}),e.jsx("p",{className:a.welcomeDesc,children:s("welcome.description")})]}),e.jsxs("div",{className:a.userStatistic,children:[e.jsxs("p",{className:a.userStatisticItem,children:[s("welcome.completed"),e.jsx("span",{children:t?.quizzes_completed||0})]}),e.jsxs("p",{className:a.userStatisticItem,children:[s("welcome.created"),e.jsx("span",{children:t?.quizzes_created||0})]}),e.jsxs("div",{className:a.userStatisticBtn,children:[e.jsx("span",{children:s("welcome.to_profile")}),e.jsx("button",{type:"button",title:"в профиль",children:e.jsx(u,{})})]})]})]})},R="Приложение для прохождения и создания квизов!",K=()=>{const{t:s}=r(),t=()=>{j(p,R)};return e.jsx(n,{onClick:t,after:e.jsx(x,{}),children:s("common.share")})},E="_quizSection_367iu_1",H="_quizList_367iu_35",F="_quizAll_367iu_40",i={quizSection:E,quizList:H,quizAll:F},O=()=>{const{t:s}=r(),{data:t,isLoading:c}=S();return e.jsxs("div",{className:i.quizSection,children:[e.jsx("div",{className:i.quizList,children:e.jsx(v,{view:"column",isLoading:c,data:t})}),e.jsx("div",{className:i.quizAll,children:e.jsx(n,{to:"/quizzes",after:e.jsx(f,{}),children:s("common.all_quizzes")})})]})},T="_container_13cq9_1",G="_userData_13cq9_5",J="_actions_13cq9_9",o={container:T,userData:G,actions:J};function Z(){const{t:s}=r();return e.jsx(q,{back:!1,children:e.jsxs("div",{className:o.container,children:[e.jsx("div",{className:o.userData,children:e.jsx(M,{})}),e.jsxs("div",{className:o.actions,children:[e.jsx(n,{to:"/create",after:e.jsx(L,{}),children:s("common.create")}),e.jsx(K,{})]}),e.jsx(z,{title:s("main_page.popular"),actions:e.jsx(n,{style:"white",size:"sm",to:"/quizzes",after:e.jsx(u,{color:"#333"}),children:s("main_page.more")})}),e.jsx(O,{})]})})}export{Z as default};
