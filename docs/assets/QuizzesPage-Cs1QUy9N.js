import{c as E,r,m as I,j as e,o as q,B as g,i as M,P as D}from"./index-B7p0B3Mk.js";import{u as G,Q as J}from"./useQuizListQuery-DL28qb2i.js";import{S as K}from"./SectionHeader-i1OBe0xe.js";import{T as U}from"./trash-2-CRPt547V.js";const V=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],X=E("funnel",V);const W=[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Z=E("search-check",W),ee="_header_1uldu_1",te="_content_1uldu_10",z={header:ee,content:te},ne=document.getElementById("header"),se=({actions:t,title:n})=>{const s=r.useRef(null);return r.useLayoutEffect(()=>{s?.current?.offsetHeight&&document.documentElement.style.setProperty("--quizzes-page-header-height",s.current.offsetHeight+"px")},[]),I.createPortal(e.jsx("div",{ref:s,className:z.header,children:e.jsx("div",{className:z.content,children:e.jsx(K,{title:n,actions:t})})}),ne)};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("._overlay_ued7t_1{position:fixed;inset:0;background:#00000080;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}._overlayOpen_ued7t_11{opacity:1;pointer-events:all}._sheet_ued7t_16{position:fixed;left:0;right:0;bottom:0;max-height:calc(100vh - 32px);background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -2px 12px #00000026;display:flex;flex-direction:column;z-index:20;transform:translateY(100%);touch-action:none}._sheetOpen_ued7t_33{transform:translateY(0)}._header_ued7t_37{padding:16px;border-bottom:1px solid #eee;text-align:center;cursor:grab;-webkit-user-select:none;user-select:none}._handle_ued7t_45{width:50px;height:4px;background:#ccc;border-radius:4px;margin:0 auto}._content_ued7t_53{overflow-y:auto;flex:1}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const re="_overlay_ued7t_1",ae="_overlayOpen_ued7t_11",ce="_sheet_ued7t_16",oe="_sheetOpen_ued7t_33",le="_header_ued7t_37",ie="_handle_ued7t_45",de="_content_ued7t_53",i={overlay:re,overlayOpen:ae,sheet:ce,sheetOpen:oe,header:le,handle:ie,content:de},ue=120;function he({isOpen:t,onClose:n,header:s,children:o,threshold:a=ue,overlayClassName:u="",headerClassName:w="",sheetClassName:O="",contentClassName:H=""}){const f=r.useRef(null),v=r.useRef(null),_=r.useRef(null),j=r.useRef(null),y=r.useRef(0),h=r.useRef(0),[b,p]=r.useState(!1),[T,L]=r.useState(!1);r.useEffect(()=>(t?(x(0),document.body.style.overflow="hidden"):(x(100),document.body.style.overflow=""),()=>{document.body.style.overflow="",B()}),[t]);const B=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",C)},N=()=>{h.current>a?(x(100),n()):x(0),h.current=0},k=c=>{const d=c-y.current;d>0&&(h.current=d,x(d/(_.current?.offsetHeight||0)*100))},x=c=>{_.current&&f.current&&(f.current.style.opacity=`${1-c/100}`,_.current.style.transform=`translateY(${c}%)`)},S=({clientY:c})=>{p(!0),y.current=c,h.current=0,document.addEventListener("mousemove",$),document.addEventListener("mouseup",C)},F=({touches:c})=>{const d=c[0].clientY;L(()=>{if(!j.current||!v.current)return!1;if(j.current.scrollTop===0)return!0;const{top:Q,height:Y}=v.current.getBoundingClientRect();return Q+Y>d}),p(!0),y.current=d,h.current=0},$=({clientY:c})=>{k(c)},R=({touches:c})=>{!b||!T||k(c[0].clientY)},C=()=>{p(!1),B(),N()},P=()=>{p(!1),T&&N()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:f,className:`${i.overlay} ${t?i.overlayOpen:""} ${u}`,style:{transition:b?"none":"opacity 0.3s ease"},onClick:n}),e.jsxs("div",{ref:_,className:`${i.sheet} ${t?i.sheetOpen:""} ${O}`,style:{transition:b?"none":"transform 0.3s ease"},onTouchStart:F,onTouchMove:R,onTouchEnd:P,children:[e.jsx("div",{ref:v,onMouseDown:S,className:`${i.header} ${w}`,children:s||e.jsx("div",{className:i.handle})}),e.jsx("div",{ref:j,className:`${i.content} ${H}`,children:o})]})]})}const xe="_container_2e1k5_1",_e="_overlay_2e1k5_8",pe="_header_2e1k5_12",me="_filterHeader_2e1k5_19",fe="_filterTitle_2e1k5_25",ve="_filterAction_2e1k5_32",je="_content_2e1k5_36",ye="_actions_2e1k5_46",l={container:xe,overlay:_e,header:pe,filterHeader:me,filterTitle:fe,filterAction:ve,content:je,actions:ye},be=document.getElementById("modals"),ge=({isOpen:t,onClose:n,children:s,title:o,clearButton:a,searchButton:u})=>I.createPortal(e.jsxs(he,{overlayClassName:l.overlay,sheetClassName:l.container,headerClassName:l.header,header:e.jsxs("div",{className:l.filterHeader,children:[e.jsx("span",{className:l.filterTitle,children:o}),e.jsx("div",{className:l.filterAction,children:a})]}),isOpen:t,onClose:n,children:[e.jsx(q,{absolute:!0}),e.jsxs("div",{className:l.content,children:[s,e.jsx("div",{className:l.actions,children:u})]})]}),be),Te=({isOpen:t,onClose:n})=>{const s=()=>{n()},o=()=>{};return e.jsxs(ge,{isOpen:t,onClose:n,title:"Поиск квизов",clearButton:e.jsx(g,{size:"sm",style:"white",disabled:!0,onClick:o,after:e.jsx(U,{}),children:"Очистить"}),searchButton:e.jsx(g,{onClick:s,after:e.jsx(Z,{}),children:"Поиск"}),children:[e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),"ё"]})},Be=()=>{const[t,n]=r.useState(!1),s=()=>{n(!0)},o=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(g,{size:"sm",after:e.jsx(X,{}),onClick:s,children:"Поиск"}),e.jsx(Te,{isOpen:t,onClose:o})]})},Ne="_tabBar_np5dw_1",ke="_tabBarItem_np5dw_10",$e="_tabBarItemActive_np5dw_24",Ce="_tabBarActive_np5dw_28",m={tabBar:Ne,tabBarItem:ke,tabBarItemActive:$e,tabBarActive:Ce},ze=({options:t,value:n,onChange:s})=>{const o=t.findIndex(a=>a.value===n);return e.jsxs("div",{className:m.tabBar,children:[t.map(a=>e.jsx("button",{onClick:()=>s(a.value),className:M(m.tabBarItem,a.value===n&&m.tabBarItemActive),children:a.label},a.value)),e.jsx("div",{className:m.tabBarActive,children:e.jsx("span",{style:{transform:`translateX(${o*100}%)`}})})]})},Ae="_container_1habn_1",Ee="_tabBar_1habn_9",A={container:Ae,tabBar:Ee},Ie=[{label:"Публичные",value:"public"},{label:"Личные",value:"my"},{label:"Друзей",value:"friends"}];function Se(){const[t,n]=r.useState({type:"public"}),{isLoading:s,data:o}=G(t);return e.jsxs(D,{children:[e.jsx(se,{title:"Библиотека квизов",actions:e.jsx(Be,{})}),e.jsxs("div",{className:A.container,children:[e.jsx("div",{className:A.tabBar,children:e.jsx(ze,{value:t.type,options:Ie,onChange:a=>{n(u=>({...u,type:a}))}})}),e.jsx(J,{data:o,isLoading:s})]})]})}export{Se as default};
