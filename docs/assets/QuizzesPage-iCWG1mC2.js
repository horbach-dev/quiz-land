import{k as Q,h as r,z as q,q as w,m as e,o as P,B as D,P as M}from"./index-BFbNsw8I.js";import{B as L}from"./Button-0pbGY_Fd.js";import{S as G,I as i,Q as J}from"./iq-CNkObZ9Z.js";const K=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],U=Q("funnel",K);const V=[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],W=Q("search-check",V),X=(t,n=500)=>{let s=!0;return(...o)=>{s&&(t(...o),s=!1,setTimeout(()=>{s=!0,t(...o)},n))}},Z=()=>{const[t,n]=r.useState(0);return r.useEffect(()=>{const s=X(()=>n(window.pageYOffset),300);return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]),t},ee="_header_1567c_1",te="_content_1567c_10",ne="_headerFill_1567c_22",z={header:ee,content:te,headerFill:ne},se=document.getElementById("header"),re=({actions:t,title:n})=>{const s=q(a=>a.safeArea.top),o=Z();return w.createPortal(e.jsx("div",{className:z.header,children:e.jsx("div",{style:{padding:`calc(${s}px + var(--default-padding)) var(--default-padding) 0`},className:P(z.content,o>20&&z.headerFill),children:e.jsx(G,{title:n,actions:t})})}),se)},ce="_container_8kzfo_1",oe={container:ce};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("._overlay_ued7t_1{position:fixed;inset:0;background:#00000080;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}._overlayOpen_ued7t_11{opacity:1;pointer-events:all}._sheet_ued7t_16{position:fixed;left:0;right:0;bottom:0;max-height:calc(100vh - 32px);background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -2px 12px #00000026;display:flex;flex-direction:column;z-index:20;transform:translateY(100%);touch-action:none}._sheetOpen_ued7t_33{transform:translateY(0)}._header_ued7t_37{padding:16px;border-bottom:1px solid #eee;text-align:center;cursor:grab;-webkit-user-select:none;user-select:none}._handle_ued7t_45{width:50px;height:4px;background:#ccc;border-radius:4px;margin:0 auto}._content_ued7t_53{overflow-y:auto;flex:1}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const ie="_overlay_ued7t_1",ae="_overlayOpen_ued7t_11",le="_sheet_ued7t_16",de="_sheetOpen_ued7t_33",ue="_header_ued7t_37",he="_handle_ued7t_45",xe="_content_ued7t_53",d={overlay:ie,overlayOpen:ae,sheet:le,sheetOpen:de,header:ue,handle:he,content:xe},pe=120;function me({isOpen:t,onClose:n,header:s,children:o,threshold:a=pe,overlayClassName:u="",headerClassName:p="",sheetClassName:y="",contentClassName:g=""}){const l=r.useRef(null),m=r.useRef(null),h=r.useRef(null),T=r.useRef(null),k=r.useRef(0),_=r.useRef(0),[b,v]=r.useState(!1),[$,O]=r.useState(!1);r.useEffect(()=>(t?(f(0),document.body.style.overflow="hidden"):(f(100),document.body.style.overflow=""),()=>{document.body.style.overflow="",N()}),[t]);const N=()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",E)},C=()=>{_.current>a?(f(100),n()):f(0),_.current=0},I=c=>{const x=c-k.current;x>0&&(_.current=x,f(x/(h.current?.offsetHeight||0)*100))},f=c=>{h.current&&l.current&&(l.current.style.opacity=`${1-c/100}`,h.current.style.transform=`translateY(${c}%)`)},F=({clientY:c})=>{v(!0),k.current=c,_.current=0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",E)},R=({touches:c})=>{const x=c[0].clientY;O(()=>{if(!T.current||!m.current)return!1;if(T.current.scrollTop===0)return!0;const{top:B,height:H}=m.current.getBoundingClientRect();return B+H>x}),v(!0),k.current=x,_.current=0},S=({clientY:c})=>{I(c)},Y=({touches:c})=>{!b||!$||I(c[0].clientY)},E=()=>{v(!1),N(),C()},A=()=>{v(!1),$&&C()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,className:`${d.overlay} ${t?d.overlayOpen:""} ${u}`,style:{transition:b?"none":"opacity 0.3s ease"},onClick:n}),e.jsxs("div",{ref:h,className:`${d.sheet} ${t?d.sheetOpen:""} ${y}`,style:{transition:b?"none":"transform 0.3s ease"},onTouchStart:R,onTouchMove:Y,onTouchEnd:A,children:[e.jsx("div",{ref:m,onMouseDown:F,className:`${d.header} ${p}`,children:s||e.jsx("div",{className:d.handle})}),e.jsx("div",{ref:T,className:`${d.content} ${g}`,children:o})]})]})}const _e="_container_1bac6_1",fe="_overlay_1bac6_8",je="_header_1bac6_12",ve="_content_1bac6_18",ye="_actions_1bac6_28",j={container:_e,overlay:fe,header:je,content:ve,actions:ye},ge=document.getElementById("modals"),Te=({isOpen:t,onClose:n,children:s,actions:o})=>{const{top:a,bottom:u}=q(p=>p.safeArea);return w.createPortal(e.jsxs(me,{overlayClassName:j.overlay,sheetClassName:j.container,headerClassName:j.header,isOpen:t,onClose:n,children:[e.jsx(D,{absolute:!0}),e.jsxs("div",{style:{maxHeight:`calc(100vh - ${a+50}px)`},className:j.content,children:[s,e.jsx("div",{style:{bottom:u,marginTop:`calc(var(--default-padding) + ${u}px)`},className:j.actions,children:o})]})]}),ge)},ke=({isOpen:t,onClose:n})=>{const s=()=>{n()};return e.jsxs(Te,{isOpen:t,onClose:n,actions:e.jsx(L,{onClick:s,after:e.jsx(W,{}),children:"Поиск"}),children:[e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"})]})},be=[{id:1,title:"IQ тест",image:i,link:"/quiz/1"},{id:2,title:"IQ тест",image:i,link:"/quiz/1"},{id:3,title:"Тест на уровень лени",image:i,link:"/quiz/1"},{id:4,title:"IQ тест",image:i,link:"/quiz/1"},{id:5,title:"IQ тест",image:i,link:"/quiz/1"},{id:6,title:"IQ тест",image:i,link:"/quiz/1"},{id:7,title:"IQ тест",image:i,link:"/quiz/1"},{id:8,title:"IQ тест",image:i,link:"/quiz/1"},{id:9,title:"IQ тест",image:i,link:"/quiz/1"},{id:10,title:"IQ тест",image:i,link:"/quiz/1"}];function Ce(){const[t,n]=r.useState(!1),[s,o]=r.useState(!1),[a,u]=r.useState(be),p=()=>{n(!0)},y=()=>{n(!1)},g=()=>{a.length>50||(o(!0),u(l=>[...l,...l.map((m,h)=>({...m,id:l[l.length-1].id+1+h}))]),setTimeout(()=>{o(!1)},100))};return e.jsxs(M,{children:[e.jsx(re,{title:"Библиотека квизов",actions:e.jsx(L,{size:"sm",after:e.jsx(U,{}),onClick:p,children:"Поиск"})}),e.jsx("div",{className:oe.container,children:e.jsx(J,{data:a,isLoading:s,handleLoadMore:g})}),e.jsx(ke,{isOpen:t,onClose:y})]})}export{Ce as default};
