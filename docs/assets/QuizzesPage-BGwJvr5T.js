import{c as w,r,n as L,j as e,h as M,o as D,b as v,B as k,T as U,l as G,d as J,P as K,Q as V,e as X,f as W}from"./index-BJyWP586.js";const Z=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ee=w("funnel",Z);const te=[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],se=w("search-check",te),ae="_header_1uldu_1",ne="_content_1uldu_10",I={header:ae,content:ne},re=document.getElementById("header"),ce=({actions:s,title:a})=>{const n=r.useRef(null);return r.useLayoutEffect(()=>{n?.current?.offsetHeight&&document.documentElement.style.setProperty("--quizzes-page-header-height",n.current.offsetHeight+"px")},[]),L.createPortal(e.jsx("div",{ref:n,className:I.header,children:e.jsx("div",{className:I.content,children:e.jsx(M,{title:a,actions:s})})}),re)};(function(){try{if(typeof document<"u"){var s=document.createElement("style");s.appendChild(document.createTextNode("._overlay_ued7t_1{position:fixed;inset:0;background:#00000080;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}._overlayOpen_ued7t_11{opacity:1;pointer-events:all}._sheet_ued7t_16{position:fixed;left:0;right:0;bottom:0;max-height:calc(100vh - 32px);background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -2px 12px #00000026;display:flex;flex-direction:column;z-index:20;transform:translateY(100%);touch-action:none}._sheetOpen_ued7t_33{transform:translateY(0)}._header_ued7t_37{padding:16px;border-bottom:1px solid #eee;text-align:center;cursor:grab;-webkit-user-select:none;user-select:none}._handle_ued7t_45{width:50px;height:4px;background:#ccc;border-radius:4px;margin:0 auto}._content_ued7t_53{overflow-y:auto;flex:1}")),document.head.appendChild(s)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();const oe="_overlay_ued7t_1",le="_overlayOpen_ued7t_11",ie="_sheet_ued7t_16",de="_sheetOpen_ued7t_33",ue="_header_ued7t_37",he="_handle_ued7t_45",_e="_content_ued7t_53",d={overlay:oe,overlayOpen:le,sheet:ie,sheetOpen:de,header:ue,handle:he,content:_e},xe=120;function pe({isOpen:s,onClose:a,header:n,children:o,threshold:l=xe,overlayClassName:t="",headerClassName:j="",sheetClassName:O="",contentClassName:H=""}){const y=r.useRef(null),b=r.useRef(null),p=r.useRef(null),g=r.useRef(null),N=r.useRef(0),h=r.useRef(0),[T,m]=r.useState(!1),[z,S]=r.useState(!1);r.useEffect(()=>(s?(_(0),document.body.style.overflow="hidden"):(_(100),document.body.style.overflow=""),()=>{document.body.style.overflow="",B()}),[s]);const B=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",E)},$=()=>{h.current>l?(_(100),a()):_(0),h.current=0},C=c=>{const u=c-N.current;u>0&&(h.current=u,_(u/(p.current?.offsetHeight||0)*100))},_=c=>{p.current&&y.current&&(y.current.style.opacity=`${1-c/100}`,p.current.style.transform=`translateY(${c}%)`)},q=({clientY:c})=>{m(!0),N.current=c,h.current=0,document.addEventListener("mousemove",A),document.addEventListener("mouseup",E)},R=({touches:c})=>{const u=c[0].clientY;S(()=>{if(!g.current||!b.current)return!1;if(g.current.scrollTop===0)return!0;const{top:P,height:Y}=b.current.getBoundingClientRect();return P+Y>u}),m(!0),N.current=u,h.current=0},A=({clientY:c})=>{C(c)},F=({touches:c})=>{!T||!z||C(c[0].clientY)},E=()=>{m(!1),B(),$()},Q=()=>{m(!1),z&&$()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:y,className:`${d.overlay} ${s?d.overlayOpen:""} ${t}`,style:{transition:T?"none":"opacity 0.3s ease"},onClick:a}),e.jsxs("div",{ref:p,className:`${d.sheet} ${s?d.sheetOpen:""} ${O}`,style:{transition:T?"none":"transform 0.3s ease"},onTouchStart:R,onTouchMove:F,onTouchEnd:Q,children:[e.jsx("div",{ref:b,onMouseDown:q,className:`${d.header} ${j}`,children:n||e.jsx("div",{className:d.handle})}),e.jsx("div",{ref:g,className:`${d.content} ${H}`,children:o})]})]})}const me="_container_2e1k5_1",fe="_overlay_2e1k5_8",ve="_header_2e1k5_12",je="_filterHeader_2e1k5_19",ye="_filterTitle_2e1k5_25",be="_filterAction_2e1k5_32",ge="_content_2e1k5_36",Ne="_actions_2e1k5_46",i={container:me,overlay:fe,header:ve,filterHeader:je,filterTitle:ye,filterAction:be,content:ge,actions:Ne},Te=document.getElementById("modals"),ke=({isOpen:s,onClose:a,children:n,title:o,clearButton:l,searchButton:t})=>L.createPortal(e.jsxs(pe,{overlayClassName:i.overlay,sheetClassName:i.container,headerClassName:i.header,header:e.jsxs("div",{className:i.filterHeader,children:[e.jsx("span",{className:i.filterTitle,children:o}),e.jsx("div",{className:i.filterAction,children:l})]}),isOpen:s,onClose:a,children:[e.jsx(D,{absolute:!0}),e.jsxs("div",{className:i.content,children:[n,e.jsx("div",{className:i.actions,children:t})]})]}),Te),ze=({isOpen:s,onClose:a})=>{const{t:n}=v(),o=()=>{a()},l=()=>{};return e.jsxs(ke,{isOpen:s,onClose:a,title:n("filter.title"),clearButton:e.jsx(k,{size:"sm",style:"white",disabled:!0,onClick:l,after:e.jsx(U,{}),children:n("filter.clear")}),searchButton:e.jsx(k,{onClick:o,after:e.jsx(se,{}),children:n("filter.search")}),children:[e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),"Ñ‘"]})},Be=()=>{const{t:s}=v(),[a,n]=r.useState(!1),o=()=>{n(!0)},l=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(k,{size:"sm",after:e.jsx(ee,{}),onClick:o,children:s("quizzes_page.search")}),e.jsx(ze,{isOpen:a,onClose:l})]})},$e="_tabBar_np5dw_1",Ce="_tabBarItem_np5dw_10",Ae="_tabBarItemActive_np5dw_24",Ee="_tabBarActive_np5dw_28",f={tabBar:$e,tabBarItem:Ce,tabBarItemActive:Ae,tabBarActive:Ee},Ie=({options:s,value:a,onChange:n})=>{const{t:o}=v(),l=s.findIndex(t=>t.value===a);return e.jsxs("div",{className:f.tabBar,children:[s.map(t=>e.jsx("button",{onClick:()=>n(t.value),className:G(f.tabBarItem,t.value===a&&f.tabBarItemActive),children:o(t.label)},t.value)),e.jsx("div",{className:f.tabBarActive,children:e.jsx("span",{style:{transform:`translateX(${l*100}%)`}})})]})},we="_container_18761_1",Le="_tabBar_18761_10",Oe="_author_18761_15",He="_authorAvatar_18761_21",Se="_authorNick_18761_28",x={container:we,tabBar:Le,author:Oe,authorAvatar:He,authorNick:Se},qe=[{label:"quizzes_page.tab.public",value:"public"},{label:"quizzes_page.tab.my",value:"my"},{label:"quizzes_page.tab.shared",value:"shared"}];function Fe(){const{t:s}=v(),[a,n]=r.useState({type:"public"}),{isLoading:o,data:l}=J(a);return e.jsxs(K,{children:[e.jsx(ce,{title:s("quizzes_page.title"),actions:e.jsx(Be,{})}),e.jsxs("div",{className:x.container,children:[e.jsx("div",{className:x.tabBar,children:e.jsx(Ie,{value:a.type,options:qe,onChange:t=>{n(j=>({...j,type:t}))}})}),e.jsx(V,{data:l,isLoading:o,renderItem:t=>e.jsx(X,{image:W+t.poster,title:t.title,link:`quiz/${t.id}`,actions:t?.author&&e.jsxs("div",{className:x.author,children:[e.jsx("img",{src:t.author.avatar,className:x.authorAvatar,alt:t.author.username}),e.jsx("p",{className:x.authorNick,children:t.author.username})]})},t.id)})]})]})}export{Fe as default};
