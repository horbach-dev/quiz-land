import{l as e,m as i,h as l,z as g}from"./index-6qqa497Q.js";import"./Button-zRj96etr.js";const j="_container_aczj3_1",v="_title_aczj3_9",h="_actions_aczj3_14",m={container:j,title:v,actions:h},b=({title:n,actions:s,className:t})=>e.jsxs("div",{className:i(m.container,t),children:[e.jsx("p",{className:m.title,children:n}),e.jsx("div",{className:m.actions,children:s})]}),p="_container_1a7ev_1",f="_card_1a7ev_12",I="_imageWrap_1a7ev_21",N="_image_1a7ev_21",z="_imageLoaded_1a7ev_55",k="_title_1a7ev_63",S="_skeletonTitle_1a7ev_69",a={container:p,card:f,imageWrap:I,image:N,imageLoaded:z,title:k,skeletonTitle:S},u=new Set,$=({title:n,image:s})=>{const[t,c]=l.useState(u.has(s));return s?e.jsx("div",{className:i(a.image,t&&a.imageLoaded),children:e.jsx("img",{alt:n,src:s,loading:"lazy",onLoad:()=>{u.add(s),c(!0)},onError:()=>c(!1)})}):null},W=({link:n,title:s,image:t})=>e.jsxs("div",{className:i(a.container,a.card),onClick:()=>g(n),children:[e.jsx("div",{className:a.imageWrap,children:e.jsx($,{title:s,image:t})}),e.jsx("p",{className:a.title,children:s})]}),_=()=>e.jsxs("div",{className:i(a.container,a.skeleton),children:[e.jsx("div",{className:a.imageWrap}),e.jsx("p",{className:i(a.title,a.skeletonTitle),children:"."})]});function w(n={threshold:.1}){const s=l.useRef(null),[t,c]=l.useState(!1);return l.useEffect(()=>{const o=s.current;if(!o)return;const d=new IntersectionObserver(r=>c(r[0]?.isIntersecting??!1),n);return d.observe(o),()=>d.disconnect()},[n]),{ref:s,isIntersecting:t}}const E=({children:n,onVisible:s})=>{const{ref:t,isIntersecting:c}=w();return l.useEffect(()=>{c&&s()},[c,s]),e.jsx("div",{ref:t,children:n})},L="_container_qp318_1",x={container:L,"container-row":"_container-row_qp318_6","container-column":"_container-column_qp318_10"},q=({view:n="column",data:s,handleLoadMore:t,isLoading:c,isLoadingMore:o})=>{const d=c&&!s?.length||o;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:i(x.container,x[`container-${n}`]),children:[s?.map(r=>e.jsx(W,{image:r.image,title:r.title,link:`quiz/${r.id}`},r.id)),d&&e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx(_,{}),e.jsx(_,{}),e.jsx(_,{})]})]}),t&&!c&&s?.length>0&&!o&&e.jsx(E,{onVisible:t})]})};export{q as Q,b as S};
