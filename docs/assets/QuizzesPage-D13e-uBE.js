import{k as $,h as s,l as e,o as L,B as F,P}from"./index-CeIQPOT4.js";import{B as N}from"./Button-Dr5HzPIe.js";import{S as Y,I as c,Q as D}from"./iq-3Ytg8wEP.js";const V=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],G=$("funnel",V);const J=[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],K=$("search-check",J);const U=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],W=$("trash-2",U);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode("._overlay_ued7t_1{position:fixed;inset:0;background:#00000080;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}._overlayOpen_ued7t_11{opacity:1;pointer-events:all}._sheet_ued7t_16{position:fixed;left:0;right:0;bottom:0;max-height:calc(100vh - 32px);background:#fff;border-top-left-radius:16px;border-top-right-radius:16px;box-shadow:0 -2px 12px #00000026;display:flex;flex-direction:column;z-index:20;transform:translateY(100%);touch-action:none}._sheetOpen_ued7t_33{transform:translateY(0)}._header_ued7t_37{padding:16px;border-bottom:1px solid #eee;text-align:center;cursor:grab;-webkit-user-select:none;user-select:none}._handle_ued7t_45{width:50px;height:4px;background:#ccc;border-radius:4px;margin:0 auto}._content_ued7t_53{overflow-y:auto;flex:1}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const X="_overlay_ued7t_1",Z="_overlayOpen_ued7t_11",ee="_sheet_ued7t_16",te="_sheetOpen_ued7t_33",ne="_header_ued7t_37",se="_handle_ued7t_45",re="_content_ued7t_53",d={overlay:X,overlayOpen:Z,sheet:ee,sheetOpen:te,header:ne,handle:se,content:re},ie=120;function ce({isOpen:t,onClose:n,header:i,children:o,threshold:u=ie,overlayClassName:p="",headerClassName:y="",sheetClassName:v="",contentClassName:T=""}){const a=s.useRef(null),m=s.useRef(null),h=s.useRef(null),g=s.useRef(null),k=s.useRef(0),_=s.useRef(0),[z,j]=s.useState(!1),[b,S]=s.useState(!1);s.useEffect(()=>(t?(f(0),document.body.style.overflow="hidden"):(f(100),document.body.style.overflow=""),()=>{document.body.style.overflow="",C()}),[t]);const C=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",E)},I=()=>{_.current>u?(f(100),n()):f(0),_.current=0},Q=r=>{const x=r-k.current;x>0&&(_.current=x,f(x/(h.current?.offsetHeight||0)*100))},f=r=>{h.current&&a.current&&(a.current.style.opacity=`${1-r/100}`,h.current.style.transform=`translateY(${r}%)`)},O=({clientY:r})=>{j(!0),k.current=r,_.current=0,document.addEventListener("mousemove",q),document.addEventListener("mouseup",E)},w=({touches:r})=>{const x=r[0].clientY;S(()=>{if(!g.current||!m.current)return!1;if(g.current.scrollTop===0)return!0;const{top:M,height:A}=m.current.getBoundingClientRect();return M+A>x}),j(!0),k.current=x,_.current=0},q=({clientY:r})=>{Q(r)},R=({touches:r})=>{!z||!b||Q(r[0].clientY)},E=()=>{j(!1),C(),I()},B=()=>{j(!1),b&&I()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:a,className:`${d.overlay} ${t?d.overlayOpen:""} ${p}`,style:{transition:z?"none":"opacity 0.3s ease"},onClick:n}),e.jsxs("div",{ref:h,className:`${d.sheet} ${t?d.sheetOpen:""} ${v}`,style:{transition:z?"none":"transform 0.3s ease"},onTouchStart:w,onTouchMove:R,onTouchEnd:B,children:[e.jsx("div",{ref:m,onMouseDown:O,className:`${d.header} ${y}`,children:i||e.jsx("div",{className:d.handle})}),e.jsx("div",{ref:g,className:`${d.content} ${T}`,children:o})]})]})}const oe="_container_2e1k5_1",ae="_overlay_2e1k5_8",le="_header_2e1k5_12",de="_filterHeader_2e1k5_19",ue="_filterTitle_2e1k5_25",he="_filterAction_2e1k5_32",xe="_content_2e1k5_36",pe="_actions_2e1k5_46",l={container:oe,overlay:ae,header:le,filterHeader:de,filterTitle:ue,filterAction:he,content:xe,actions:pe},me=document.getElementById("modals"),_e=({isOpen:t,onClose:n,children:i,title:o,clearButton:u,searchButton:p})=>L.createPortal(e.jsxs(ce,{overlayClassName:l.overlay,sheetClassName:l.container,headerClassName:l.header,header:e.jsxs("div",{className:l.filterHeader,children:[e.jsx("span",{className:l.filterTitle,children:o}),e.jsx("div",{className:l.filterAction,children:u})]}),isOpen:t,onClose:n,children:[e.jsx(F,{absolute:!0}),e.jsxs("div",{className:l.content,children:[i,e.jsx("div",{className:l.actions,children:p})]})]}),me),fe=({isOpen:t,onClose:n})=>{const i=()=>{n()},o=()=>{};return e.jsxs(_e,{isOpen:t,onClose:n,title:"Поиск квизов",clearButton:e.jsx(N,{size:"sm",style:"white",disabled:!0,onClick:o,after:e.jsx(W,{}),children:"Очистить"}),searchButton:e.jsx(N,{onClick:i,after:e.jsx(K,{}),children:"Поиск"}),children:[e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"}),e.jsx("p",{children:"Text"})]})},je="_header_1uldu_1",ye="_content_1uldu_10",H={header:je,content:ye},ve=document.getElementById("header"),Te=({actions:t,title:n})=>{const i=s.useRef(null);return s.useLayoutEffect(()=>{i?.current?.offsetHeight&&document.documentElement.style.setProperty("--quizzes-page-header-height",i.current.offsetHeight+"px")},[]),L.createPortal(e.jsx("div",{ref:i,className:H.header,children:e.jsx("div",{className:H.content,children:e.jsx(Y,{title:n,actions:t})})}),ve)},ge="_container_1gyey_1",ke={container:ge},ze=[{id:1,title:"IQ тест",image:c,link:"/quiz/1"},{id:2,title:"IQ тест",image:c,link:"/quiz/1"},{id:3,title:"Тест на уровень лени",image:c,link:"/quiz/1"},{id:4,title:"IQ тест",image:c,link:"/quiz/1"},{id:5,title:"IQ тест",image:c,link:"/quiz/1"},{id:6,title:"IQ тест",image:c,link:"/quiz/1"},{id:7,title:"IQ тест",image:c,link:"/quiz/1"},{id:8,title:"IQ тест",image:c,link:"/quiz/1"},{id:9,title:"IQ тест",image:c,link:"/quiz/1"},{id:10,title:"IQ тест",image:c,link:"/quiz/1"}];function Ce(){const[t,n]=s.useState(!1),[i,o]=s.useState(!1),[u,p]=s.useState(ze),y=()=>{n(!0)},v=()=>{n(!1)},T=()=>{u.length>50||(o(!0),p(a=>[...a,...a.map((m,h)=>({...m,id:a[a.length-1].id+1+h}))]),setTimeout(()=>{o(!1)},100))};return e.jsxs(P,{children:[e.jsx(Te,{title:"Библиотека квизов",actions:e.jsx(N,{size:"sm",after:e.jsx(G,{}),onClick:y,children:"Поиск"})}),e.jsx("div",{className:ke.container,children:e.jsx(D,{data:u,isLoading:i,handleLoadMore:T})}),e.jsx(fe,{isOpen:t,onClose:v})]})}export{Ce as default};
